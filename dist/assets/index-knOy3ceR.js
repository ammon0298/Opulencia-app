var i5=Object.defineProperty;var a5=(e,t,n)=>t in e?i5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Rm=(e,t,n)=>a5(e,typeof t!="symbol"?t+"":t,n);function o5(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function kr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function s5(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Pm={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZS;function l5(){if(ZS)return Yl;ZS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:o}}return Yl.Fragment=t,Yl.jsx=n,Yl.jsxs=n,Yl}var QS;function u5(){return QS||(QS=1,Pm.exports=l5()),Pm.exports}var p=u5(),Om={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE;function c5(){if(eE)return ke;eE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=y&&V[y]||V["@@iterator"],typeof V=="function"?V:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function A(V,J,ce){this.props=V,this.context=J,this.refs=T,this.updater=ce||S}A.prototype.isReactComponent={},A.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},A.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function N(){}N.prototype=A.prototype;function k(V,J,ce){this.props=V,this.context=J,this.refs=T,this.updater=ce||S}var P=k.prototype=new N;P.constructor=k,E(P,A.prototype),P.isPureReactComponent=!0;var R=Array.isArray;function O(){}var B={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function D(V,J,ce){var pe=ce.ref;return{$$typeof:e,type:V,key:J,ref:pe!==void 0?pe:null,props:ce}}function G(V,J){return D(V.type,J,V.props)}function $(V){return typeof V=="object"&&V!==null&&V.$$typeof===e}function M(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ce){return J[ce]})}var U=/\/+/g;function L(V,J){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):J.toString(36)}function q(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(O,O):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function z(V,J,ce,pe,se){var de=typeof V;(de==="undefined"||de==="boolean")&&(V=null);var he=!1;if(V===null)he=!0;else switch(de){case"bigint":case"string":case"number":he=!0;break;case"object":switch(V.$$typeof){case e:case t:he=!0;break;case h:return he=V._init,z(he(V._payload),J,ce,pe,se)}}if(he)return se=se(V),he=pe===""?"."+L(V,0):pe,R(se)?(ce="",he!=null&&(ce=he.replace(U,"$&/")+"/"),z(se,J,ce,"",function(_e){return _e})):se!=null&&($(se)&&(se=G(se,ce+(se.key==null||V&&V.key===se.key?"":(""+se.key).replace(U,"$&/")+"/")+he)),J.push(se)),1;he=0;var Ie=pe===""?".":pe+":";if(R(V))for(var ie=0;ie<V.length;ie++)pe=V[ie],de=Ie+L(pe,ie),he+=z(pe,J,ce,de,se);else if(ie=b(V),typeof ie=="function")for(V=ie.call(V),ie=0;!(pe=V.next()).done;)pe=pe.value,de=Ie+L(pe,ie++),he+=z(pe,J,ce,de,se);else if(de==="object"){if(typeof V.then=="function")return z(q(V),J,ce,pe,se);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return he}function F(V,J,ce){if(V==null)return V;var pe=[],se=0;return z(V,pe,"","",function(de){return J.call(ce,de,se++)}),pe}function ne(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(ce){(V._status===0||V._status===-1)&&(V._status=1,V._result=ce)},function(ce){(V._status===0||V._status===-1)&&(V._status=2,V._result=ce)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var X=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},oe={map:F,forEach:function(V,J,ce){F(V,function(){J.apply(this,arguments)},ce)},count:function(V){var J=0;return F(V,function(){J++}),J},toArray:function(V){return F(V,function(J){return J})||[]},only:function(V){if(!$(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return ke.Activity=g,ke.Children=oe,ke.Component=A,ke.Fragment=n,ke.Profiler=i,ke.PureComponent=k,ke.StrictMode=r,ke.Suspense=d,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,ke.__COMPILER_RUNTIME={__proto__:null,c:function(V){return B.H.useMemoCache(V)}},ke.cache=function(V){return function(){return V.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(V,J,ce){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var pe=E({},V.props),se=V.key;if(J!=null)for(de in J.key!==void 0&&(se=""+J.key),J)!K.call(J,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&J.ref===void 0||(pe[de]=J[de]);var de=arguments.length-2;if(de===1)pe.children=ce;else if(1<de){for(var he=Array(de),Ie=0;Ie<de;Ie++)he[Ie]=arguments[Ie+2];pe.children=he}return D(V.type,se,pe)},ke.createContext=function(V){return V={$$typeof:l,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:o,_context:V},V},ke.createElement=function(V,J,ce){var pe,se={},de=null;if(J!=null)for(pe in J.key!==void 0&&(de=""+J.key),J)K.call(J,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(se[pe]=J[pe]);var he=arguments.length-2;if(he===1)se.children=ce;else if(1<he){for(var Ie=Array(he),ie=0;ie<he;ie++)Ie[ie]=arguments[ie+2];se.children=Ie}if(V&&V.defaultProps)for(pe in he=V.defaultProps,he)se[pe]===void 0&&(se[pe]=he[pe]);return D(V,de,se)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(V){return{$$typeof:u,render:V}},ke.isValidElement=$,ke.lazy=function(V){return{$$typeof:h,_payload:{_status:-1,_result:V},_init:ne}},ke.memo=function(V,J){return{$$typeof:f,type:V,compare:J===void 0?null:J}},ke.startTransition=function(V){var J=B.T,ce={};B.T=ce;try{var pe=V(),se=B.S;se!==null&&se(ce,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(O,X)}catch(de){X(de)}finally{J!==null&&ce.types!==null&&(J.types=ce.types),B.T=J}},ke.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},ke.use=function(V){return B.H.use(V)},ke.useActionState=function(V,J,ce){return B.H.useActionState(V,J,ce)},ke.useCallback=function(V,J){return B.H.useCallback(V,J)},ke.useContext=function(V){return B.H.useContext(V)},ke.useDebugValue=function(){},ke.useDeferredValue=function(V,J){return B.H.useDeferredValue(V,J)},ke.useEffect=function(V,J){return B.H.useEffect(V,J)},ke.useEffectEvent=function(V){return B.H.useEffectEvent(V)},ke.useId=function(){return B.H.useId()},ke.useImperativeHandle=function(V,J,ce){return B.H.useImperativeHandle(V,J,ce)},ke.useInsertionEffect=function(V,J){return B.H.useInsertionEffect(V,J)},ke.useLayoutEffect=function(V,J){return B.H.useLayoutEffect(V,J)},ke.useMemo=function(V,J){return B.H.useMemo(V,J)},ke.useOptimistic=function(V,J){return B.H.useOptimistic(V,J)},ke.useReducer=function(V,J,ce){return B.H.useReducer(V,J,ce)},ke.useRef=function(V){return B.H.useRef(V)},ke.useState=function(V){return B.H.useState(V)},ke.useSyncExternalStore=function(V,J,ce){return B.H.useSyncExternalStore(V,J,ce)},ke.useTransition=function(){return B.H.useTransition()},ke.version="19.2.3",ke}var tE;function Vs(){return tE||(tE=1,Om.exports=c5()),Om.exports}var C=Vs();const dk=kr(C),d5=o5({__proto__:null,default:dk},[C]);var Mm={exports:{}},Jl={},Dm={exports:{}},jm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE;function f5(){return nE||(nE=1,(function(e){function t(z,F){var ne=z.length;z.push(F);e:for(;0<ne;){var X=ne-1>>>1,oe=z[X];if(0<i(oe,F))z[X]=F,z[ne]=oe,ne=X;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var F=z[0],ne=z.pop();if(ne!==F){z[0]=ne;e:for(var X=0,oe=z.length,V=oe>>>1;X<V;){var J=2*(X+1)-1,ce=z[J],pe=J+1,se=z[pe];if(0>i(ce,ne))pe<oe&&0>i(se,ce)?(z[X]=se,z[pe]=ne,X=pe):(z[X]=ce,z[J]=ne,X=J);else if(pe<oe&&0>i(se,ne))z[X]=se,z[pe]=ne,X=pe;else break e}}return F}function i(z,F){var ne=z.sortIndex-F.sortIndex;return ne!==0?ne:z.id-F.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],h=1,g=null,y=3,b=!1,S=!1,E=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function P(z){for(var F=n(f);F!==null;){if(F.callback===null)r(f);else if(F.startTime<=z)r(f),F.sortIndex=F.expirationTime,t(d,F);else break;F=n(f)}}function R(z){if(E=!1,P(z),!S)if(n(d)!==null)S=!0,O||(O=!0,M());else{var F=n(f);F!==null&&q(R,F.startTime-z)}}var O=!1,B=-1,K=5,D=-1;function G(){return T?!0:!(e.unstable_now()-D<K)}function $(){if(T=!1,O){var z=e.unstable_now();D=z;var F=!0;try{e:{S=!1,E&&(E=!1,N(B),B=-1),b=!0;var ne=y;try{t:{for(P(z),g=n(d);g!==null&&!(g.expirationTime>z&&G());){var X=g.callback;if(typeof X=="function"){g.callback=null,y=g.priorityLevel;var oe=X(g.expirationTime<=z);if(z=e.unstable_now(),typeof oe=="function"){g.callback=oe,P(z),F=!0;break t}g===n(d)&&r(d),P(z)}else r(d);g=n(d)}if(g!==null)F=!0;else{var V=n(f);V!==null&&q(R,V.startTime-z),F=!1}}break e}finally{g=null,y=ne,b=!1}F=void 0}}finally{F?M():O=!1}}}var M;if(typeof k=="function")M=function(){k($)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,L=U.port2;U.port1.onmessage=$,M=function(){L.postMessage(null)}}else M=function(){A($,0)};function q(z,F){B=A(function(){z(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(z){switch(y){case 1:case 2:case 3:var F=3;break;default:F=y}var ne=y;y=F;try{return z()}finally{y=ne}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(z,F){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ne=y;y=z;try{return F()}finally{y=ne}},e.unstable_scheduleCallback=function(z,F,ne){var X=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?X+ne:X):ne=X,z){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ne+oe,z={id:h++,callback:F,priorityLevel:z,startTime:ne,expirationTime:oe,sortIndex:-1},ne>X?(z.sortIndex=ne,t(f,z),n(d)===null&&z===n(f)&&(E?(N(B),B=-1):E=!0,q(R,ne-X))):(z.sortIndex=oe,t(d,z),S||b||(S=!0,O||(O=!0,M()))),z},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(z){var F=y;return function(){var ne=y;y=F;try{return z.apply(this,arguments)}finally{y=ne}}}})(jm)),jm}var rE;function h5(){return rE||(rE=1,Dm.exports=f5()),Dm.exports}var Lm={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function p5(){if(iE)return an;iE=1;var e=Vs();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,f,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:f,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(d,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,h)},an.flushSync=function(d){var f=l.T,h=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=h,r.d.f()}},an.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},an.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},an.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var h=f.as,g=u(h,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):h==="script"&&r.d.X(d,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},an.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},an.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,g=u(h,f.crossOrigin);r.d.L(d,h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},an.preloadModule=function(d,f){if(typeof d=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},an.requestFormReset=function(d){r.d.r(d)},an.unstable_batchedUpdates=function(d,f){return d(f)},an.useFormState=function(d,f,h){return l.H.useFormState(d,f,h)},an.useFormStatus=function(){return l.H.useHostTransitionStatus()},an.version="19.2.3",an}var aE;function fk(){if(aE)return Lm.exports;aE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Lm.exports=p5(),Lm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function m5(){if(oE)return Jl;oE=1;var e=h5(),t=Vs(),n=fk();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function u(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function d(a){if(o(a)!==a)throw Error(r(188))}function f(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var c=a,m=s;;){var w=c.return;if(w===null)break;var _=w.alternate;if(_===null){if(m=w.return,m!==null){c=m;continue}break}if(w.child===_.child){for(_=w.child;_;){if(_===c)return d(w),a;if(_===m)return d(w),s;_=_.sibling}throw Error(r(188))}if(c.return!==m.return)c=w,m=_;else{for(var I=!1,j=w.child;j;){if(j===c){I=!0,c=w,m=_;break}if(j===m){I=!0,m=w,c=_;break}j=j.sibling}if(!I){for(j=_.child;j;){if(j===c){I=!0,c=_,m=w;break}if(j===m){I=!0,m=_,c=w;break}j=j.sibling}if(!I)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:s}function h(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=h(a),s!==null)return s;a=a.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),k=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function M(a){return a===null||typeof a!="object"?null:(a=$&&a[$]||a["@@iterator"],typeof a=="function"?a:null)}var U=Symbol.for("react.client.reference");function L(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===U?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case A:return"Profiler";case T:return"StrictMode";case R:return"Suspense";case O:return"SuspenseList";case D:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case k:return a.displayName||"Context";case N:return(a._context.displayName||"Context")+".Consumer";case P:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case B:return s=a.displayName||null,s!==null?s:L(a.type)||"Memo";case K:s=a._payload,a=a._init;try{return L(a(s))}catch{}}return null}var q=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},X=[],oe=-1;function V(a){return{current:a}}function J(a){0>oe||(a.current=X[oe],X[oe]=null,oe--)}function ce(a,s){oe++,X[oe]=a.current,a.current=s}var pe=V(null),se=V(null),de=V(null),he=V(null);function Ie(a,s){switch(ce(de,s),ce(se,a),ce(pe,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?wS(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=wS(s),a=_S(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}J(pe),ce(pe,a)}function ie(){J(pe),J(se),J(de)}function _e(a){a.memoizedState!==null&&ce(he,a);var s=pe.current,c=_S(s,a.type);s!==c&&(ce(se,a),ce(pe,c))}function Ce(a){se.current===a&&(J(pe),J(se)),he.current===a&&(J(he),Hl._currentValue=ne)}var fe,Ht;function Be(a){if(fe===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);fe=s&&s[1]||"",Ht=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+a+Ht}var Ft=!1;function Kt(a,s){if(!a||Ft)return"";Ft=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(re){var ee=re}Reflect.construct(a,[],ue)}else{try{ue.call()}catch(re){ee=re}a.call(ue.prototype)}}else{try{throw Error()}catch(re){ee=re}(ue=a())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(re){if(re&&ee&&typeof re.stack=="string")return[re.stack,ee.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=m.DetermineComponentFrameRoot(),I=_[0],j=_[1];if(I&&j){var H=I.split(`
`),Q=j.split(`
`);for(w=m=0;m<H.length&&!H[m].includes("DetermineComponentFrameRoot");)m++;for(;w<Q.length&&!Q[w].includes("DetermineComponentFrameRoot");)w++;if(m===H.length||w===Q.length)for(m=H.length-1,w=Q.length-1;1<=m&&0<=w&&H[m]!==Q[w];)w--;for(;1<=m&&0<=w;m--,w--)if(H[m]!==Q[w]){if(m!==1||w!==1)do if(m--,w--,0>w||H[m]!==Q[w]){var ae=`
`+H[m].replace(" at new "," at ");return a.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",a.displayName)),ae}while(1<=m&&0<=w);break}}}finally{Ft=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Be(c):""}function Wr(a,s){switch(a.tag){case 26:case 27:case 5:return Be(a.type);case 16:return Be("Lazy");case 13:return a.child!==s&&s!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return Kt(a.type,!1);case 11:return Kt(a.type.render,!1);case 1:return Kt(a.type,!0);case 31:return Be("Activity");default:return""}}function nl(a){try{var s="",c=null;do s+=Wr(a,c),c=a,a=a.return;while(a);return s}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var gp=Object.prototype.hasOwnProperty,vp=e.unstable_scheduleCallback,yp=e.unstable_cancelCallback,jD=e.unstable_shouldYield,LD=e.unstable_requestPaint,Rn=e.unstable_now,UD=e.unstable_getCurrentPriorityLevel,Qb=e.unstable_ImmediatePriority,ew=e.unstable_UserBlockingPriority,cc=e.unstable_NormalPriority,BD=e.unstable_LowPriority,tw=e.unstable_IdlePriority,$D=e.log,zD=e.unstable_setDisableYieldValue,rl=null,Pn=null;function Bi(a){if(typeof $D=="function"&&zD(a),Pn&&typeof Pn.setStrictMode=="function")try{Pn.setStrictMode(rl,a)}catch{}}var On=Math.clz32?Math.clz32:GD,qD=Math.log,VD=Math.LN2;function GD(a){return a>>>=0,a===0?32:31-(qD(a)/VD|0)|0}var dc=256,fc=262144,hc=4194304;function Ea(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function pc(a,s,c){var m=a.pendingLanes;if(m===0)return 0;var w=0,_=a.suspendedLanes,I=a.pingedLanes;a=a.warmLanes;var j=m&134217727;return j!==0?(m=j&~_,m!==0?w=Ea(m):(I&=j,I!==0?w=Ea(I):c||(c=j&~a,c!==0&&(w=Ea(c))))):(j=m&~_,j!==0?w=Ea(j):I!==0?w=Ea(I):c||(c=m&~a,c!==0&&(w=Ea(c)))),w===0?0:s!==0&&s!==w&&(s&_)===0&&(_=w&-w,c=s&-s,_>=c||_===32&&(c&4194048)!==0)?s:w}function il(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function HD(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nw(){var a=hc;return hc<<=1,(hc&62914560)===0&&(hc=4194304),a}function xp(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function al(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function FD(a,s,c,m,w,_){var I=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var j=a.entanglements,H=a.expirationTimes,Q=a.hiddenUpdates;for(c=I&~c;0<c;){var ae=31-On(c),ue=1<<ae;j[ae]=0,H[ae]=-1;var ee=Q[ae];if(ee!==null)for(Q[ae]=null,ae=0;ae<ee.length;ae++){var re=ee[ae];re!==null&&(re.lane&=-536870913)}c&=~ue}m!==0&&rw(a,m,0),_!==0&&w===0&&a.tag!==0&&(a.suspendedLanes|=_&~(I&~s))}function rw(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var m=31-On(s);a.entangledLanes|=s,a.entanglements[m]=a.entanglements[m]|1073741824|c&261930}function iw(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var m=31-On(c),w=1<<m;w&s|a[m]&s&&(a[m]|=s),c&=~w}}function aw(a,s){var c=s&-s;return c=(c&42)!==0?1:bp(c),(c&(a.suspendedLanes|s))!==0?0:c}function bp(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function wp(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ow(){var a=F.p;return a!==0?a:(a=window.event,a===void 0?32:HS(a.type))}function sw(a,s){var c=F.p;try{return F.p=a,s()}finally{F.p=c}}var $i=Math.random().toString(36).slice(2),Wt="__reactFiber$"+$i,yn="__reactProps$"+$i,So="__reactContainer$"+$i,_p="__reactEvents$"+$i,KD="__reactListeners$"+$i,WD="__reactHandles$"+$i,lw="__reactResources$"+$i,ol="__reactMarker$"+$i;function Sp(a){delete a[Wt],delete a[yn],delete a[_p],delete a[KD],delete a[WD]}function Eo(a){var s=a[Wt];if(s)return s;for(var c=a.parentNode;c;){if(s=c[So]||c[Wt]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=IS(a);a!==null;){if(c=a[Wt])return c;a=IS(a)}return s}a=c,c=a.parentNode}return null}function To(a){if(a=a[Wt]||a[So]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function sl(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function Ao(a){var s=a[lw];return s||(s=a[lw]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Dt(a){a[ol]=!0}var uw=new Set,cw={};function Ta(a,s){Co(a,s),Co(a+"Capture",s)}function Co(a,s){for(cw[a]=s,a=0;a<s.length;a++)uw.add(s[a])}var YD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dw={},fw={};function JD(a){return gp.call(fw,a)?!0:gp.call(dw,a)?!1:YD.test(a)?fw[a]=!0:(dw[a]=!0,!1)}function mc(a,s,c){if(JD(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var m=s.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function gc(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function Yr(a,s,c,m){if(m===null)a.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+m)}}function Wn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function hw(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function XD(a,s,c){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var w=m.get,_=m.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return w.call(this)},set:function(I){c=""+I,_.call(this,I)}}),Object.defineProperty(a,s,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(I){c=""+I},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Ep(a){if(!a._valueTracker){var s=hw(a)?"checked":"value";a._valueTracker=XD(a,s,""+a[s])}}function pw(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),m="";return a&&(m=hw(a)?a.checked?"true":"false":a.value),a=m,a!==c?(s.setValue(a),!0):!1}function vc(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var ZD=/[\n"\\]/g;function Yn(a){return a.replace(ZD,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Tp(a,s,c,m,w,_,I,j){a.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.type=I:a.removeAttribute("type"),s!=null?I==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+Wn(s)):a.value!==""+Wn(s)&&(a.value=""+Wn(s)):I!=="submit"&&I!=="reset"||a.removeAttribute("value"),s!=null?Ap(a,I,Wn(s)):c!=null?Ap(a,I,Wn(c)):m!=null&&a.removeAttribute("value"),w==null&&_!=null&&(a.defaultChecked=!!_),w!=null&&(a.checked=w&&typeof w!="function"&&typeof w!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?a.name=""+Wn(j):a.removeAttribute("name")}function mw(a,s,c,m,w,_,I,j){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),s!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){Ep(a);return}c=c!=null?""+Wn(c):"",s=s!=null?""+Wn(s):c,j||s===a.value||(a.value=s),a.defaultValue=s}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=j?a.checked:!!m,a.defaultChecked=!!m,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.name=I),Ep(a)}function Ap(a,s,c){s==="number"&&vc(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function No(a,s,c,m){if(a=a.options,s){s={};for(var w=0;w<c.length;w++)s["$"+c[w]]=!0;for(c=0;c<a.length;c++)w=s.hasOwnProperty("$"+a[c].value),a[c].selected!==w&&(a[c].selected=w),w&&m&&(a[c].defaultSelected=!0)}else{for(c=""+Wn(c),s=null,w=0;w<a.length;w++){if(a[w].value===c){a[w].selected=!0,m&&(a[w].defaultSelected=!0);return}s!==null||a[w].disabled||(s=a[w])}s!==null&&(s.selected=!0)}}function gw(a,s,c){if(s!=null&&(s=""+Wn(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+Wn(c):""}function vw(a,s,c,m){if(s==null){if(m!=null){if(c!=null)throw Error(r(92));if(q(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),s=c}c=Wn(s),a.defaultValue=c,m=a.textContent,m===c&&m!==""&&m!==null&&(a.value=m),Ep(a)}function Io(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var QD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yw(a,s,c){var m=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":m?a.setProperty(s,c):typeof c!="number"||c===0||QD.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function xw(a,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||s!=null&&s.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var w in s)m=s[w],s.hasOwnProperty(w)&&c[w]!==m&&yw(a,w,m)}else for(var _ in s)s.hasOwnProperty(_)&&yw(a,_,s[_])}function Cp(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ej=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tj=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yc(a){return tj.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Jr(){}var Np=null;function Ip(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ko=null,Ro=null;function bw(a){var s=To(a);if(s&&(a=s.stateNode)){var c=a[yn]||null;e:switch(a=s.stateNode,s.type){case"input":if(Tp(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Yn(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var m=c[s];if(m!==a&&m.form===a.form){var w=m[yn]||null;if(!w)throw Error(r(90));Tp(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(s=0;s<c.length;s++)m=c[s],m.form===a.form&&pw(m)}break e;case"textarea":gw(a,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&No(a,!!c.multiple,s,!1)}}}var kp=!1;function ww(a,s,c){if(kp)return a(s,c);kp=!0;try{var m=a(s);return m}finally{if(kp=!1,(ko!==null||Ro!==null)&&(ad(),ko&&(s=ko,a=Ro,Ro=ko=null,bw(s),a)))for(s=0;s<a.length;s++)bw(a[s])}}function ll(a,s){var c=a.stateNode;if(c===null)return null;var m=c[yn]||null;if(m===null)return null;c=m[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rp=!1;if(Xr)try{var ul={};Object.defineProperty(ul,"passive",{get:function(){Rp=!0}}),window.addEventListener("test",ul,ul),window.removeEventListener("test",ul,ul)}catch{Rp=!1}var zi=null,Pp=null,xc=null;function _w(){if(xc)return xc;var a,s=Pp,c=s.length,m,w="value"in zi?zi.value:zi.textContent,_=w.length;for(a=0;a<c&&s[a]===w[a];a++);var I=c-a;for(m=1;m<=I&&s[c-m]===w[_-m];m++);return xc=w.slice(a,1<m?1-m:void 0)}function bc(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function wc(){return!0}function Sw(){return!1}function xn(a){function s(c,m,w,_,I){this._reactName=c,this._targetInst=w,this.type=m,this.nativeEvent=_,this.target=I,this.currentTarget=null;for(var j in a)a.hasOwnProperty(j)&&(c=a[j],this[j]=c?c(_):_[j]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?wc:Sw,this.isPropagationStopped=Sw,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=wc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=wc)},persist:function(){},isPersistent:wc}),s}var Aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_c=xn(Aa),cl=g({},Aa,{view:0,detail:0}),nj=xn(cl),Op,Mp,dl,Sc=g({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jp,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==dl&&(dl&&a.type==="mousemove"?(Op=a.screenX-dl.screenX,Mp=a.screenY-dl.screenY):Mp=Op=0,dl=a),Op)},movementY:function(a){return"movementY"in a?a.movementY:Mp}}),Ew=xn(Sc),rj=g({},Sc,{dataTransfer:0}),ij=xn(rj),aj=g({},cl,{relatedTarget:0}),Dp=xn(aj),oj=g({},Aa,{animationName:0,elapsedTime:0,pseudoElement:0}),sj=xn(oj),lj=g({},Aa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),uj=xn(lj),cj=g({},Aa,{data:0}),Tw=xn(cj),dj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pj(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=hj[a])?!!s[a]:!1}function jp(){return pj}var mj=g({},cl,{key:function(a){if(a.key){var s=dj[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=bc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?fj[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jp,charCode:function(a){return a.type==="keypress"?bc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?bc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),gj=xn(mj),vj=g({},Sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Aw=xn(vj),yj=g({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jp}),xj=xn(yj),bj=g({},Aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),wj=xn(bj),_j=g({},Sc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Sj=xn(_j),Ej=g({},Aa,{newState:0,oldState:0}),Tj=xn(Ej),Aj=[9,13,27,32],Lp=Xr&&"CompositionEvent"in window,fl=null;Xr&&"documentMode"in document&&(fl=document.documentMode);var Cj=Xr&&"TextEvent"in window&&!fl,Cw=Xr&&(!Lp||fl&&8<fl&&11>=fl),Nw=" ",Iw=!1;function kw(a,s){switch(a){case"keyup":return Aj.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Po=!1;function Nj(a,s){switch(a){case"compositionend":return Rw(s);case"keypress":return s.which!==32?null:(Iw=!0,Nw);case"textInput":return a=s.data,a===Nw&&Iw?null:a;default:return null}}function Ij(a,s){if(Po)return a==="compositionend"||!Lp&&kw(a,s)?(a=_w(),xc=Pp=zi=null,Po=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Cw&&s.locale!=="ko"?null:s.data;default:return null}}var kj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pw(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!kj[a.type]:s==="textarea"}function Ow(a,s,c,m){ko?Ro?Ro.push(m):Ro=[m]:ko=m,s=fd(s,"onChange"),0<s.length&&(c=new _c("onChange","change",null,c,m),a.push({event:c,listeners:s}))}var hl=null,pl=null;function Rj(a){mS(a,0)}function Ec(a){var s=sl(a);if(pw(s))return a}function Mw(a,s){if(a==="change")return s}var Dw=!1;if(Xr){var Up;if(Xr){var Bp="oninput"in document;if(!Bp){var jw=document.createElement("div");jw.setAttribute("oninput","return;"),Bp=typeof jw.oninput=="function"}Up=Bp}else Up=!1;Dw=Up&&(!document.documentMode||9<document.documentMode)}function Lw(){hl&&(hl.detachEvent("onpropertychange",Uw),pl=hl=null)}function Uw(a){if(a.propertyName==="value"&&Ec(pl)){var s=[];Ow(s,pl,a,Ip(a)),ww(Rj,s)}}function Pj(a,s,c){a==="focusin"?(Lw(),hl=s,pl=c,hl.attachEvent("onpropertychange",Uw)):a==="focusout"&&Lw()}function Oj(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ec(pl)}function Mj(a,s){if(a==="click")return Ec(s)}function Dj(a,s){if(a==="input"||a==="change")return Ec(s)}function jj(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Mn=typeof Object.is=="function"?Object.is:jj;function ml(a,s){if(Mn(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),m=Object.keys(s);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var w=c[m];if(!gp.call(s,w)||!Mn(a[w],s[w]))return!1}return!0}function Bw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function $w(a,s){var c=Bw(a);a=0;for(var m;c;){if(c.nodeType===3){if(m=a+c.textContent.length,a<=s&&m>=s)return{node:c,offset:s-a};a=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Bw(c)}}function zw(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?zw(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function qw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=vc(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=vc(a.document)}return s}function $p(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var Lj=Xr&&"documentMode"in document&&11>=document.documentMode,Oo=null,zp=null,gl=null,qp=!1;function Vw(a,s,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;qp||Oo==null||Oo!==vc(m)||(m=Oo,"selectionStart"in m&&$p(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),gl&&ml(gl,m)||(gl=m,m=fd(zp,"onSelect"),0<m.length&&(s=new _c("onSelect","select",null,s,c),a.push({event:s,listeners:m}),s.target=Oo)))}function Ca(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var Mo={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},Vp={},Gw={};Xr&&(Gw=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Na(a){if(Vp[a])return Vp[a];if(!Mo[a])return a;var s=Mo[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in Gw)return Vp[a]=s[c];return a}var Hw=Na("animationend"),Fw=Na("animationiteration"),Kw=Na("animationstart"),Uj=Na("transitionrun"),Bj=Na("transitionstart"),$j=Na("transitioncancel"),Ww=Na("transitionend"),Yw=new Map,Gp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gp.push("scrollEnd");function mr(a,s){Yw.set(a,s),Ta(s,[a])}var Tc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Jn=[],Do=0,Hp=0;function Ac(){for(var a=Do,s=Hp=Do=0;s<a;){var c=Jn[s];Jn[s++]=null;var m=Jn[s];Jn[s++]=null;var w=Jn[s];Jn[s++]=null;var _=Jn[s];if(Jn[s++]=null,m!==null&&w!==null){var I=m.pending;I===null?w.next=w:(w.next=I.next,I.next=w),m.pending=w}_!==0&&Jw(c,w,_)}}function Cc(a,s,c,m){Jn[Do++]=a,Jn[Do++]=s,Jn[Do++]=c,Jn[Do++]=m,Hp|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Fp(a,s,c,m){return Cc(a,s,c,m),Nc(a)}function Ia(a,s){return Cc(a,null,null,s),Nc(a)}function Jw(a,s,c){a.lanes|=c;var m=a.alternate;m!==null&&(m.lanes|=c);for(var w=!1,_=a.return;_!==null;)_.childLanes|=c,m=_.alternate,m!==null&&(m.childLanes|=c),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(w=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,w&&s!==null&&(w=31-On(c),a=_.hiddenUpdates,m=a[w],m===null?a[w]=[s]:m.push(s),s.lane=c|536870912),_):null}function Nc(a){if(50<Ul)throw Ul=0,tm=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var jo={};function zj(a,s,c,m){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(a,s,c,m){return new zj(a,s,c,m)}function Kp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Zr(a,s){var c=a.alternate;return c===null?(c=Dn(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function Xw(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Ic(a,s,c,m,w,_){var I=0;if(m=a,typeof a=="function")Kp(a)&&(I=1);else if(typeof a=="string")I=F3(a,c,pe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case D:return a=Dn(31,c,s,w),a.elementType=D,a.lanes=_,a;case E:return ka(c.children,w,_,s);case T:I=8,w|=24;break;case A:return a=Dn(12,c,s,w|2),a.elementType=A,a.lanes=_,a;case R:return a=Dn(13,c,s,w),a.elementType=R,a.lanes=_,a;case O:return a=Dn(19,c,s,w),a.elementType=O,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case k:I=10;break e;case N:I=9;break e;case P:I=11;break e;case B:I=14;break e;case K:I=16,m=null;break e}I=29,c=Error(r(130,a===null?"null":typeof a,"")),m=null}return s=Dn(I,c,s,w),s.elementType=a,s.type=m,s.lanes=_,s}function ka(a,s,c,m){return a=Dn(7,a,m,s),a.lanes=c,a}function Wp(a,s,c){return a=Dn(6,a,null,s),a.lanes=c,a}function Zw(a){var s=Dn(18,null,null,0);return s.stateNode=a,s}function Yp(a,s,c){return s=Dn(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var Qw=new WeakMap;function Xn(a,s){if(typeof a=="object"&&a!==null){var c=Qw.get(a);return c!==void 0?c:(s={value:a,source:s,stack:nl(s)},Qw.set(a,s),s)}return{value:a,source:s,stack:nl(s)}}var Lo=[],Uo=0,kc=null,vl=0,Zn=[],Qn=0,qi=null,Or=1,Mr="";function Qr(a,s){Lo[Uo++]=vl,Lo[Uo++]=kc,kc=a,vl=s}function e1(a,s,c){Zn[Qn++]=Or,Zn[Qn++]=Mr,Zn[Qn++]=qi,qi=a;var m=Or;a=Mr;var w=32-On(m)-1;m&=~(1<<w),c+=1;var _=32-On(s)+w;if(30<_){var I=w-w%5;_=(m&(1<<I)-1).toString(32),m>>=I,w-=I,Or=1<<32-On(s)+w|c<<w|m,Mr=_+a}else Or=1<<_|c<<w|m,Mr=a}function Jp(a){a.return!==null&&(Qr(a,1),e1(a,1,0))}function Xp(a){for(;a===kc;)kc=Lo[--Uo],Lo[Uo]=null,vl=Lo[--Uo],Lo[Uo]=null;for(;a===qi;)qi=Zn[--Qn],Zn[Qn]=null,Mr=Zn[--Qn],Zn[Qn]=null,Or=Zn[--Qn],Zn[Qn]=null}function t1(a,s){Zn[Qn++]=Or,Zn[Qn++]=Mr,Zn[Qn++]=qi,Or=s.id,Mr=s.overflow,qi=a}var Yt=null,at=null,Le=!1,Vi=null,er=!1,Zp=Error(r(519));function Gi(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yl(Xn(s,a)),Zp}function n1(a){var s=a.stateNode,c=a.type,m=a.memoizedProps;switch(s[Wt]=a,s[yn]=m,c){case"dialog":Me("cancel",s),Me("close",s);break;case"iframe":case"object":case"embed":Me("load",s);break;case"video":case"audio":for(c=0;c<$l.length;c++)Me($l[c],s);break;case"source":Me("error",s);break;case"img":case"image":case"link":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"input":Me("invalid",s),mw(s,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Me("invalid",s);break;case"textarea":Me("invalid",s),vw(s,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||m.suppressHydrationWarning===!0||xS(s.textContent,c)?(m.popover!=null&&(Me("beforetoggle",s),Me("toggle",s)),m.onScroll!=null&&Me("scroll",s),m.onScrollEnd!=null&&Me("scrollend",s),m.onClick!=null&&(s.onclick=Jr),s=!0):s=!1,s||Gi(a,!0)}function r1(a){for(Yt=a.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:er=!1;return;case 27:case 3:er=!0;return;default:Yt=Yt.return}}function Bo(a){if(a!==Yt)return!1;if(!Le)return r1(a),Le=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||gm(a.type,a.memoizedProps)),c=!c),c&&at&&Gi(a),r1(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));at=NS(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));at=NS(a)}else s===27?(s=at,ia(a.type)?(a=wm,wm=null,at=a):at=s):at=Yt?nr(a.stateNode.nextSibling):null;return!0}function Ra(){at=Yt=null,Le=!1}function Qp(){var a=Vi;return a!==null&&(Sn===null?Sn=a:Sn.push.apply(Sn,a),Vi=null),a}function yl(a){Vi===null?Vi=[a]:Vi.push(a)}var e0=V(null),Pa=null,ei=null;function Hi(a,s,c){ce(e0,s._currentValue),s._currentValue=c}function ti(a){a._currentValue=e0.current,J(e0)}function t0(a,s,c){for(;a!==null;){var m=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,m!==null&&(m.childLanes|=s)):m!==null&&(m.childLanes&s)!==s&&(m.childLanes|=s),a===c)break;a=a.return}}function n0(a,s,c,m){var w=a.child;for(w!==null&&(w.return=a);w!==null;){var _=w.dependencies;if(_!==null){var I=w.child;_=_.firstContext;e:for(;_!==null;){var j=_;_=w;for(var H=0;H<s.length;H++)if(j.context===s[H]){_.lanes|=c,j=_.alternate,j!==null&&(j.lanes|=c),t0(_.return,c,a),m||(I=null);break e}_=j.next}}else if(w.tag===18){if(I=w.return,I===null)throw Error(r(341));I.lanes|=c,_=I.alternate,_!==null&&(_.lanes|=c),t0(I,c,a),I=null}else I=w.child;if(I!==null)I.return=w;else for(I=w;I!==null;){if(I===a){I=null;break}if(w=I.sibling,w!==null){w.return=I.return,I=w;break}I=I.return}w=I}}function $o(a,s,c,m){a=null;for(var w=s,_=!1;w!==null;){if(!_){if((w.flags&524288)!==0)_=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var I=w.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var j=w.type;Mn(w.pendingProps.value,I.value)||(a!==null?a.push(j):a=[j])}}else if(w===he.current){if(I=w.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(a!==null?a.push(Hl):a=[Hl])}w=w.return}a!==null&&n0(s,a,c,m),s.flags|=262144}function Rc(a){for(a=a.firstContext;a!==null;){if(!Mn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Oa(a){Pa=a,ei=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Jt(a){return i1(Pa,a)}function Pc(a,s){return Pa===null&&Oa(a),i1(a,s)}function i1(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},ei===null){if(a===null)throw Error(r(308));ei=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else ei=ei.next=s;return c}var qj=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,m){a.push(m)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},Vj=e.unstable_scheduleCallback,Gj=e.unstable_NormalPriority,wt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function r0(){return{controller:new qj,data:new Map,refCount:0}}function xl(a){a.refCount--,a.refCount===0&&Vj(Gj,function(){a.controller.abort()})}var bl=null,i0=0,zo=0,qo=null;function Hj(a,s){if(bl===null){var c=bl=[];i0=0,zo=sm(),qo={status:"pending",value:void 0,then:function(m){c.push(m)}}}return i0++,s.then(a1,a1),s}function a1(){if(--i0===0&&bl!==null){qo!==null&&(qo.status="fulfilled");var a=bl;bl=null,zo=0,qo=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function Fj(a,s){var c=[],m={status:"pending",value:null,reason:null,then:function(w){c.push(w)}};return a.then(function(){m.status="fulfilled",m.value=s;for(var w=0;w<c.length;w++)(0,c[w])(s)},function(w){for(m.status="rejected",m.reason=w,w=0;w<c.length;w++)(0,c[w])(void 0)}),m}var o1=z.S;z.S=function(a,s){V_=Rn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Hj(a,s),o1!==null&&o1(a,s)};var Ma=V(null);function a0(){var a=Ma.current;return a!==null?a:et.pooledCache}function Oc(a,s){s===null?ce(Ma,Ma.current):ce(Ma,s.pool)}function s1(){var a=a0();return a===null?null:{parent:wt._currentValue,pool:a}}var Vo=Error(r(460)),o0=Error(r(474)),Mc=Error(r(542)),Dc={then:function(){}};function l1(a){return a=a.status,a==="fulfilled"||a==="rejected"}function u1(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(Jr,Jr),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,d1(a),a;default:if(typeof s.status=="string")s.then(Jr,Jr);else{if(a=et,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(m){if(s.status==="pending"){var w=s;w.status="fulfilled",w.value=m}},function(m){if(s.status==="pending"){var w=s;w.status="rejected",w.reason=m}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,d1(a),a}throw ja=s,Vo}}function Da(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(ja=c,Vo):c}}var ja=null;function c1(){if(ja===null)throw Error(r(459));var a=ja;return ja=null,a}function d1(a){if(a===Vo||a===Mc)throw Error(r(483))}var Go=null,wl=0;function jc(a){var s=wl;return wl+=1,Go===null&&(Go=[]),u1(Go,a,s)}function _l(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Lc(a,s){throw s.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function f1(a){function s(Y,W){if(a){var Z=Y.deletions;Z===null?(Y.deletions=[W],Y.flags|=16):Z.push(W)}}function c(Y,W){if(!a)return null;for(;W!==null;)s(Y,W),W=W.sibling;return null}function m(Y){for(var W=new Map;Y!==null;)Y.key!==null?W.set(Y.key,Y):W.set(Y.index,Y),Y=Y.sibling;return W}function w(Y,W){return Y=Zr(Y,W),Y.index=0,Y.sibling=null,Y}function _(Y,W,Z){return Y.index=Z,a?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<W?(Y.flags|=67108866,W):Z):(Y.flags|=67108866,W)):(Y.flags|=1048576,W)}function I(Y){return a&&Y.alternate===null&&(Y.flags|=67108866),Y}function j(Y,W,Z,le){return W===null||W.tag!==6?(W=Wp(Z,Y.mode,le),W.return=Y,W):(W=w(W,Z),W.return=Y,W)}function H(Y,W,Z,le){var we=Z.type;return we===E?ae(Y,W,Z.props.children,le,Z.key):W!==null&&(W.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===K&&Da(we)===W.type)?(W=w(W,Z.props),_l(W,Z),W.return=Y,W):(W=Ic(Z.type,Z.key,Z.props,null,Y.mode,le),_l(W,Z),W.return=Y,W)}function Q(Y,W,Z,le){return W===null||W.tag!==4||W.stateNode.containerInfo!==Z.containerInfo||W.stateNode.implementation!==Z.implementation?(W=Yp(Z,Y.mode,le),W.return=Y,W):(W=w(W,Z.children||[]),W.return=Y,W)}function ae(Y,W,Z,le,we){return W===null||W.tag!==7?(W=ka(Z,Y.mode,le,we),W.return=Y,W):(W=w(W,Z),W.return=Y,W)}function ue(Y,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Wp(""+W,Y.mode,Z),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return Z=Ic(W.type,W.key,W.props,null,Y.mode,Z),_l(Z,W),Z.return=Y,Z;case S:return W=Yp(W,Y.mode,Z),W.return=Y,W;case K:return W=Da(W),ue(Y,W,Z)}if(q(W)||M(W))return W=ka(W,Y.mode,Z,null),W.return=Y,W;if(typeof W.then=="function")return ue(Y,jc(W),Z);if(W.$$typeof===k)return ue(Y,Pc(Y,W),Z);Lc(Y,W)}return null}function ee(Y,W,Z,le){var we=W!==null?W.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return we!==null?null:j(Y,W,""+Z,le);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return Z.key===we?H(Y,W,Z,le):null;case S:return Z.key===we?Q(Y,W,Z,le):null;case K:return Z=Da(Z),ee(Y,W,Z,le)}if(q(Z)||M(Z))return we!==null?null:ae(Y,W,Z,le,null);if(typeof Z.then=="function")return ee(Y,W,jc(Z),le);if(Z.$$typeof===k)return ee(Y,W,Pc(Y,Z),le);Lc(Y,Z)}return null}function re(Y,W,Z,le,we){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Y=Y.get(Z)||null,j(W,Y,""+le,we);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case b:return Y=Y.get(le.key===null?Z:le.key)||null,H(W,Y,le,we);case S:return Y=Y.get(le.key===null?Z:le.key)||null,Q(W,Y,le,we);case K:return le=Da(le),re(Y,W,Z,le,we)}if(q(le)||M(le))return Y=Y.get(Z)||null,ae(W,Y,le,we,null);if(typeof le.then=="function")return re(Y,W,Z,jc(le),we);if(le.$$typeof===k)return re(Y,W,Z,Pc(W,le),we);Lc(W,le)}return null}function ve(Y,W,Z,le){for(var we=null,$e=null,xe=W,Pe=W=0,je=null;xe!==null&&Pe<Z.length;Pe++){xe.index>Pe?(je=xe,xe=null):je=xe.sibling;var ze=ee(Y,xe,Z[Pe],le);if(ze===null){xe===null&&(xe=je);break}a&&xe&&ze.alternate===null&&s(Y,xe),W=_(ze,W,Pe),$e===null?we=ze:$e.sibling=ze,$e=ze,xe=je}if(Pe===Z.length)return c(Y,xe),Le&&Qr(Y,Pe),we;if(xe===null){for(;Pe<Z.length;Pe++)xe=ue(Y,Z[Pe],le),xe!==null&&(W=_(xe,W,Pe),$e===null?we=xe:$e.sibling=xe,$e=xe);return Le&&Qr(Y,Pe),we}for(xe=m(xe);Pe<Z.length;Pe++)je=re(xe,Y,Pe,Z[Pe],le),je!==null&&(a&&je.alternate!==null&&xe.delete(je.key===null?Pe:je.key),W=_(je,W,Pe),$e===null?we=je:$e.sibling=je,$e=je);return a&&xe.forEach(function(ua){return s(Y,ua)}),Le&&Qr(Y,Pe),we}function Se(Y,W,Z,le){if(Z==null)throw Error(r(151));for(var we=null,$e=null,xe=W,Pe=W=0,je=null,ze=Z.next();xe!==null&&!ze.done;Pe++,ze=Z.next()){xe.index>Pe?(je=xe,xe=null):je=xe.sibling;var ua=ee(Y,xe,ze.value,le);if(ua===null){xe===null&&(xe=je);break}a&&xe&&ua.alternate===null&&s(Y,xe),W=_(ua,W,Pe),$e===null?we=ua:$e.sibling=ua,$e=ua,xe=je}if(ze.done)return c(Y,xe),Le&&Qr(Y,Pe),we;if(xe===null){for(;!ze.done;Pe++,ze=Z.next())ze=ue(Y,ze.value,le),ze!==null&&(W=_(ze,W,Pe),$e===null?we=ze:$e.sibling=ze,$e=ze);return Le&&Qr(Y,Pe),we}for(xe=m(xe);!ze.done;Pe++,ze=Z.next())ze=re(xe,Y,Pe,ze.value,le),ze!==null&&(a&&ze.alternate!==null&&xe.delete(ze.key===null?Pe:ze.key),W=_(ze,W,Pe),$e===null?we=ze:$e.sibling=ze,$e=ze);return a&&xe.forEach(function(r5){return s(Y,r5)}),Le&&Qr(Y,Pe),we}function Xe(Y,W,Z,le){if(typeof Z=="object"&&Z!==null&&Z.type===E&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:e:{for(var we=Z.key;W!==null;){if(W.key===we){if(we=Z.type,we===E){if(W.tag===7){c(Y,W.sibling),le=w(W,Z.props.children),le.return=Y,Y=le;break e}}else if(W.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===K&&Da(we)===W.type){c(Y,W.sibling),le=w(W,Z.props),_l(le,Z),le.return=Y,Y=le;break e}c(Y,W);break}else s(Y,W);W=W.sibling}Z.type===E?(le=ka(Z.props.children,Y.mode,le,Z.key),le.return=Y,Y=le):(le=Ic(Z.type,Z.key,Z.props,null,Y.mode,le),_l(le,Z),le.return=Y,Y=le)}return I(Y);case S:e:{for(we=Z.key;W!==null;){if(W.key===we)if(W.tag===4&&W.stateNode.containerInfo===Z.containerInfo&&W.stateNode.implementation===Z.implementation){c(Y,W.sibling),le=w(W,Z.children||[]),le.return=Y,Y=le;break e}else{c(Y,W);break}else s(Y,W);W=W.sibling}le=Yp(Z,Y.mode,le),le.return=Y,Y=le}return I(Y);case K:return Z=Da(Z),Xe(Y,W,Z,le)}if(q(Z))return ve(Y,W,Z,le);if(M(Z)){if(we=M(Z),typeof we!="function")throw Error(r(150));return Z=we.call(Z),Se(Y,W,Z,le)}if(typeof Z.then=="function")return Xe(Y,W,jc(Z),le);if(Z.$$typeof===k)return Xe(Y,W,Pc(Y,Z),le);Lc(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,W!==null&&W.tag===6?(c(Y,W.sibling),le=w(W,Z),le.return=Y,Y=le):(c(Y,W),le=Wp(Z,Y.mode,le),le.return=Y,Y=le),I(Y)):c(Y,W)}return function(Y,W,Z,le){try{wl=0;var we=Xe(Y,W,Z,le);return Go=null,we}catch(xe){if(xe===Vo||xe===Mc)throw xe;var $e=Dn(29,xe,null,Y.mode);return $e.lanes=le,$e.return=Y,$e}finally{}}}var La=f1(!0),h1=f1(!1),Fi=!1;function s0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function l0(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ki(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Wi(a,s,c){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Ge&2)!==0){var w=m.pending;return w===null?s.next=s:(s.next=w.next,w.next=s),m.pending=s,s=Nc(a),Jw(a,null,c),s}return Cc(a,m,s,c),Nc(a)}function Sl(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var m=s.lanes;m&=a.pendingLanes,c|=m,s.lanes=c,iw(a,c)}}function u0(a,s){var c=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var w=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var I={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?w=_=I:_=_.next=I,c=c.next}while(c!==null);_===null?w=_=s:_=_.next=s}else w=_=s;c={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:_,shared:m.shared,callbacks:m.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var c0=!1;function El(){if(c0){var a=qo;if(a!==null)throw a}}function Tl(a,s,c,m){c0=!1;var w=a.updateQueue;Fi=!1;var _=w.firstBaseUpdate,I=w.lastBaseUpdate,j=w.shared.pending;if(j!==null){w.shared.pending=null;var H=j,Q=H.next;H.next=null,I===null?_=Q:I.next=Q,I=H;var ae=a.alternate;ae!==null&&(ae=ae.updateQueue,j=ae.lastBaseUpdate,j!==I&&(j===null?ae.firstBaseUpdate=Q:j.next=Q,ae.lastBaseUpdate=H))}if(_!==null){var ue=w.baseState;I=0,ae=Q=H=null,j=_;do{var ee=j.lane&-536870913,re=ee!==j.lane;if(re?(De&ee)===ee:(m&ee)===ee){ee!==0&&ee===zo&&(c0=!0),ae!==null&&(ae=ae.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var ve=a,Se=j;ee=s;var Xe=c;switch(Se.tag){case 1:if(ve=Se.payload,typeof ve=="function"){ue=ve.call(Xe,ue,ee);break e}ue=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Se.payload,ee=typeof ve=="function"?ve.call(Xe,ue,ee):ve,ee==null)break e;ue=g({},ue,ee);break e;case 2:Fi=!0}}ee=j.callback,ee!==null&&(a.flags|=64,re&&(a.flags|=8192),re=w.callbacks,re===null?w.callbacks=[ee]:re.push(ee))}else re={lane:ee,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ae===null?(Q=ae=re,H=ue):ae=ae.next=re,I|=ee;if(j=j.next,j===null){if(j=w.shared.pending,j===null)break;re=j,j=re.next,re.next=null,w.lastBaseUpdate=re,w.shared.pending=null}}while(!0);ae===null&&(H=ue),w.baseState=H,w.firstBaseUpdate=Q,w.lastBaseUpdate=ae,_===null&&(w.shared.lanes=0),Qi|=I,a.lanes=I,a.memoizedState=ue}}function p1(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function m1(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)p1(c[a],s)}var Ho=V(null),Uc=V(0);function g1(a,s){a=ci,ce(Uc,a),ce(Ho,s),ci=a|s.baseLanes}function d0(){ce(Uc,ci),ce(Ho,Ho.current)}function f0(){ci=Uc.current,J(Ho),J(Uc)}var jn=V(null),tr=null;function Yi(a){var s=a.alternate;ce(xt,xt.current&1),ce(jn,a),tr===null&&(s===null||Ho.current!==null||s.memoizedState!==null)&&(tr=a)}function h0(a){ce(xt,xt.current),ce(jn,a),tr===null&&(tr=a)}function v1(a){a.tag===22?(ce(xt,xt.current),ce(jn,a),tr===null&&(tr=a)):Ji()}function Ji(){ce(xt,xt.current),ce(jn,jn.current)}function Ln(a){J(jn),tr===a&&(tr=null),J(xt)}var xt=V(0);function Bc(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||xm(c)||bm(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ni=0,Re=null,Ye=null,_t=null,$c=!1,Fo=!1,Ua=!1,zc=0,Al=0,Ko=null,Kj=0;function ht(){throw Error(r(321))}function p0(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!Mn(a[c],s[c]))return!1;return!0}function m0(a,s,c,m,w,_){return ni=_,Re=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,z.H=a===null||a.memoizedState===null?e_:k0,Ua=!1,_=c(m,w),Ua=!1,Fo&&(_=x1(s,c,m,w)),y1(a),_}function y1(a){z.H=Il;var s=Ye!==null&&Ye.next!==null;if(ni=0,_t=Ye=Re=null,$c=!1,Al=0,Ko=null,s)throw Error(r(300));a===null||St||(a=a.dependencies,a!==null&&Rc(a)&&(St=!0))}function x1(a,s,c,m){Re=a;var w=0;do{if(Fo&&(Ko=null),Al=0,Fo=!1,25<=w)throw Error(r(301));if(w+=1,_t=Ye=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}z.H=t_,_=s(c,m)}while(Fo);return _}function Wj(){var a=z.H,s=a.useState()[0];return s=typeof s.then=="function"?Cl(s):s,a=a.useState()[0],(Ye!==null?Ye.memoizedState:null)!==a&&(Re.flags|=1024),s}function g0(){var a=zc!==0;return zc=0,a}function v0(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function y0(a){if($c){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}$c=!1}ni=0,_t=Ye=Re=null,Fo=!1,Al=zc=0,Ko=null}function un(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Re.memoizedState=_t=a:_t=_t.next=a,_t}function bt(){if(Ye===null){var a=Re.alternate;a=a!==null?a.memoizedState:null}else a=Ye.next;var s=_t===null?Re.memoizedState:_t.next;if(s!==null)_t=s,Ye=a;else{if(a===null)throw Re.alternate===null?Error(r(467)):Error(r(310));Ye=a,a={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},_t===null?Re.memoizedState=_t=a:_t=_t.next=a}return _t}function qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(a){var s=Al;return Al+=1,Ko===null&&(Ko=[]),a=u1(Ko,a,s),s=Re,(_t===null?s.memoizedState:_t.next)===null&&(s=s.alternate,z.H=s===null||s.memoizedState===null?e_:k0),a}function Vc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Cl(a);if(a.$$typeof===k)return Jt(a)}throw Error(r(438,String(a)))}function x0(a){var s=null,c=Re.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var m=Re.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(s={data:m.data.map(function(w){return w.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=qc(),Re.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),m=0;m<a;m++)c[m]=G;return s.index++,c}function ri(a,s){return typeof s=="function"?s(a):s}function Gc(a){var s=bt();return b0(s,Ye,a)}function b0(a,s,c){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var w=a.baseQueue,_=m.pending;if(_!==null){if(w!==null){var I=w.next;w.next=_.next,_.next=I}s.baseQueue=w=_,m.pending=null}if(_=a.baseState,w===null)a.memoizedState=_;else{s=w.next;var j=I=null,H=null,Q=s,ae=!1;do{var ue=Q.lane&-536870913;if(ue!==Q.lane?(De&ue)===ue:(ni&ue)===ue){var ee=Q.revertLane;if(ee===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ue===zo&&(ae=!0);else if((ni&ee)===ee){Q=Q.next,ee===zo&&(ae=!0);continue}else ue={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},H===null?(j=H=ue,I=_):H=H.next=ue,Re.lanes|=ee,Qi|=ee;ue=Q.action,Ua&&c(_,ue),_=Q.hasEagerState?Q.eagerState:c(_,ue)}else ee={lane:ue,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},H===null?(j=H=ee,I=_):H=H.next=ee,Re.lanes|=ue,Qi|=ue;Q=Q.next}while(Q!==null&&Q!==s);if(H===null?I=_:H.next=j,!Mn(_,a.memoizedState)&&(St=!0,ae&&(c=qo,c!==null)))throw c;a.memoizedState=_,a.baseState=I,a.baseQueue=H,m.lastRenderedState=_}return w===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function w0(a){var s=bt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var m=c.dispatch,w=c.pending,_=s.memoizedState;if(w!==null){c.pending=null;var I=w=w.next;do _=a(_,I.action),I=I.next;while(I!==w);Mn(_,s.memoizedState)||(St=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),c.lastRenderedState=_}return[_,m]}function b1(a,s,c){var m=Re,w=bt(),_=Le;if(_){if(c===void 0)throw Error(r(407));c=c()}else c=s();var I=!Mn((Ye||w).memoizedState,c);if(I&&(w.memoizedState=c,St=!0),w=w.queue,E0(S1.bind(null,m,w,a),[a]),w.getSnapshot!==s||I||_t!==null&&_t.memoizedState.tag&1){if(m.flags|=2048,Wo(9,{destroy:void 0},_1.bind(null,m,w,c,s),null),et===null)throw Error(r(349));_||(ni&127)!==0||w1(m,s,c)}return c}function w1(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=Re.updateQueue,s===null?(s=qc(),Re.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function _1(a,s,c,m){s.value=c,s.getSnapshot=m,E1(s)&&T1(a)}function S1(a,s,c){return c(function(){E1(s)&&T1(a)})}function E1(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!Mn(a,c)}catch{return!0}}function T1(a){var s=Ia(a,2);s!==null&&En(s,a,2)}function _0(a){var s=un();if(typeof a=="function"){var c=a;if(a=c(),Ua){Bi(!0);try{c()}finally{Bi(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:a},s}function A1(a,s,c,m){return a.baseState=c,b0(a,Ye,typeof m=="function"?m:ri)}function Yj(a,s,c,m,w){if(Kc(a))throw Error(r(485));if(a=s.action,a!==null){var _={payload:w,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){_.listeners.push(I)}};z.T!==null?c(!0):_.isTransition=!1,m(_),c=s.pending,c===null?(_.next=s.pending=_,C1(s,_)):(_.next=c.next,s.pending=c.next=_)}}function C1(a,s){var c=s.action,m=s.payload,w=a.state;if(s.isTransition){var _=z.T,I={};z.T=I;try{var j=c(w,m),H=z.S;H!==null&&H(I,j),N1(a,s,j)}catch(Q){S0(a,s,Q)}finally{_!==null&&I.types!==null&&(_.types=I.types),z.T=_}}else try{_=c(w,m),N1(a,s,_)}catch(Q){S0(a,s,Q)}}function N1(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){I1(a,s,m)},function(m){return S0(a,s,m)}):I1(a,s,c)}function I1(a,s,c){s.status="fulfilled",s.value=c,k1(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,C1(a,c)))}function S0(a,s,c){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do s.status="rejected",s.reason=c,k1(s),s=s.next;while(s!==m)}a.action=null}function k1(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function R1(a,s){return s}function P1(a,s){if(Le){var c=et.formState;if(c!==null){e:{var m=Re;if(Le){if(at){t:{for(var w=at,_=er;w.nodeType!==8;){if(!_){w=null;break t}if(w=nr(w.nextSibling),w===null){w=null;break t}}_=w.data,w=_==="F!"||_==="F"?w:null}if(w){at=nr(w.nextSibling),m=w.data==="F!";break e}}Gi(m)}m=!1}m&&(s=c[0])}}return c=un(),c.memoizedState=c.baseState=s,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:R1,lastRenderedState:s},c.queue=m,c=X1.bind(null,Re,m),m.dispatch=c,m=_0(!1),_=I0.bind(null,Re,!1,m.queue),m=un(),w={state:s,dispatch:null,action:a,pending:null},m.queue=w,c=Yj.bind(null,Re,w,_,c),w.dispatch=c,m.memoizedState=a,[s,c,!1]}function O1(a){var s=bt();return M1(s,Ye,a)}function M1(a,s,c){if(s=b0(a,s,R1)[0],a=Gc(ri)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var m=Cl(s)}catch(I){throw I===Vo?Mc:I}else m=s;s=bt();var w=s.queue,_=w.dispatch;return c!==s.memoizedState&&(Re.flags|=2048,Wo(9,{destroy:void 0},Jj.bind(null,w,c),null)),[m,_,a]}function Jj(a,s){a.action=s}function D1(a){var s=bt(),c=Ye;if(c!==null)return M1(s,c,a);bt(),s=s.memoizedState,c=bt();var m=c.queue.dispatch;return c.memoizedState=a,[s,m,!1]}function Wo(a,s,c,m){return a={tag:a,create:c,deps:m,inst:s,next:null},s=Re.updateQueue,s===null&&(s=qc(),Re.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(m=c.next,c.next=a,a.next=m,s.lastEffect=a),a}function j1(){return bt().memoizedState}function Hc(a,s,c,m){var w=un();Re.flags|=a,w.memoizedState=Wo(1|s,{destroy:void 0},c,m===void 0?null:m)}function Fc(a,s,c,m){var w=bt();m=m===void 0?null:m;var _=w.memoizedState.inst;Ye!==null&&m!==null&&p0(m,Ye.memoizedState.deps)?w.memoizedState=Wo(s,_,c,m):(Re.flags|=a,w.memoizedState=Wo(1|s,_,c,m))}function L1(a,s){Hc(8390656,8,a,s)}function E0(a,s){Fc(2048,8,a,s)}function Xj(a){Re.flags|=4;var s=Re.updateQueue;if(s===null)s=qc(),Re.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function U1(a){var s=bt().memoizedState;return Xj({ref:s,nextImpl:a}),function(){if((Ge&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function B1(a,s){return Fc(4,2,a,s)}function $1(a,s){return Fc(4,4,a,s)}function z1(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function q1(a,s,c){c=c!=null?c.concat([a]):null,Fc(4,4,z1.bind(null,s,a),c)}function T0(){}function V1(a,s){var c=bt();s=s===void 0?null:s;var m=c.memoizedState;return s!==null&&p0(s,m[1])?m[0]:(c.memoizedState=[a,s],a)}function G1(a,s){var c=bt();s=s===void 0?null:s;var m=c.memoizedState;if(s!==null&&p0(s,m[1]))return m[0];if(m=a(),Ua){Bi(!0);try{a()}finally{Bi(!1)}}return c.memoizedState=[m,s],m}function A0(a,s,c){return c===void 0||(ni&1073741824)!==0&&(De&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=H_(),Re.lanes|=a,Qi|=a,c)}function H1(a,s,c,m){return Mn(c,s)?c:Ho.current!==null?(a=A0(a,c,m),Mn(a,s)||(St=!0),a):(ni&42)===0||(ni&1073741824)!==0&&(De&261930)===0?(St=!0,a.memoizedState=c):(a=H_(),Re.lanes|=a,Qi|=a,s)}function F1(a,s,c,m,w){var _=F.p;F.p=_!==0&&8>_?_:8;var I=z.T,j={};z.T=j,I0(a,!1,s,c);try{var H=w(),Q=z.S;if(Q!==null&&Q(j,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ae=Fj(H,m);Nl(a,s,ae,$n(a))}else Nl(a,s,m,$n(a))}catch(ue){Nl(a,s,{then:function(){},status:"rejected",reason:ue},$n())}finally{F.p=_,I!==null&&j.types!==null&&(I.types=j.types),z.T=I}}function Zj(){}function C0(a,s,c,m){if(a.tag!==5)throw Error(r(476));var w=K1(a).queue;F1(a,w,s,ne,c===null?Zj:function(){return W1(a),c(m)})}function K1(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:ne},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function W1(a){var s=K1(a);s.next===null&&(s=a.alternate.memoizedState),Nl(a,s.next.queue,{},$n())}function N0(){return Jt(Hl)}function Y1(){return bt().memoizedState}function J1(){return bt().memoizedState}function Qj(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=$n();a=Ki(c);var m=Wi(s,a,c);m!==null&&(En(m,s,c),Sl(m,s,c)),s={cache:r0()},a.payload=s;return}s=s.return}}function e3(a,s,c){var m=$n();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Kc(a)?Z1(s,c):(c=Fp(a,s,c,m),c!==null&&(En(c,a,m),Q1(c,s,m)))}function X1(a,s,c){var m=$n();Nl(a,s,c,m)}function Nl(a,s,c,m){var w={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Kc(a))Z1(s,w);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var I=s.lastRenderedState,j=_(I,c);if(w.hasEagerState=!0,w.eagerState=j,Mn(j,I))return Cc(a,s,w,0),et===null&&Ac(),!1}catch{}finally{}if(c=Fp(a,s,w,m),c!==null)return En(c,a,m),Q1(c,s,m),!0}return!1}function I0(a,s,c,m){if(m={lane:2,revertLane:sm(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Kc(a)){if(s)throw Error(r(479))}else s=Fp(a,c,m,2),s!==null&&En(s,a,2)}function Kc(a){var s=a.alternate;return a===Re||s!==null&&s===Re}function Z1(a,s){Fo=$c=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function Q1(a,s,c){if((c&4194048)!==0){var m=s.lanes;m&=a.pendingLanes,c|=m,s.lanes=c,iw(a,c)}}var Il={readContext:Jt,use:Vc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};Il.useEffectEvent=ht;var e_={readContext:Jt,use:Vc,useCallback:function(a,s){return un().memoizedState=[a,s===void 0?null:s],a},useContext:Jt,useEffect:L1,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,Hc(4194308,4,z1.bind(null,s,a),c)},useLayoutEffect:function(a,s){return Hc(4194308,4,a,s)},useInsertionEffect:function(a,s){Hc(4,2,a,s)},useMemo:function(a,s){var c=un();s=s===void 0?null:s;var m=a();if(Ua){Bi(!0);try{a()}finally{Bi(!1)}}return c.memoizedState=[m,s],m},useReducer:function(a,s,c){var m=un();if(c!==void 0){var w=c(s);if(Ua){Bi(!0);try{c(s)}finally{Bi(!1)}}}else w=s;return m.memoizedState=m.baseState=w,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:w},m.queue=a,a=a.dispatch=e3.bind(null,Re,a),[m.memoizedState,a]},useRef:function(a){var s=un();return a={current:a},s.memoizedState=a},useState:function(a){a=_0(a);var s=a.queue,c=X1.bind(null,Re,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:T0,useDeferredValue:function(a,s){var c=un();return A0(c,a,s)},useTransition:function(){var a=_0(!1);return a=F1.bind(null,Re,a.queue,!0,!1),un().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var m=Re,w=un();if(Le){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),et===null)throw Error(r(349));(De&127)!==0||w1(m,s,c)}w.memoizedState=c;var _={value:c,getSnapshot:s};return w.queue=_,L1(S1.bind(null,m,_,a),[a]),m.flags|=2048,Wo(9,{destroy:void 0},_1.bind(null,m,_,c,s),null),c},useId:function(){var a=un(),s=et.identifierPrefix;if(Le){var c=Mr,m=Or;c=(m&~(1<<32-On(m)-1)).toString(32)+c,s="_"+s+"R_"+c,c=zc++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=Kj++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:N0,useFormState:P1,useActionState:P1,useOptimistic:function(a){var s=un();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=I0.bind(null,Re,!0,c),c.dispatch=s,[a,s]},useMemoCache:x0,useCacheRefresh:function(){return un().memoizedState=Qj.bind(null,Re)},useEffectEvent:function(a){var s=un(),c={impl:a};return s.memoizedState=c,function(){if((Ge&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},k0={readContext:Jt,use:Vc,useCallback:V1,useContext:Jt,useEffect:E0,useImperativeHandle:q1,useInsertionEffect:B1,useLayoutEffect:$1,useMemo:G1,useReducer:Gc,useRef:j1,useState:function(){return Gc(ri)},useDebugValue:T0,useDeferredValue:function(a,s){var c=bt();return H1(c,Ye.memoizedState,a,s)},useTransition:function(){var a=Gc(ri)[0],s=bt().memoizedState;return[typeof a=="boolean"?a:Cl(a),s]},useSyncExternalStore:b1,useId:Y1,useHostTransitionStatus:N0,useFormState:O1,useActionState:O1,useOptimistic:function(a,s){var c=bt();return A1(c,Ye,a,s)},useMemoCache:x0,useCacheRefresh:J1};k0.useEffectEvent=U1;var t_={readContext:Jt,use:Vc,useCallback:V1,useContext:Jt,useEffect:E0,useImperativeHandle:q1,useInsertionEffect:B1,useLayoutEffect:$1,useMemo:G1,useReducer:w0,useRef:j1,useState:function(){return w0(ri)},useDebugValue:T0,useDeferredValue:function(a,s){var c=bt();return Ye===null?A0(c,a,s):H1(c,Ye.memoizedState,a,s)},useTransition:function(){var a=w0(ri)[0],s=bt().memoizedState;return[typeof a=="boolean"?a:Cl(a),s]},useSyncExternalStore:b1,useId:Y1,useHostTransitionStatus:N0,useFormState:D1,useActionState:D1,useOptimistic:function(a,s){var c=bt();return Ye!==null?A1(c,Ye,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:x0,useCacheRefresh:J1};t_.useEffectEvent=U1;function R0(a,s,c,m){s=a.memoizedState,c=c(m,s),c=c==null?s:g({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var P0={enqueueSetState:function(a,s,c){a=a._reactInternals;var m=$n(),w=Ki(m);w.payload=s,c!=null&&(w.callback=c),s=Wi(a,w,m),s!==null&&(En(s,a,m),Sl(s,a,m))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var m=$n(),w=Ki(m);w.tag=1,w.payload=s,c!=null&&(w.callback=c),s=Wi(a,w,m),s!==null&&(En(s,a,m),Sl(s,a,m))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=$n(),m=Ki(c);m.tag=2,s!=null&&(m.callback=s),s=Wi(a,m,c),s!==null&&(En(s,a,c),Sl(s,a,c))}};function n_(a,s,c,m,w,_,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,_,I):s.prototype&&s.prototype.isPureReactComponent?!ml(c,m)||!ml(w,_):!0}function r_(a,s,c,m){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,m),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,m),s.state!==a&&P0.enqueueReplaceState(s,s.state,null)}function Ba(a,s){var c=s;if("ref"in s){c={};for(var m in s)m!=="ref"&&(c[m]=s[m])}if(a=a.defaultProps){c===s&&(c=g({},c));for(var w in a)c[w]===void 0&&(c[w]=a[w])}return c}function i_(a){Tc(a)}function a_(a){console.error(a)}function o_(a){Tc(a)}function Wc(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(m){setTimeout(function(){throw m})}}function s_(a,s,c){try{var m=a.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function O0(a,s,c){return c=Ki(c),c.tag=3,c.payload={element:null},c.callback=function(){Wc(a,s)},c}function l_(a){return a=Ki(a),a.tag=3,a}function u_(a,s,c,m){var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var _=m.value;a.payload=function(){return w(_)},a.callback=function(){s_(s,c,m)}}var I=c.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(a.callback=function(){s_(s,c,m),typeof w!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var j=m.stack;this.componentDidCatch(m.value,{componentStack:j!==null?j:""})})}function t3(a,s,c,m,w){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(s=c.alternate,s!==null&&$o(s,c,w,!0),c=jn.current,c!==null){switch(c.tag){case 31:case 13:return tr===null?od():c.alternate===null&&pt===0&&(pt=3),c.flags&=-257,c.flags|=65536,c.lanes=w,m===Dc?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([m]):s.add(m),im(a,m,w)),!1;case 22:return c.flags|=65536,m===Dc?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([m]):c.add(m)),im(a,m,w)),!1}throw Error(r(435,c.tag))}return im(a,m,w),od(),!1}if(Le)return s=jn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=w,m!==Zp&&(a=Error(r(422),{cause:m}),yl(Xn(a,c)))):(m!==Zp&&(s=Error(r(423),{cause:m}),yl(Xn(s,c))),a=a.current.alternate,a.flags|=65536,w&=-w,a.lanes|=w,m=Xn(m,c),w=O0(a.stateNode,m,w),u0(a,w),pt!==4&&(pt=2)),!1;var _=Error(r(520),{cause:m});if(_=Xn(_,c),Ll===null?Ll=[_]:Ll.push(_),pt!==4&&(pt=2),s===null)return!0;m=Xn(m,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=w&-w,c.lanes|=a,a=O0(c.stateNode,m,a),u0(c,a),!1;case 1:if(s=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ea===null||!ea.has(_))))return c.flags|=65536,w&=-w,c.lanes|=w,w=l_(w),u_(w,a,c,m),u0(c,w),!1}c=c.return}while(c!==null);return!1}var M0=Error(r(461)),St=!1;function Xt(a,s,c,m){s.child=a===null?h1(s,null,c,m):La(s,a.child,c,m)}function c_(a,s,c,m,w){c=c.render;var _=s.ref;if("ref"in m){var I={};for(var j in m)j!=="ref"&&(I[j]=m[j])}else I=m;return Oa(s),m=m0(a,s,c,I,_,w),j=g0(),a!==null&&!St?(v0(a,s,w),ii(a,s,w)):(Le&&j&&Jp(s),s.flags|=1,Xt(a,s,m,w),s.child)}function d_(a,s,c,m,w){if(a===null){var _=c.type;return typeof _=="function"&&!Kp(_)&&_.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=_,f_(a,s,_,m,w)):(a=Ic(c.type,null,m,s,s.mode,w),a.ref=s.ref,a.return=s,s.child=a)}if(_=a.child,!q0(a,w)){var I=_.memoizedProps;if(c=c.compare,c=c!==null?c:ml,c(I,m)&&a.ref===s.ref)return ii(a,s,w)}return s.flags|=1,a=Zr(_,m),a.ref=s.ref,a.return=s,s.child=a}function f_(a,s,c,m,w){if(a!==null){var _=a.memoizedProps;if(ml(_,m)&&a.ref===s.ref)if(St=!1,s.pendingProps=m=_,q0(a,w))(a.flags&131072)!==0&&(St=!0);else return s.lanes=a.lanes,ii(a,s,w)}return D0(a,s,c,m,w)}function h_(a,s,c,m){var w=m.children,_=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|c:c,a!==null){for(m=s.child=a.child,w=0;m!==null;)w=w|m.lanes|m.childLanes,m=m.sibling;m=w&~_}else m=0,s.child=null;return p_(a,s,_,c,m)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Oc(s,_!==null?_.cachePool:null),_!==null?g1(s,_):d0(),v1(s);else return m=s.lanes=536870912,p_(a,s,_!==null?_.baseLanes|c:c,c,m)}else _!==null?(Oc(s,_.cachePool),g1(s,_),Ji(),s.memoizedState=null):(a!==null&&Oc(s,null),d0(),Ji());return Xt(a,s,w,c),s.child}function kl(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function p_(a,s,c,m,w){var _=a0();return _=_===null?null:{parent:wt._currentValue,pool:_},s.memoizedState={baseLanes:c,cachePool:_},a!==null&&Oc(s,null),d0(),v1(s),a!==null&&$o(a,s,m,!0),s.childLanes=w,null}function Yc(a,s){return s=Xc({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function m_(a,s,c){return La(s,a.child,null,c),a=Yc(s,s.pendingProps),a.flags|=2,Ln(s),s.memoizedState=null,a}function n3(a,s,c){var m=s.pendingProps,w=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Le){if(m.mode==="hidden")return a=Yc(s,m),s.lanes=536870912,kl(null,a);if(h0(s),(a=at)?(a=CS(a,er),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:qi!==null?{id:Or,overflow:Mr}:null,retryLane:536870912,hydrationErrors:null},c=Zw(a),c.return=s,s.child=c,Yt=s,at=null)):a=null,a===null)throw Gi(s);return s.lanes=536870912,null}return Yc(s,m)}var _=a.memoizedState;if(_!==null){var I=_.dehydrated;if(h0(s),w)if(s.flags&256)s.flags&=-257,s=m_(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(St||$o(a,s,c,!1),w=(c&a.childLanes)!==0,St||w){if(m=et,m!==null&&(I=aw(m,c),I!==0&&I!==_.retryLane))throw _.retryLane=I,Ia(a,I),En(m,a,I),M0;od(),s=m_(a,s,c)}else a=_.treeContext,at=nr(I.nextSibling),Yt=s,Le=!0,Vi=null,er=!1,a!==null&&t1(s,a),s=Yc(s,m),s.flags|=4096;return s}return a=Zr(a.child,{mode:m.mode,children:m.children}),a.ref=s.ref,s.child=a,a.return=s,a}function Jc(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function D0(a,s,c,m,w){return Oa(s),c=m0(a,s,c,m,void 0,w),m=g0(),a!==null&&!St?(v0(a,s,w),ii(a,s,w)):(Le&&m&&Jp(s),s.flags|=1,Xt(a,s,c,w),s.child)}function g_(a,s,c,m,w,_){return Oa(s),s.updateQueue=null,c=x1(s,m,c,w),y1(a),m=g0(),a!==null&&!St?(v0(a,s,_),ii(a,s,_)):(Le&&m&&Jp(s),s.flags|=1,Xt(a,s,c,_),s.child)}function v_(a,s,c,m,w){if(Oa(s),s.stateNode===null){var _=jo,I=c.contextType;typeof I=="object"&&I!==null&&(_=Jt(I)),_=new c(m,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=P0,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=m,_.state=s.memoizedState,_.refs={},s0(s),I=c.contextType,_.context=typeof I=="object"&&I!==null?Jt(I):jo,_.state=s.memoizedState,I=c.getDerivedStateFromProps,typeof I=="function"&&(R0(s,c,I,m),_.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(I=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),I!==_.state&&P0.enqueueReplaceState(_,_.state,null),Tl(s,m,_,w),El(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),m=!0}else if(a===null){_=s.stateNode;var j=s.memoizedProps,H=Ba(c,j);_.props=H;var Q=_.context,ae=c.contextType;I=jo,typeof ae=="object"&&ae!==null&&(I=Jt(ae));var ue=c.getDerivedStateFromProps;ae=typeof ue=="function"||typeof _.getSnapshotBeforeUpdate=="function",j=s.pendingProps!==j,ae||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(j||Q!==I)&&r_(s,_,m,I),Fi=!1;var ee=s.memoizedState;_.state=ee,Tl(s,m,_,w),El(),Q=s.memoizedState,j||ee!==Q||Fi?(typeof ue=="function"&&(R0(s,c,ue,m),Q=s.memoizedState),(H=Fi||n_(s,c,H,m,ee,Q,I))?(ae||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=m,s.memoizedState=Q),_.props=m,_.state=Q,_.context=I,m=H):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),m=!1)}else{_=s.stateNode,l0(a,s),I=s.memoizedProps,ae=Ba(c,I),_.props=ae,ue=s.pendingProps,ee=_.context,Q=c.contextType,H=jo,typeof Q=="object"&&Q!==null&&(H=Jt(Q)),j=c.getDerivedStateFromProps,(Q=typeof j=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==ue||ee!==H)&&r_(s,_,m,H),Fi=!1,ee=s.memoizedState,_.state=ee,Tl(s,m,_,w),El();var re=s.memoizedState;I!==ue||ee!==re||Fi||a!==null&&a.dependencies!==null&&Rc(a.dependencies)?(typeof j=="function"&&(R0(s,c,j,m),re=s.memoizedState),(ae=Fi||n_(s,c,ae,m,ee,re,H)||a!==null&&a.dependencies!==null&&Rc(a.dependencies))?(Q||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,re,H),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,re,H)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===a.memoizedProps&&ee===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ee===a.memoizedState||(s.flags|=1024),s.memoizedProps=m,s.memoizedState=re),_.props=m,_.state=re,_.context=H,m=ae):(typeof _.componentDidUpdate!="function"||I===a.memoizedProps&&ee===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ee===a.memoizedState||(s.flags|=1024),m=!1)}return _=m,Jc(a,s),m=(s.flags&128)!==0,_||m?(_=s.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,a!==null&&m?(s.child=La(s,a.child,null,w),s.child=La(s,null,c,w)):Xt(a,s,c,w),s.memoizedState=_.state,a=s.child):a=ii(a,s,w),a}function y_(a,s,c,m){return Ra(),s.flags|=256,Xt(a,s,c,m),s.child}var j0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function L0(a){return{baseLanes:a,cachePool:s1()}}function U0(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=Bn),a}function x_(a,s,c){var m=s.pendingProps,w=!1,_=(s.flags&128)!==0,I;if((I=_)||(I=a!==null&&a.memoizedState===null?!1:(xt.current&2)!==0),I&&(w=!0,s.flags&=-129),I=(s.flags&32)!==0,s.flags&=-33,a===null){if(Le){if(w?Yi(s):Ji(),(a=at)?(a=CS(a,er),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:qi!==null?{id:Or,overflow:Mr}:null,retryLane:536870912,hydrationErrors:null},c=Zw(a),c.return=s,s.child=c,Yt=s,at=null)):a=null,a===null)throw Gi(s);return bm(a)?s.lanes=32:s.lanes=536870912,null}var j=m.children;return m=m.fallback,w?(Ji(),w=s.mode,j=Xc({mode:"hidden",children:j},w),m=ka(m,w,c,null),j.return=s,m.return=s,j.sibling=m,s.child=j,m=s.child,m.memoizedState=L0(c),m.childLanes=U0(a,I,c),s.memoizedState=j0,kl(null,m)):(Yi(s),B0(s,j))}var H=a.memoizedState;if(H!==null&&(j=H.dehydrated,j!==null)){if(_)s.flags&256?(Yi(s),s.flags&=-257,s=$0(a,s,c)):s.memoizedState!==null?(Ji(),s.child=a.child,s.flags|=128,s=null):(Ji(),j=m.fallback,w=s.mode,m=Xc({mode:"visible",children:m.children},w),j=ka(j,w,c,null),j.flags|=2,m.return=s,j.return=s,m.sibling=j,s.child=m,La(s,a.child,null,c),m=s.child,m.memoizedState=L0(c),m.childLanes=U0(a,I,c),s.memoizedState=j0,s=kl(null,m));else if(Yi(s),bm(j)){if(I=j.nextSibling&&j.nextSibling.dataset,I)var Q=I.dgst;I=Q,m=Error(r(419)),m.stack="",m.digest=I,yl({value:m,source:null,stack:null}),s=$0(a,s,c)}else if(St||$o(a,s,c,!1),I=(c&a.childLanes)!==0,St||I){if(I=et,I!==null&&(m=aw(I,c),m!==0&&m!==H.retryLane))throw H.retryLane=m,Ia(a,m),En(I,a,m),M0;xm(j)||od(),s=$0(a,s,c)}else xm(j)?(s.flags|=192,s.child=a.child,s=null):(a=H.treeContext,at=nr(j.nextSibling),Yt=s,Le=!0,Vi=null,er=!1,a!==null&&t1(s,a),s=B0(s,m.children),s.flags|=4096);return s}return w?(Ji(),j=m.fallback,w=s.mode,H=a.child,Q=H.sibling,m=Zr(H,{mode:"hidden",children:m.children}),m.subtreeFlags=H.subtreeFlags&65011712,Q!==null?j=Zr(Q,j):(j=ka(j,w,c,null),j.flags|=2),j.return=s,m.return=s,m.sibling=j,s.child=m,kl(null,m),m=s.child,j=a.child.memoizedState,j===null?j=L0(c):(w=j.cachePool,w!==null?(H=wt._currentValue,w=w.parent!==H?{parent:H,pool:H}:w):w=s1(),j={baseLanes:j.baseLanes|c,cachePool:w}),m.memoizedState=j,m.childLanes=U0(a,I,c),s.memoizedState=j0,kl(a.child,m)):(Yi(s),c=a.child,a=c.sibling,c=Zr(c,{mode:"visible",children:m.children}),c.return=s,c.sibling=null,a!==null&&(I=s.deletions,I===null?(s.deletions=[a],s.flags|=16):I.push(a)),s.child=c,s.memoizedState=null,c)}function B0(a,s){return s=Xc({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function Xc(a,s){return a=Dn(22,a,null,s),a.lanes=0,a}function $0(a,s,c){return La(s,a.child,null,c),a=B0(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function b_(a,s,c){a.lanes|=s;var m=a.alternate;m!==null&&(m.lanes|=s),t0(a.return,s,c)}function z0(a,s,c,m,w,_){var I=a.memoizedState;I===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:w,treeForkCount:_}:(I.isBackwards=s,I.rendering=null,I.renderingStartTime=0,I.last=m,I.tail=c,I.tailMode=w,I.treeForkCount=_)}function w_(a,s,c){var m=s.pendingProps,w=m.revealOrder,_=m.tail;m=m.children;var I=xt.current,j=(I&2)!==0;if(j?(I=I&1|2,s.flags|=128):I&=1,ce(xt,I),Xt(a,s,m,c),m=Le?vl:0,!j&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&b_(a,c,s);else if(a.tag===19)b_(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(w){case"forwards":for(c=s.child,w=null;c!==null;)a=c.alternate,a!==null&&Bc(a)===null&&(w=c),c=c.sibling;c=w,c===null?(w=s.child,s.child=null):(w=c.sibling,c.sibling=null),z0(s,!1,w,c,_,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,w=s.child,s.child=null;w!==null;){if(a=w.alternate,a!==null&&Bc(a)===null){s.child=w;break}a=w.sibling,w.sibling=c,c=w,w=a}z0(s,!0,c,null,_,m);break;case"together":z0(s,!1,null,null,void 0,m);break;default:s.memoizedState=null}return s.child}function ii(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),Qi|=s.lanes,(c&s.childLanes)===0)if(a!==null){if($o(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,c=Zr(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=Zr(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function q0(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Rc(a)))}function r3(a,s,c){switch(s.tag){case 3:Ie(s,s.stateNode.containerInfo),Hi(s,wt,a.memoizedState.cache),Ra();break;case 27:case 5:_e(s);break;case 4:Ie(s,s.stateNode.containerInfo);break;case 10:Hi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,h0(s),null;break;case 13:var m=s.memoizedState;if(m!==null)return m.dehydrated!==null?(Yi(s),s.flags|=128,null):(c&s.child.childLanes)!==0?x_(a,s,c):(Yi(s),a=ii(a,s,c),a!==null?a.sibling:null);Yi(s);break;case 19:var w=(a.flags&128)!==0;if(m=(c&s.childLanes)!==0,m||($o(a,s,c,!1),m=(c&s.childLanes)!==0),w){if(m)return w_(a,s,c);s.flags|=128}if(w=s.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ce(xt,xt.current),m)break;return null;case 22:return s.lanes=0,h_(a,s,c,s.pendingProps);case 24:Hi(s,wt,a.memoizedState.cache)}return ii(a,s,c)}function __(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)St=!0;else{if(!q0(a,c)&&(s.flags&128)===0)return St=!1,r3(a,s,c);St=(a.flags&131072)!==0}else St=!1,Le&&(s.flags&1048576)!==0&&e1(s,vl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var m=s.pendingProps;if(a=Da(s.elementType),s.type=a,typeof a=="function")Kp(a)?(m=Ba(a,m),s.tag=1,s=v_(null,s,a,m,c)):(s.tag=0,s=D0(null,s,a,m,c));else{if(a!=null){var w=a.$$typeof;if(w===P){s.tag=11,s=c_(null,s,a,m,c);break e}else if(w===B){s.tag=14,s=d_(null,s,a,m,c);break e}}throw s=L(a)||a,Error(r(306,s,""))}}return s;case 0:return D0(a,s,s.type,s.pendingProps,c);case 1:return m=s.type,w=Ba(m,s.pendingProps),v_(a,s,m,w,c);case 3:e:{if(Ie(s,s.stateNode.containerInfo),a===null)throw Error(r(387));m=s.pendingProps;var _=s.memoizedState;w=_.element,l0(a,s),Tl(s,m,null,c);var I=s.memoizedState;if(m=I.cache,Hi(s,wt,m),m!==_.cache&&n0(s,[wt],c,!0),El(),m=I.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:I.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=y_(a,s,m,c);break e}else if(m!==w){w=Xn(Error(r(424)),s),yl(w),s=y_(a,s,m,c);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(at=nr(a.firstChild),Yt=s,Le=!0,Vi=null,er=!0,c=h1(s,null,m,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ra(),m===w){s=ii(a,s,c);break e}Xt(a,s,m,c)}s=s.child}return s;case 26:return Jc(a,s),a===null?(c=OS(s.type,null,s.pendingProps,null))?s.memoizedState=c:Le||(c=s.type,a=s.pendingProps,m=hd(de.current).createElement(c),m[Wt]=s,m[yn]=a,Zt(m,c,a),Dt(m),s.stateNode=m):s.memoizedState=OS(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return _e(s),a===null&&Le&&(m=s.stateNode=kS(s.type,s.pendingProps,de.current),Yt=s,er=!0,w=at,ia(s.type)?(wm=w,at=nr(m.firstChild)):at=w),Xt(a,s,s.pendingProps.children,c),Jc(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Le&&((w=m=at)&&(m=O3(m,s.type,s.pendingProps,er),m!==null?(s.stateNode=m,Yt=s,at=nr(m.firstChild),er=!1,w=!0):w=!1),w||Gi(s)),_e(s),w=s.type,_=s.pendingProps,I=a!==null?a.memoizedProps:null,m=_.children,gm(w,_)?m=null:I!==null&&gm(w,I)&&(s.flags|=32),s.memoizedState!==null&&(w=m0(a,s,Wj,null,null,c),Hl._currentValue=w),Jc(a,s),Xt(a,s,m,c),s.child;case 6:return a===null&&Le&&((a=c=at)&&(c=M3(c,s.pendingProps,er),c!==null?(s.stateNode=c,Yt=s,at=null,a=!0):a=!1),a||Gi(s)),null;case 13:return x_(a,s,c);case 4:return Ie(s,s.stateNode.containerInfo),m=s.pendingProps,a===null?s.child=La(s,null,m,c):Xt(a,s,m,c),s.child;case 11:return c_(a,s,s.type,s.pendingProps,c);case 7:return Xt(a,s,s.pendingProps,c),s.child;case 8:return Xt(a,s,s.pendingProps.children,c),s.child;case 12:return Xt(a,s,s.pendingProps.children,c),s.child;case 10:return m=s.pendingProps,Hi(s,s.type,m.value),Xt(a,s,m.children,c),s.child;case 9:return w=s.type._context,m=s.pendingProps.children,Oa(s),w=Jt(w),m=m(w),s.flags|=1,Xt(a,s,m,c),s.child;case 14:return d_(a,s,s.type,s.pendingProps,c);case 15:return f_(a,s,s.type,s.pendingProps,c);case 19:return w_(a,s,c);case 31:return n3(a,s,c);case 22:return h_(a,s,c,s.pendingProps);case 24:return Oa(s),m=Jt(wt),a===null?(w=a0(),w===null&&(w=et,_=r0(),w.pooledCache=_,_.refCount++,_!==null&&(w.pooledCacheLanes|=c),w=_),s.memoizedState={parent:m,cache:w},s0(s),Hi(s,wt,w)):((a.lanes&c)!==0&&(l0(a,s),Tl(s,null,null,c),El()),w=a.memoizedState,_=s.memoizedState,w.parent!==m?(w={parent:m,cache:m},s.memoizedState=w,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=w),Hi(s,wt,m)):(m=_.cache,Hi(s,wt,m),m!==w.cache&&n0(s,[wt],c,!0))),Xt(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ai(a){a.flags|=4}function V0(a,s,c,m,w){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(w&335544128)===w)if(a.stateNode.complete)a.flags|=8192;else if(Y_())a.flags|=8192;else throw ja=Dc,o0}else a.flags&=-16777217}function S_(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!US(s))if(Y_())a.flags|=8192;else throw ja=Dc,o0}function Zc(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?nw():536870912,a.lanes|=s,Zo|=s)}function Rl(a,s){if(!Le)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function ot(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,m=0;if(s)for(var w=a.child;w!==null;)c|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=a,w=w.sibling;else for(w=a.child;w!==null;)c|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=a,w=w.sibling;return a.subtreeFlags|=m,a.childLanes=c,s}function i3(a,s,c){var m=s.pendingProps;switch(Xp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(s),null;case 1:return ot(s),null;case 3:return c=s.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),s.memoizedState.cache!==m&&(s.flags|=2048),ti(wt),ie(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Bo(s)?ai(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Qp())),ot(s),null;case 26:var w=s.type,_=s.memoizedState;return a===null?(ai(s),_!==null?(ot(s),S_(s,_)):(ot(s),V0(s,w,null,m,c))):_?_!==a.memoizedState?(ai(s),ot(s),S_(s,_)):(ot(s),s.flags&=-16777217):(a=a.memoizedProps,a!==m&&ai(s),ot(s),V0(s,w,a,m,c)),null;case 27:if(Ce(s),c=de.current,w=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==m&&ai(s);else{if(!m){if(s.stateNode===null)throw Error(r(166));return ot(s),null}a=pe.current,Bo(s)?n1(s):(a=kS(w,m,c),s.stateNode=a,ai(s))}return ot(s),null;case 5:if(Ce(s),w=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==m&&ai(s);else{if(!m){if(s.stateNode===null)throw Error(r(166));return ot(s),null}if(_=pe.current,Bo(s))n1(s);else{var I=hd(de.current);switch(_){case 1:_=I.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:_=I.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":_=I.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":_=I.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":_=I.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof m.is=="string"?I.createElement("select",{is:m.is}):I.createElement("select"),m.multiple?_.multiple=!0:m.size&&(_.size=m.size);break;default:_=typeof m.is=="string"?I.createElement(w,{is:m.is}):I.createElement(w)}}_[Wt]=s,_[yn]=m;e:for(I=s.child;I!==null;){if(I.tag===5||I.tag===6)_.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===s)break e;for(;I.sibling===null;){if(I.return===null||I.return===s)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}s.stateNode=_;e:switch(Zt(_,w,m),w){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ai(s)}}return ot(s),V0(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==m&&ai(s);else{if(typeof m!="string"&&s.stateNode===null)throw Error(r(166));if(a=de.current,Bo(s)){if(a=s.stateNode,c=s.memoizedProps,m=null,w=Yt,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}a[Wt]=s,a=!!(a.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||xS(a.nodeValue,c)),a||Gi(s,!0)}else a=hd(a).createTextNode(m),a[Wt]=s,s.stateNode=a}return ot(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(m=Bo(s),c!==null){if(a===null){if(!m)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Wt]=s}else Ra(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),a=!1}else c=Qp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?(Ln(s),s):(Ln(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ot(s),null;case 13:if(m=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(w=Bo(s),m!==null&&m.dehydrated!==null){if(a===null){if(!w)throw Error(r(318));if(w=s.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[Wt]=s}else Ra(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),w=!1}else w=Qp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=w),w=!0;if(!w)return s.flags&256?(Ln(s),s):(Ln(s),null)}return Ln(s),(s.flags&128)!==0?(s.lanes=c,s):(c=m!==null,a=a!==null&&a.memoizedState!==null,c&&(m=s.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool),_=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(_=m.memoizedState.cachePool.pool),_!==w&&(m.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),Zc(s,s.updateQueue),ot(s),null);case 4:return ie(),a===null&&dm(s.stateNode.containerInfo),ot(s),null;case 10:return ti(s.type),ot(s),null;case 19:if(J(xt),m=s.memoizedState,m===null)return ot(s),null;if(w=(s.flags&128)!==0,_=m.rendering,_===null)if(w)Rl(m,!1);else{if(pt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(_=Bc(a),_!==null){for(s.flags|=128,Rl(m,!1),a=_.updateQueue,s.updateQueue=a,Zc(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)Xw(c,a),c=c.sibling;return ce(xt,xt.current&1|2),Le&&Qr(s,m.treeForkCount),s.child}a=a.sibling}m.tail!==null&&Rn()>rd&&(s.flags|=128,w=!0,Rl(m,!1),s.lanes=4194304)}else{if(!w)if(a=Bc(_),a!==null){if(s.flags|=128,w=!0,a=a.updateQueue,s.updateQueue=a,Zc(s,a),Rl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Le)return ot(s),null}else 2*Rn()-m.renderingStartTime>rd&&c!==536870912&&(s.flags|=128,w=!0,Rl(m,!1),s.lanes=4194304);m.isBackwards?(_.sibling=s.child,s.child=_):(a=m.last,a!==null?a.sibling=_:s.child=_,m.last=_)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Rn(),a.sibling=null,c=xt.current,ce(xt,w?c&1|2:c&1),Le&&Qr(s,m.treeForkCount),a):(ot(s),null);case 22:case 23:return Ln(s),f0(),m=s.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(s.flags|=8192):m&&(s.flags|=8192),m?(c&536870912)!==0&&(s.flags&128)===0&&(ot(s),s.subtreeFlags&6&&(s.flags|=8192)):ot(s),c=s.updateQueue,c!==null&&Zc(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==c&&(s.flags|=2048),a!==null&&J(Ma),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ti(wt),ot(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function a3(a,s){switch(Xp(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return ti(wt),ie(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Ce(s),null;case 31:if(s.memoizedState!==null){if(Ln(s),s.alternate===null)throw Error(r(340));Ra()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Ln(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ra()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return J(xt),null;case 4:return ie(),null;case 10:return ti(s.type),null;case 22:case 23:return Ln(s),f0(),a!==null&&J(Ma),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return ti(wt),null;case 25:return null;default:return null}}function E_(a,s){switch(Xp(s),s.tag){case 3:ti(wt),ie();break;case 26:case 27:case 5:Ce(s);break;case 4:ie();break;case 31:s.memoizedState!==null&&Ln(s);break;case 13:Ln(s);break;case 19:J(xt);break;case 10:ti(s.type);break;case 22:case 23:Ln(s),f0(),a!==null&&J(Ma);break;case 24:ti(wt)}}function Pl(a,s){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var w=m.next;c=w;do{if((c.tag&a)===a){m=void 0;var _=c.create,I=c.inst;m=_(),I.destroy=m}c=c.next}while(c!==w)}}catch(j){Fe(s,s.return,j)}}function Xi(a,s,c){try{var m=s.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var _=w.next;m=_;do{if((m.tag&a)===a){var I=m.inst,j=I.destroy;if(j!==void 0){I.destroy=void 0,w=s;var H=c,Q=j;try{Q()}catch(ae){Fe(w,H,ae)}}}m=m.next}while(m!==_)}}catch(ae){Fe(s,s.return,ae)}}function T_(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{m1(s,c)}catch(m){Fe(a,a.return,m)}}}function A_(a,s,c){c.props=Ba(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(m){Fe(a,s,m)}}function Ol(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof c=="function"?a.refCleanup=c(m):c.current=m}}catch(w){Fe(a,s,w)}}function Dr(a,s){var c=a.ref,m=a.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(w){Fe(a,s,w)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(w){Fe(a,s,w)}else c.current=null}function C_(a){var s=a.type,c=a.memoizedProps,m=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(w){Fe(a,a.return,w)}}function G0(a,s,c){try{var m=a.stateNode;C3(m,a.type,c,s),m[yn]=s}catch(w){Fe(a,a.return,w)}}function N_(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ia(a.type)||a.tag===4}function H0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||N_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ia(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function F0(a,s,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Jr));else if(m!==4&&(m===27&&ia(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(F0(a,s,c),a=a.sibling;a!==null;)F0(a,s,c),a=a.sibling}function Qc(a,s,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(m!==4&&(m===27&&ia(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Qc(a,s,c),a=a.sibling;a!==null;)Qc(a,s,c),a=a.sibling}function I_(a){var s=a.stateNode,c=a.memoizedProps;try{for(var m=a.type,w=s.attributes;w.length;)s.removeAttributeNode(w[0]);Zt(s,m,c),s[Wt]=a,s[yn]=c}catch(_){Fe(a,a.return,_)}}var oi=!1,Et=!1,K0=!1,k_=typeof WeakSet=="function"?WeakSet:Set,jt=null;function o3(a,s){if(a=a.containerInfo,pm=bd,a=qw(a),$p(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var w=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var I=0,j=-1,H=-1,Q=0,ae=0,ue=a,ee=null;t:for(;;){for(var re;ue!==c||w!==0&&ue.nodeType!==3||(j=I+w),ue!==_||m!==0&&ue.nodeType!==3||(H=I+m),ue.nodeType===3&&(I+=ue.nodeValue.length),(re=ue.firstChild)!==null;)ee=ue,ue=re;for(;;){if(ue===a)break t;if(ee===c&&++Q===w&&(j=I),ee===_&&++ae===m&&(H=I),(re=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=re}c=j===-1||H===-1?null:{start:j,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(mm={focusedElem:a,selectionRange:c},bd=!1,jt=s;jt!==null;)if(s=jt,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,jt=a;else for(;jt!==null;){switch(s=jt,_=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)w=a[c],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,c=s,w=_.memoizedProps,_=_.memoizedState,m=c.stateNode;try{var ve=Ba(c.type,w);a=m.getSnapshotBeforeUpdate(ve,_),m.__reactInternalSnapshotBeforeUpdate=a}catch(Se){Fe(c,c.return,Se)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)ym(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":ym(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,jt=a;break}jt=s.return}}function R_(a,s,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:li(a,c),m&4&&Pl(5,c);break;case 1:if(li(a,c),m&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(I){Fe(c,c.return,I)}else{var w=Ba(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(w,s,a.__reactInternalSnapshotBeforeUpdate)}catch(I){Fe(c,c.return,I)}}m&64&&T_(c),m&512&&Ol(c,c.return);break;case 3:if(li(a,c),m&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{m1(a,s)}catch(I){Fe(c,c.return,I)}}break;case 27:s===null&&m&4&&I_(c);case 26:case 5:li(a,c),s===null&&m&4&&C_(c),m&512&&Ol(c,c.return);break;case 12:li(a,c);break;case 31:li(a,c),m&4&&M_(a,c);break;case 13:li(a,c),m&4&&D_(a,c),m&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=m3.bind(null,c),D3(a,c))));break;case 22:if(m=c.memoizedState!==null||oi,!m){s=s!==null&&s.memoizedState!==null||Et,w=oi;var _=Et;oi=m,(Et=s)&&!_?ui(a,c,(c.subtreeFlags&8772)!==0):li(a,c),oi=w,Et=_}break;case 30:break;default:li(a,c)}}function P_(a){var s=a.alternate;s!==null&&(a.alternate=null,P_(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Sp(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var lt=null,bn=!1;function si(a,s,c){for(c=c.child;c!==null;)O_(a,s,c),c=c.sibling}function O_(a,s,c){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(rl,c)}catch{}switch(c.tag){case 26:Et||Dr(c,s),si(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Et||Dr(c,s);var m=lt,w=bn;ia(c.type)&&(lt=c.stateNode,bn=!1),si(a,s,c),ql(c.stateNode),lt=m,bn=w;break;case 5:Et||Dr(c,s);case 6:if(m=lt,w=bn,lt=null,si(a,s,c),lt=m,bn=w,lt!==null)if(bn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(c.stateNode)}catch(_){Fe(c,s,_)}else try{lt.removeChild(c.stateNode)}catch(_){Fe(c,s,_)}break;case 18:lt!==null&&(bn?(a=lt,TS(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),os(a)):TS(lt,c.stateNode));break;case 4:m=lt,w=bn,lt=c.stateNode.containerInfo,bn=!0,si(a,s,c),lt=m,bn=w;break;case 0:case 11:case 14:case 15:Xi(2,c,s),Et||Xi(4,c,s),si(a,s,c);break;case 1:Et||(Dr(c,s),m=c.stateNode,typeof m.componentWillUnmount=="function"&&A_(c,s,m)),si(a,s,c);break;case 21:si(a,s,c);break;case 22:Et=(m=Et)||c.memoizedState!==null,si(a,s,c),Et=m;break;default:si(a,s,c)}}function M_(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{os(a)}catch(c){Fe(s,s.return,c)}}}function D_(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{os(a)}catch(c){Fe(s,s.return,c)}}function s3(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new k_),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new k_),s;default:throw Error(r(435,a.tag))}}function ed(a,s){var c=s3(a);s.forEach(function(m){if(!c.has(m)){c.add(m);var w=g3.bind(null,a,m);m.then(w,w)}})}function wn(a,s){var c=s.deletions;if(c!==null)for(var m=0;m<c.length;m++){var w=c[m],_=a,I=s,j=I;e:for(;j!==null;){switch(j.tag){case 27:if(ia(j.type)){lt=j.stateNode,bn=!1;break e}break;case 5:lt=j.stateNode,bn=!1;break e;case 3:case 4:lt=j.stateNode.containerInfo,bn=!0;break e}j=j.return}if(lt===null)throw Error(r(160));O_(_,I,w),lt=null,bn=!1,_=w.alternate,_!==null&&(_.return=null),w.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)j_(s,a),s=s.sibling}var gr=null;function j_(a,s){var c=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:wn(s,a),_n(a),m&4&&(Xi(3,a,a.return),Pl(3,a),Xi(5,a,a.return));break;case 1:wn(s,a),_n(a),m&512&&(Et||c===null||Dr(c,c.return)),m&64&&oi&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var w=gr;if(wn(s,a),_n(a),m&512&&(Et||c===null||Dr(c,c.return)),m&4){var _=c!==null?c.memoizedState:null;if(m=a.memoizedState,c===null)if(m===null)if(a.stateNode===null){e:{m=a.type,c=a.memoizedProps,w=w.ownerDocument||w;t:switch(m){case"title":_=w.getElementsByTagName("title")[0],(!_||_[ol]||_[Wt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=w.createElement(m),w.head.insertBefore(_,w.querySelector("head > title"))),Zt(_,m,c),_[Wt]=a,Dt(_),m=_;break e;case"link":var I=jS("link","href",w).get(m+(c.href||""));if(I){for(var j=0;j<I.length;j++)if(_=I[j],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){I.splice(j,1);break t}}_=w.createElement(m),Zt(_,m,c),w.head.appendChild(_);break;case"meta":if(I=jS("meta","content",w).get(m+(c.content||""))){for(j=0;j<I.length;j++)if(_=I[j],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){I.splice(j,1);break t}}_=w.createElement(m),Zt(_,m,c),w.head.appendChild(_);break;default:throw Error(r(468,m))}_[Wt]=a,Dt(_),m=_}a.stateNode=m}else LS(w,a.type,a.stateNode);else a.stateNode=DS(w,m,a.memoizedProps);else _!==m?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,m===null?LS(w,a.type,a.stateNode):DS(w,m,a.memoizedProps)):m===null&&a.stateNode!==null&&G0(a,a.memoizedProps,c.memoizedProps)}break;case 27:wn(s,a),_n(a),m&512&&(Et||c===null||Dr(c,c.return)),c!==null&&m&4&&G0(a,a.memoizedProps,c.memoizedProps);break;case 5:if(wn(s,a),_n(a),m&512&&(Et||c===null||Dr(c,c.return)),a.flags&32){w=a.stateNode;try{Io(w,"")}catch(ve){Fe(a,a.return,ve)}}m&4&&a.stateNode!=null&&(w=a.memoizedProps,G0(a,w,c!==null?c.memoizedProps:w)),m&1024&&(K0=!0);break;case 6:if(wn(s,a),_n(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,c=a.stateNode;try{c.nodeValue=m}catch(ve){Fe(a,a.return,ve)}}break;case 3:if(gd=null,w=gr,gr=pd(s.containerInfo),wn(s,a),gr=w,_n(a),m&4&&c!==null&&c.memoizedState.isDehydrated)try{os(s.containerInfo)}catch(ve){Fe(a,a.return,ve)}K0&&(K0=!1,L_(a));break;case 4:m=gr,gr=pd(a.stateNode.containerInfo),wn(s,a),_n(a),gr=m;break;case 12:wn(s,a),_n(a);break;case 31:wn(s,a),_n(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,ed(a,m)));break;case 13:wn(s,a),_n(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(nd=Rn()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,ed(a,m)));break;case 22:w=a.memoizedState!==null;var H=c!==null&&c.memoizedState!==null,Q=oi,ae=Et;if(oi=Q||w,Et=ae||H,wn(s,a),Et=ae,oi=Q,_n(a),m&8192)e:for(s=a.stateNode,s._visibility=w?s._visibility&-2:s._visibility|1,w&&(c===null||H||oi||Et||$a(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){H=c=s;try{if(_=H.stateNode,w)I=_.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{j=H.stateNode;var ue=H.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;j.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(ve){Fe(H,H.return,ve)}}}else if(s.tag===6){if(c===null){H=s;try{H.stateNode.nodeValue=w?"":H.memoizedProps}catch(ve){Fe(H,H.return,ve)}}}else if(s.tag===18){if(c===null){H=s;try{var re=H.stateNode;w?AS(re,!0):AS(H.stateNode,!1)}catch(ve){Fe(H,H.return,ve)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}m&4&&(m=a.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,ed(a,c))));break;case 19:wn(s,a),_n(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,ed(a,m)));break;case 30:break;case 21:break;default:wn(s,a),_n(a)}}function _n(a){var s=a.flags;if(s&2){try{for(var c,m=a.return;m!==null;){if(N_(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var w=c.stateNode,_=H0(a);Qc(a,_,w);break;case 5:var I=c.stateNode;c.flags&32&&(Io(I,""),c.flags&=-33);var j=H0(a);Qc(a,j,I);break;case 3:case 4:var H=c.stateNode.containerInfo,Q=H0(a);F0(a,Q,H);break;default:throw Error(r(161))}}catch(ae){Fe(a,a.return,ae)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function L_(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;L_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function li(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)R_(a,s.alternate,s),s=s.sibling}function $a(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Xi(4,s,s.return),$a(s);break;case 1:Dr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&A_(s,s.return,c),$a(s);break;case 27:ql(s.stateNode);case 26:case 5:Dr(s,s.return),$a(s);break;case 22:s.memoizedState===null&&$a(s);break;case 30:$a(s);break;default:$a(s)}a=a.sibling}}function ui(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var m=s.alternate,w=a,_=s,I=_.flags;switch(_.tag){case 0:case 11:case 15:ui(w,_,c),Pl(4,_);break;case 1:if(ui(w,_,c),m=_,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Q){Fe(m,m.return,Q)}if(m=_,w=m.updateQueue,w!==null){var j=m.stateNode;try{var H=w.shared.hiddenCallbacks;if(H!==null)for(w.shared.hiddenCallbacks=null,w=0;w<H.length;w++)p1(H[w],j)}catch(Q){Fe(m,m.return,Q)}}c&&I&64&&T_(_),Ol(_,_.return);break;case 27:I_(_);case 26:case 5:ui(w,_,c),c&&m===null&&I&4&&C_(_),Ol(_,_.return);break;case 12:ui(w,_,c);break;case 31:ui(w,_,c),c&&I&4&&M_(w,_);break;case 13:ui(w,_,c),c&&I&4&&D_(w,_);break;case 22:_.memoizedState===null&&ui(w,_,c),Ol(_,_.return);break;case 30:break;default:ui(w,_,c)}s=s.sibling}}function W0(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&xl(c))}function Y0(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&xl(a))}function vr(a,s,c,m){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)U_(a,s,c,m),s=s.sibling}function U_(a,s,c,m){var w=s.flags;switch(s.tag){case 0:case 11:case 15:vr(a,s,c,m),w&2048&&Pl(9,s);break;case 1:vr(a,s,c,m);break;case 3:vr(a,s,c,m),w&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&xl(a)));break;case 12:if(w&2048){vr(a,s,c,m),a=s.stateNode;try{var _=s.memoizedProps,I=_.id,j=_.onPostCommit;typeof j=="function"&&j(I,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(H){Fe(s,s.return,H)}}else vr(a,s,c,m);break;case 31:vr(a,s,c,m);break;case 13:vr(a,s,c,m);break;case 23:break;case 22:_=s.stateNode,I=s.alternate,s.memoizedState!==null?_._visibility&2?vr(a,s,c,m):Ml(a,s):_._visibility&2?vr(a,s,c,m):(_._visibility|=2,Yo(a,s,c,m,(s.subtreeFlags&10256)!==0||!1)),w&2048&&W0(I,s);break;case 24:vr(a,s,c,m),w&2048&&Y0(s.alternate,s);break;default:vr(a,s,c,m)}}function Yo(a,s,c,m,w){for(w=w&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=a,I=s,j=c,H=m,Q=I.flags;switch(I.tag){case 0:case 11:case 15:Yo(_,I,j,H,w),Pl(8,I);break;case 23:break;case 22:var ae=I.stateNode;I.memoizedState!==null?ae._visibility&2?Yo(_,I,j,H,w):Ml(_,I):(ae._visibility|=2,Yo(_,I,j,H,w)),w&&Q&2048&&W0(I.alternate,I);break;case 24:Yo(_,I,j,H,w),w&&Q&2048&&Y0(I.alternate,I);break;default:Yo(_,I,j,H,w)}s=s.sibling}}function Ml(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,m=s,w=m.flags;switch(m.tag){case 22:Ml(c,m),w&2048&&W0(m.alternate,m);break;case 24:Ml(c,m),w&2048&&Y0(m.alternate,m);break;default:Ml(c,m)}s=s.sibling}}var Dl=8192;function Jo(a,s,c){if(a.subtreeFlags&Dl)for(a=a.child;a!==null;)B_(a,s,c),a=a.sibling}function B_(a,s,c){switch(a.tag){case 26:Jo(a,s,c),a.flags&Dl&&a.memoizedState!==null&&K3(c,gr,a.memoizedState,a.memoizedProps);break;case 5:Jo(a,s,c);break;case 3:case 4:var m=gr;gr=pd(a.stateNode.containerInfo),Jo(a,s,c),gr=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=Dl,Dl=16777216,Jo(a,s,c),Dl=m):Jo(a,s,c));break;default:Jo(a,s,c)}}function $_(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function jl(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var m=s[c];jt=m,q_(m,a)}$_(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)z_(a),a=a.sibling}function z_(a){switch(a.tag){case 0:case 11:case 15:jl(a),a.flags&2048&&Xi(9,a,a.return);break;case 3:jl(a);break;case 12:jl(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,td(a)):jl(a);break;default:jl(a)}}function td(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var m=s[c];jt=m,q_(m,a)}$_(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Xi(8,s,s.return),td(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,td(s));break;default:td(s)}a=a.sibling}}function q_(a,s){for(;jt!==null;){var c=jt;switch(c.tag){case 0:case 11:case 15:Xi(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:xl(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,jt=m;else e:for(c=a;jt!==null;){m=jt;var w=m.sibling,_=m.return;if(P_(m),m===c){jt=null;break e}if(w!==null){w.return=_,jt=w;break e}jt=_}}}var l3={getCacheForType:function(a){var s=Jt(wt),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return Jt(wt).controller.signal}},u3=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Oe=null,De=0,He=0,Un=null,Zi=!1,Xo=!1,J0=!1,ci=0,pt=0,Qi=0,za=0,X0=0,Bn=0,Zo=0,Ll=null,Sn=null,Z0=!1,nd=0,V_=0,rd=1/0,id=null,ea=null,It=0,ta=null,Qo=null,di=0,Q0=0,em=null,G_=null,Ul=0,tm=null;function $n(){return(Ge&2)!==0&&De!==0?De&-De:z.T!==null?sm():ow()}function H_(){if(Bn===0)if((De&536870912)===0||Le){var a=fc;fc<<=1,(fc&3932160)===0&&(fc=262144),Bn=a}else Bn=536870912;return a=jn.current,a!==null&&(a.flags|=32),Bn}function En(a,s,c){(a===et&&(He===2||He===9)||a.cancelPendingCommit!==null)&&(es(a,0),na(a,De,Bn,!1)),al(a,c),((Ge&2)===0||a!==et)&&(a===et&&((Ge&2)===0&&(za|=c),pt===4&&na(a,De,Bn,!1)),jr(a))}function F_(a,s,c){if((Ge&6)!==0)throw Error(r(327));var m=!c&&(s&127)===0&&(s&a.expiredLanes)===0||il(a,s),w=m?f3(a,s):rm(a,s,!0),_=m;do{if(w===0){Xo&&!m&&na(a,s,0,!1);break}else{if(c=a.current.alternate,_&&!c3(c)){w=rm(a,s,!1),_=!1;continue}if(w===2){if(_=s,a.errorRecoveryDisabledLanes&_)var I=0;else I=a.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){s=I;e:{var j=a;w=Ll;var H=j.current.memoizedState.isDehydrated;if(H&&(es(j,I).flags|=256),I=rm(j,I,!1),I!==2){if(J0&&!H){j.errorRecoveryDisabledLanes|=_,za|=_,w=4;break e}_=Sn,Sn=w,_!==null&&(Sn===null?Sn=_:Sn.push.apply(Sn,_))}w=I}if(_=!1,w!==2)continue}}if(w===1){es(a,0),na(a,s,0,!0);break}e:{switch(m=a,_=w,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:na(m,s,Bn,!Zi);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(w=nd+300-Rn(),10<w)){if(na(m,s,Bn,!Zi),pc(m,0,!0)!==0)break e;di=s,m.timeoutHandle=SS(K_.bind(null,m,c,Sn,id,Z0,s,Bn,za,Zo,Zi,_,"Throttled",-0,0),w);break e}K_(m,c,Sn,id,Z0,s,Bn,za,Zo,Zi,_,null,-0,0)}}break}while(!0);jr(a)}function K_(a,s,c,m,w,_,I,j,H,Q,ae,ue,ee,re){if(a.timeoutHandle=-1,ue=s.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jr},B_(s,_,ue);var ve=(_&62914560)===_?nd-Rn():(_&4194048)===_?V_-Rn():0;if(ve=W3(ue,ve),ve!==null){di=_,a.cancelPendingCommit=ve(tS.bind(null,a,s,_,c,m,w,I,j,H,ae,ue,null,ee,re)),na(a,_,I,!Q);return}}tS(a,s,_,c,m,w,I,j,H)}function c3(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var w=c[m],_=w.getSnapshot;w=w.value;try{if(!Mn(_(),w))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function na(a,s,c,m){s&=~X0,s&=~za,a.suspendedLanes|=s,a.pingedLanes&=~s,m&&(a.warmLanes|=s),m=a.expirationTimes;for(var w=s;0<w;){var _=31-On(w),I=1<<_;m[_]=-1,w&=~I}c!==0&&rw(a,c,s)}function ad(){return(Ge&6)===0?(Bl(0),!1):!0}function nm(){if(Oe!==null){if(He===0)var a=Oe.return;else a=Oe,ei=Pa=null,y0(a),Go=null,wl=0,a=Oe;for(;a!==null;)E_(a.alternate,a),a=a.return;Oe=null}}function es(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,k3(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),di=0,nm(),et=a,Oe=c=Zr(a.current,null),De=s,He=0,Un=null,Zi=!1,Xo=il(a,s),J0=!1,Zo=Bn=X0=za=Qi=pt=0,Sn=Ll=null,Z0=!1,(s&8)!==0&&(s|=s&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=s;0<m;){var w=31-On(m),_=1<<w;s|=a[w],m&=~_}return ci=s,Ac(),c}function W_(a,s){Re=null,z.H=Il,s===Vo||s===Mc?(s=c1(),He=3):s===o0?(s=c1(),He=4):He=s===M0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Un=s,Oe===null&&(pt=1,Wc(a,Xn(s,a.current)))}function Y_(){var a=jn.current;return a===null?!0:(De&4194048)===De?tr===null:(De&62914560)===De||(De&536870912)!==0?a===tr:!1}function J_(){var a=z.H;return z.H=Il,a===null?Il:a}function X_(){var a=z.A;return z.A=l3,a}function od(){pt=4,Zi||(De&4194048)!==De&&jn.current!==null||(Xo=!0),(Qi&134217727)===0&&(za&134217727)===0||et===null||na(et,De,Bn,!1)}function rm(a,s,c){var m=Ge;Ge|=2;var w=J_(),_=X_();(et!==a||De!==s)&&(id=null,es(a,s)),s=!1;var I=pt;e:do try{if(He!==0&&Oe!==null){var j=Oe,H=Un;switch(He){case 8:nm(),I=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(s=!0);var Q=He;if(He=0,Un=null,ts(a,j,H,Q),c&&Xo){I=0;break e}break;default:Q=He,He=0,Un=null,ts(a,j,H,Q)}}d3(),I=pt;break}catch(ae){W_(a,ae)}while(!0);return s&&a.shellSuspendCounter++,ei=Pa=null,Ge=m,z.H=w,z.A=_,Oe===null&&(et=null,De=0,Ac()),I}function d3(){for(;Oe!==null;)Z_(Oe)}function f3(a,s){var c=Ge;Ge|=2;var m=J_(),w=X_();et!==a||De!==s?(id=null,rd=Rn()+500,es(a,s)):Xo=il(a,s);e:do try{if(He!==0&&Oe!==null){s=Oe;var _=Un;t:switch(He){case 1:He=0,Un=null,ts(a,s,_,1);break;case 2:case 9:if(l1(_)){He=0,Un=null,Q_(s);break}s=function(){He!==2&&He!==9||et!==a||(He=7),jr(a)},_.then(s,s);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:l1(_)?(He=0,Un=null,Q_(s)):(He=0,Un=null,ts(a,s,_,7));break;case 5:var I=null;switch(Oe.tag){case 26:I=Oe.memoizedState;case 5:case 27:var j=Oe;if(I?US(I):j.stateNode.complete){He=0,Un=null;var H=j.sibling;if(H!==null)Oe=H;else{var Q=j.return;Q!==null?(Oe=Q,sd(Q)):Oe=null}break t}}He=0,Un=null,ts(a,s,_,5);break;case 6:He=0,Un=null,ts(a,s,_,6);break;case 8:nm(),pt=6;break e;default:throw Error(r(462))}}h3();break}catch(ae){W_(a,ae)}while(!0);return ei=Pa=null,z.H=m,z.A=w,Ge=c,Oe!==null?0:(et=null,De=0,Ac(),pt)}function h3(){for(;Oe!==null&&!jD();)Z_(Oe)}function Z_(a){var s=__(a.alternate,a,ci);a.memoizedProps=a.pendingProps,s===null?sd(a):Oe=s}function Q_(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=g_(c,s,s.pendingProps,s.type,void 0,De);break;case 11:s=g_(c,s,s.pendingProps,s.type.render,s.ref,De);break;case 5:y0(s);default:E_(c,s),s=Oe=Xw(s,ci),s=__(c,s,ci)}a.memoizedProps=a.pendingProps,s===null?sd(a):Oe=s}function ts(a,s,c,m){ei=Pa=null,y0(s),Go=null,wl=0;var w=s.return;try{if(t3(a,w,s,c,De)){pt=1,Wc(a,Xn(c,a.current)),Oe=null;return}}catch(_){if(w!==null)throw Oe=w,_;pt=1,Wc(a,Xn(c,a.current)),Oe=null;return}s.flags&32768?(Le||m===1?a=!0:Xo||(De&536870912)!==0?a=!1:(Zi=a=!0,(m===2||m===9||m===3||m===6)&&(m=jn.current,m!==null&&m.tag===13&&(m.flags|=16384))),eS(s,a)):sd(s)}function sd(a){var s=a;do{if((s.flags&32768)!==0){eS(s,Zi);return}a=s.return;var c=i3(s.alternate,s,ci);if(c!==null){Oe=c;return}if(s=s.sibling,s!==null){Oe=s;return}Oe=s=a}while(s!==null);pt===0&&(pt=5)}function eS(a,s){do{var c=a3(a.alternate,a);if(c!==null){c.flags&=32767,Oe=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){Oe=a;return}Oe=a=c}while(a!==null);pt=6,Oe=null}function tS(a,s,c,m,w,_,I,j,H){a.cancelPendingCommit=null;do ld();while(It!==0);if((Ge&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=Hp,FD(a,c,_,I,j,H),a===et&&(Oe=et=null,De=0),Qo=s,ta=a,di=c,Q0=_,em=w,G_=m,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,v3(cc,function(){return oS(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||m){m=z.T,z.T=null,w=F.p,F.p=2,I=Ge,Ge|=4;try{o3(a,s,c)}finally{Ge=I,F.p=w,z.T=m}}It=1,nS(),rS(),iS()}}function nS(){if(It===1){It=0;var a=ta,s=Qo,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=z.T,z.T=null;var m=F.p;F.p=2;var w=Ge;Ge|=4;try{j_(s,a);var _=mm,I=qw(a.containerInfo),j=_.focusedElem,H=_.selectionRange;if(I!==j&&j&&j.ownerDocument&&zw(j.ownerDocument.documentElement,j)){if(H!==null&&$p(j)){var Q=H.start,ae=H.end;if(ae===void 0&&(ae=Q),"selectionStart"in j)j.selectionStart=Q,j.selectionEnd=Math.min(ae,j.value.length);else{var ue=j.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var re=ee.getSelection(),ve=j.textContent.length,Se=Math.min(H.start,ve),Xe=H.end===void 0?Se:Math.min(H.end,ve);!re.extend&&Se>Xe&&(I=Xe,Xe=Se,Se=I);var Y=$w(j,Se),W=$w(j,Xe);if(Y&&W&&(re.rangeCount!==1||re.anchorNode!==Y.node||re.anchorOffset!==Y.offset||re.focusNode!==W.node||re.focusOffset!==W.offset)){var Z=ue.createRange();Z.setStart(Y.node,Y.offset),re.removeAllRanges(),Se>Xe?(re.addRange(Z),re.extend(W.node,W.offset)):(Z.setEnd(W.node,W.offset),re.addRange(Z))}}}}for(ue=[],re=j;re=re.parentNode;)re.nodeType===1&&ue.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<ue.length;j++){var le=ue[j];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}bd=!!pm,mm=pm=null}finally{Ge=w,F.p=m,z.T=c}}a.current=s,It=2}}function rS(){if(It===2){It=0;var a=ta,s=Qo,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=z.T,z.T=null;var m=F.p;F.p=2;var w=Ge;Ge|=4;try{R_(a,s.alternate,s)}finally{Ge=w,F.p=m,z.T=c}}It=3}}function iS(){if(It===4||It===3){It=0,LD();var a=ta,s=Qo,c=di,m=G_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?It=5:(It=0,Qo=ta=null,aS(a,a.pendingLanes));var w=a.pendingLanes;if(w===0&&(ea=null),wp(c),s=s.stateNode,Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(rl,s,void 0,(s.current.flags&128)===128)}catch{}if(m!==null){s=z.T,w=F.p,F.p=2,z.T=null;try{for(var _=a.onRecoverableError,I=0;I<m.length;I++){var j=m[I];_(j.value,{componentStack:j.stack})}}finally{z.T=s,F.p=w}}(di&3)!==0&&ld(),jr(a),w=a.pendingLanes,(c&261930)!==0&&(w&42)!==0?a===tm?Ul++:(Ul=0,tm=a):Ul=0,Bl(0)}}function aS(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,xl(s)))}function ld(){return nS(),rS(),iS(),oS()}function oS(){if(It!==5)return!1;var a=ta,s=Q0;Q0=0;var c=wp(di),m=z.T,w=F.p;try{F.p=32>c?32:c,z.T=null,c=em,em=null;var _=ta,I=di;if(It=0,Qo=ta=null,di=0,(Ge&6)!==0)throw Error(r(331));var j=Ge;if(Ge|=4,z_(_.current),U_(_,_.current,I,c),Ge=j,Bl(0,!1),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(rl,_)}catch{}return!0}finally{F.p=w,z.T=m,aS(a,s)}}function sS(a,s,c){s=Xn(c,s),s=O0(a.stateNode,s,2),a=Wi(a,s,2),a!==null&&(al(a,2),jr(a))}function Fe(a,s,c){if(a.tag===3)sS(a,a,c);else for(;s!==null;){if(s.tag===3){sS(s,a,c);break}else if(s.tag===1){var m=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ea===null||!ea.has(m))){a=Xn(c,a),c=l_(2),m=Wi(s,c,2),m!==null&&(u_(c,m,s,a),al(m,2),jr(m));break}}s=s.return}}function im(a,s,c){var m=a.pingCache;if(m===null){m=a.pingCache=new u3;var w=new Set;m.set(s,w)}else w=m.get(s),w===void 0&&(w=new Set,m.set(s,w));w.has(c)||(J0=!0,w.add(c),a=p3.bind(null,a,s,c),s.then(a,a))}function p3(a,s,c){var m=a.pingCache;m!==null&&m.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,et===a&&(De&c)===c&&(pt===4||pt===3&&(De&62914560)===De&&300>Rn()-nd?(Ge&2)===0&&es(a,0):X0|=c,Zo===De&&(Zo=0)),jr(a)}function lS(a,s){s===0&&(s=nw()),a=Ia(a,s),a!==null&&(al(a,s),jr(a))}function m3(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),lS(a,c)}function g3(a,s){var c=0;switch(a.tag){case 31:case 13:var m=a.stateNode,w=a.memoizedState;w!==null&&(c=w.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(s),lS(a,c)}function v3(a,s){return vp(a,s)}var ud=null,ns=null,am=!1,cd=!1,om=!1,ra=0;function jr(a){a!==ns&&a.next===null&&(ns===null?ud=ns=a:ns=ns.next=a),cd=!0,am||(am=!0,x3())}function Bl(a,s){if(!om&&cd){om=!0;do for(var c=!1,m=ud;m!==null;){if(a!==0){var w=m.pendingLanes;if(w===0)var _=0;else{var I=m.suspendedLanes,j=m.pingedLanes;_=(1<<31-On(42|a)+1)-1,_&=w&~(I&~j),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,fS(m,_))}else _=De,_=pc(m,m===et?_:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(_&3)===0||il(m,_)||(c=!0,fS(m,_));m=m.next}while(c);om=!1}}function y3(){uS()}function uS(){cd=am=!1;var a=0;ra!==0&&I3()&&(a=ra);for(var s=Rn(),c=null,m=ud;m!==null;){var w=m.next,_=cS(m,s);_===0?(m.next=null,c===null?ud=w:c.next=w,w===null&&(ns=c)):(c=m,(a!==0||(_&3)!==0)&&(cd=!0)),m=w}It!==0&&It!==5||Bl(a),ra!==0&&(ra=0)}function cS(a,s){for(var c=a.suspendedLanes,m=a.pingedLanes,w=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var I=31-On(_),j=1<<I,H=w[I];H===-1?((j&c)===0||(j&m)!==0)&&(w[I]=HD(j,s)):H<=s&&(a.expiredLanes|=j),_&=~j}if(s=et,c=De,c=pc(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,c===0||a===s&&(He===2||He===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&yp(m),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||il(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(m!==null&&yp(m),wp(c)){case 2:case 8:c=ew;break;case 32:c=cc;break;case 268435456:c=tw;break;default:c=cc}return m=dS.bind(null,a),c=vp(c,m),a.callbackPriority=s,a.callbackNode=c,s}return m!==null&&m!==null&&yp(m),a.callbackPriority=2,a.callbackNode=null,2}function dS(a,s){if(It!==0&&It!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(ld()&&a.callbackNode!==c)return null;var m=De;return m=pc(a,a===et?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(F_(a,m,s),cS(a,Rn()),a.callbackNode!=null&&a.callbackNode===c?dS.bind(null,a):null)}function fS(a,s){if(ld())return null;F_(a,s,!0)}function x3(){R3(function(){(Ge&6)!==0?vp(Qb,y3):uS()})}function sm(){if(ra===0){var a=zo;a===0&&(a=dc,dc<<=1,(dc&261888)===0&&(dc=256)),ra=a}return ra}function hS(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:yc(""+a)}function pS(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function b3(a,s,c,m,w){if(s==="submit"&&c&&c.stateNode===w){var _=hS((w[yn]||null).action),I=m.submitter;I&&(s=(s=I[yn]||null)?hS(s.formAction):I.getAttribute("formAction"),s!==null&&(_=s,I=null));var j=new _c("action","action",null,m,w);a.push({event:j,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ra!==0){var H=I?pS(w,I):new FormData(w);C0(c,{pending:!0,data:H,method:w.method,action:_},null,H)}}else typeof _=="function"&&(j.preventDefault(),H=I?pS(w,I):new FormData(w),C0(c,{pending:!0,data:H,method:w.method,action:_},_,H))},currentTarget:w}]})}}for(var lm=0;lm<Gp.length;lm++){var um=Gp[lm],w3=um.toLowerCase(),_3=um[0].toUpperCase()+um.slice(1);mr(w3,"on"+_3)}mr(Hw,"onAnimationEnd"),mr(Fw,"onAnimationIteration"),mr(Kw,"onAnimationStart"),mr("dblclick","onDoubleClick"),mr("focusin","onFocus"),mr("focusout","onBlur"),mr(Uj,"onTransitionRun"),mr(Bj,"onTransitionStart"),mr($j,"onTransitionCancel"),mr(Ww,"onTransitionEnd"),Co("onMouseEnter",["mouseout","mouseover"]),Co("onMouseLeave",["mouseout","mouseover"]),Co("onPointerEnter",["pointerout","pointerover"]),Co("onPointerLeave",["pointerout","pointerover"]),Ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function mS(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var m=a[c],w=m.event;m=m.listeners;e:{var _=void 0;if(s)for(var I=m.length-1;0<=I;I--){var j=m[I],H=j.instance,Q=j.currentTarget;if(j=j.listener,H!==_&&w.isPropagationStopped())break e;_=j,w.currentTarget=Q;try{_(w)}catch(ae){Tc(ae)}w.currentTarget=null,_=H}else for(I=0;I<m.length;I++){if(j=m[I],H=j.instance,Q=j.currentTarget,j=j.listener,H!==_&&w.isPropagationStopped())break e;_=j,w.currentTarget=Q;try{_(w)}catch(ae){Tc(ae)}w.currentTarget=null,_=H}}}}function Me(a,s){var c=s[_p];c===void 0&&(c=s[_p]=new Set);var m=a+"__bubble";c.has(m)||(gS(s,a,2,!1),c.add(m))}function cm(a,s,c){var m=0;s&&(m|=4),gS(c,a,m,s)}var dd="_reactListening"+Math.random().toString(36).slice(2);function dm(a){if(!a[dd]){a[dd]=!0,uw.forEach(function(c){c!=="selectionchange"&&(S3.has(c)||cm(c,!1,a),cm(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[dd]||(s[dd]=!0,cm("selectionchange",!1,s))}}function gS(a,s,c,m){switch(HS(s)){case 2:var w=X3;break;case 8:w=Z3;break;default:w=Am}c=w.bind(null,s,c,a),w=void 0,!Rp||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(w=!0),m?w!==void 0?a.addEventListener(s,c,{capture:!0,passive:w}):a.addEventListener(s,c,!0):w!==void 0?a.addEventListener(s,c,{passive:w}):a.addEventListener(s,c,!1)}function fm(a,s,c,m,w){var _=m;if((s&1)===0&&(s&2)===0&&m!==null)e:for(;;){if(m===null)return;var I=m.tag;if(I===3||I===4){var j=m.stateNode.containerInfo;if(j===w)break;if(I===4)for(I=m.return;I!==null;){var H=I.tag;if((H===3||H===4)&&I.stateNode.containerInfo===w)return;I=I.return}for(;j!==null;){if(I=Eo(j),I===null)return;if(H=I.tag,H===5||H===6||H===26||H===27){m=_=I;continue e}j=j.parentNode}}m=m.return}ww(function(){var Q=_,ae=Ip(c),ue=[];e:{var ee=Yw.get(a);if(ee!==void 0){var re=_c,ve=a;switch(a){case"keypress":if(bc(c)===0)break e;case"keydown":case"keyup":re=gj;break;case"focusin":ve="focus",re=Dp;break;case"focusout":ve="blur",re=Dp;break;case"beforeblur":case"afterblur":re=Dp;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Ew;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=ij;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=xj;break;case Hw:case Fw:case Kw:re=sj;break;case Ww:re=wj;break;case"scroll":case"scrollend":re=nj;break;case"wheel":re=Sj;break;case"copy":case"cut":case"paste":re=uj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Aw;break;case"toggle":case"beforetoggle":re=Tj}var Se=(s&4)!==0,Xe=!Se&&(a==="scroll"||a==="scrollend"),Y=Se?ee!==null?ee+"Capture":null:ee;Se=[];for(var W=Q,Z;W!==null;){var le=W;if(Z=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Z===null||Y===null||(le=ll(W,Y),le!=null&&Se.push(zl(W,le,Z))),Xe)break;W=W.return}0<Se.length&&(ee=new re(ee,ve,null,c,ae),ue.push({event:ee,listeners:Se}))}}if((s&7)===0){e:{if(ee=a==="mouseover"||a==="pointerover",re=a==="mouseout"||a==="pointerout",ee&&c!==Np&&(ve=c.relatedTarget||c.fromElement)&&(Eo(ve)||ve[So]))break e;if((re||ee)&&(ee=ae.window===ae?ae:(ee=ae.ownerDocument)?ee.defaultView||ee.parentWindow:window,re?(ve=c.relatedTarget||c.toElement,re=Q,ve=ve?Eo(ve):null,ve!==null&&(Xe=o(ve),Se=ve.tag,ve!==Xe||Se!==5&&Se!==27&&Se!==6)&&(ve=null)):(re=null,ve=Q),re!==ve)){if(Se=Ew,le="onMouseLeave",Y="onMouseEnter",W="mouse",(a==="pointerout"||a==="pointerover")&&(Se=Aw,le="onPointerLeave",Y="onPointerEnter",W="pointer"),Xe=re==null?ee:sl(re),Z=ve==null?ee:sl(ve),ee=new Se(le,W+"leave",re,c,ae),ee.target=Xe,ee.relatedTarget=Z,le=null,Eo(ae)===Q&&(Se=new Se(Y,W+"enter",ve,c,ae),Se.target=Z,Se.relatedTarget=Xe,le=Se),Xe=le,re&&ve)t:{for(Se=E3,Y=re,W=ve,Z=0,le=Y;le;le=Se(le))Z++;le=0;for(var we=W;we;we=Se(we))le++;for(;0<Z-le;)Y=Se(Y),Z--;for(;0<le-Z;)W=Se(W),le--;for(;Z--;){if(Y===W||W!==null&&Y===W.alternate){Se=Y;break t}Y=Se(Y),W=Se(W)}Se=null}else Se=null;re!==null&&vS(ue,ee,re,Se,!1),ve!==null&&Xe!==null&&vS(ue,Xe,ve,Se,!0)}}e:{if(ee=Q?sl(Q):window,re=ee.nodeName&&ee.nodeName.toLowerCase(),re==="select"||re==="input"&&ee.type==="file")var $e=Mw;else if(Pw(ee))if(Dw)$e=Dj;else{$e=Oj;var xe=Pj}else re=ee.nodeName,!re||re.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Q&&Cp(Q.elementType)&&($e=Mw):$e=Mj;if($e&&($e=$e(a,Q))){Ow(ue,$e,c,ae);break e}xe&&xe(a,ee,Q),a==="focusout"&&Q&&ee.type==="number"&&Q.memoizedProps.value!=null&&Ap(ee,"number",ee.value)}switch(xe=Q?sl(Q):window,a){case"focusin":(Pw(xe)||xe.contentEditable==="true")&&(Oo=xe,zp=Q,gl=null);break;case"focusout":gl=zp=Oo=null;break;case"mousedown":qp=!0;break;case"contextmenu":case"mouseup":case"dragend":qp=!1,Vw(ue,c,ae);break;case"selectionchange":if(Lj)break;case"keydown":case"keyup":Vw(ue,c,ae)}var Pe;if(Lp)e:{switch(a){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Po?kw(a,c)&&(je="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(je="onCompositionStart");je&&(Cw&&c.locale!=="ko"&&(Po||je!=="onCompositionStart"?je==="onCompositionEnd"&&Po&&(Pe=_w()):(zi=ae,Pp="value"in zi?zi.value:zi.textContent,Po=!0)),xe=fd(Q,je),0<xe.length&&(je=new Tw(je,a,null,c,ae),ue.push({event:je,listeners:xe}),Pe?je.data=Pe:(Pe=Rw(c),Pe!==null&&(je.data=Pe)))),(Pe=Cj?Nj(a,c):Ij(a,c))&&(je=fd(Q,"onBeforeInput"),0<je.length&&(xe=new Tw("onBeforeInput","beforeinput",null,c,ae),ue.push({event:xe,listeners:je}),xe.data=Pe)),b3(ue,a,Q,c,ae)}mS(ue,s)})}function zl(a,s,c){return{instance:a,listener:s,currentTarget:c}}function fd(a,s){for(var c=s+"Capture",m=[];a!==null;){var w=a,_=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||_===null||(w=ll(a,c),w!=null&&m.unshift(zl(a,w,_)),w=ll(a,s),w!=null&&m.push(zl(a,w,_))),a.tag===3)return m;a=a.return}return[]}function E3(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function vS(a,s,c,m,w){for(var _=s._reactName,I=[];c!==null&&c!==m;){var j=c,H=j.alternate,Q=j.stateNode;if(j=j.tag,H!==null&&H===m)break;j!==5&&j!==26&&j!==27||Q===null||(H=Q,w?(Q=ll(c,_),Q!=null&&I.unshift(zl(c,Q,H))):w||(Q=ll(c,_),Q!=null&&I.push(zl(c,Q,H)))),c=c.return}I.length!==0&&a.push({event:s,listeners:I})}var T3=/\r\n?/g,A3=/\u0000|\uFFFD/g;function yS(a){return(typeof a=="string"?a:""+a).replace(T3,`
`).replace(A3,"")}function xS(a,s){return s=yS(s),yS(a)===s}function Je(a,s,c,m,w,_){switch(c){case"children":typeof m=="string"?s==="body"||s==="textarea"&&m===""||Io(a,m):(typeof m=="number"||typeof m=="bigint")&&s!=="body"&&Io(a,""+m);break;case"className":gc(a,"class",m);break;case"tabIndex":gc(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":gc(a,c,m);break;case"style":xw(a,m,_);break;case"data":if(s!=="object"){gc(a,"data",m);break}case"src":case"href":if(m===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=yc(""+m),a.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(s!=="input"&&Je(a,s,"name",w.name,w,null),Je(a,s,"formEncType",w.formEncType,w,null),Je(a,s,"formMethod",w.formMethod,w,null),Je(a,s,"formTarget",w.formTarget,w,null)):(Je(a,s,"encType",w.encType,w,null),Je(a,s,"method",w.method,w,null),Je(a,s,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=yc(""+m),a.setAttribute(c,m);break;case"onClick":m!=null&&(a.onclick=Jr);break;case"onScroll":m!=null&&Me("scroll",a);break;case"onScrollEnd":m!=null&&Me("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(w.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}c=yc(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""+m):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":m===!0?a.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,m):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(c,m):a.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(c):a.setAttribute(c,m);break;case"popover":Me("beforetoggle",a),Me("toggle",a),mc(a,"popover",m);break;case"xlinkActuate":Yr(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Yr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Yr(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Yr(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Yr(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Yr(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Yr(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Yr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Yr(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":mc(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=ej.get(c)||c,mc(a,c,m))}}function hm(a,s,c,m,w,_){switch(c){case"style":xw(a,m,_);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(w.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof m=="string"?Io(a,m):(typeof m=="number"||typeof m=="bigint")&&Io(a,""+m);break;case"onScroll":m!=null&&Me("scroll",a);break;case"onScrollEnd":m!=null&&Me("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Jr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cw.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(w=c.endsWith("Capture"),s=c.slice(2,w?c.length-7:void 0),_=a[yn]||null,_=_!=null?_[c]:null,typeof _=="function"&&a.removeEventListener(s,_,w),typeof m=="function")){typeof _!="function"&&_!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,m,w);break e}c in a?a[c]=m:m===!0?a.setAttribute(c,""):mc(a,c,m)}}}function Zt(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",a),Me("load",a);var m=!1,w=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var I=c[_];if(I!=null)switch(_){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Je(a,s,_,I,c,null)}}w&&Je(a,s,"srcSet",c.srcSet,c,null),m&&Je(a,s,"src",c.src,c,null);return;case"input":Me("invalid",a);var j=_=I=w=null,H=null,Q=null;for(m in c)if(c.hasOwnProperty(m)){var ae=c[m];if(ae!=null)switch(m){case"name":w=ae;break;case"type":I=ae;break;case"checked":H=ae;break;case"defaultChecked":Q=ae;break;case"value":_=ae;break;case"defaultValue":j=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,s));break;default:Je(a,s,m,ae,c,null)}}mw(a,_,j,H,Q,I,w,!1);return;case"select":Me("invalid",a),m=I=_=null;for(w in c)if(c.hasOwnProperty(w)&&(j=c[w],j!=null))switch(w){case"value":_=j;break;case"defaultValue":I=j;break;case"multiple":m=j;default:Je(a,s,w,j,c,null)}s=_,c=I,a.multiple=!!m,s!=null?No(a,!!m,s,!1):c!=null&&No(a,!!m,c,!0);return;case"textarea":Me("invalid",a),_=w=m=null;for(I in c)if(c.hasOwnProperty(I)&&(j=c[I],j!=null))switch(I){case"value":m=j;break;case"defaultValue":w=j;break;case"children":_=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:Je(a,s,I,j,c,null)}vw(a,m,w,_);return;case"option":for(H in c)if(c.hasOwnProperty(H)&&(m=c[H],m!=null))switch(H){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Je(a,s,H,m,c,null)}return;case"dialog":Me("beforetoggle",a),Me("toggle",a),Me("cancel",a),Me("close",a);break;case"iframe":case"object":Me("load",a);break;case"video":case"audio":for(m=0;m<$l.length;m++)Me($l[m],a);break;case"image":Me("error",a),Me("load",a);break;case"details":Me("toggle",a);break;case"embed":case"source":case"link":Me("error",a),Me("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in c)if(c.hasOwnProperty(Q)&&(m=c[Q],m!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Je(a,s,Q,m,c,null)}return;default:if(Cp(s)){for(ae in c)c.hasOwnProperty(ae)&&(m=c[ae],m!==void 0&&hm(a,s,ae,m,c,void 0));return}}for(j in c)c.hasOwnProperty(j)&&(m=c[j],m!=null&&Je(a,s,j,m,c,null))}function C3(a,s,c,m){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,_=null,I=null,j=null,H=null,Q=null,ae=null;for(re in c){var ue=c[re];if(c.hasOwnProperty(re)&&ue!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":H=ue;default:m.hasOwnProperty(re)||Je(a,s,re,null,m,ue)}}for(var ee in m){var re=m[ee];if(ue=c[ee],m.hasOwnProperty(ee)&&(re!=null||ue!=null))switch(ee){case"type":_=re;break;case"name":w=re;break;case"checked":Q=re;break;case"defaultChecked":ae=re;break;case"value":I=re;break;case"defaultValue":j=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:re!==ue&&Je(a,s,ee,re,m,ue)}}Tp(a,I,j,H,Q,ae,_,w);return;case"select":re=I=j=ee=null;for(_ in c)if(H=c[_],c.hasOwnProperty(_)&&H!=null)switch(_){case"value":break;case"multiple":re=H;default:m.hasOwnProperty(_)||Je(a,s,_,null,m,H)}for(w in m)if(_=m[w],H=c[w],m.hasOwnProperty(w)&&(_!=null||H!=null))switch(w){case"value":ee=_;break;case"defaultValue":j=_;break;case"multiple":I=_;default:_!==H&&Je(a,s,w,_,m,H)}s=j,c=I,m=re,ee!=null?No(a,!!c,ee,!1):!!m!=!!c&&(s!=null?No(a,!!c,s,!0):No(a,!!c,c?[]:"",!1));return;case"textarea":re=ee=null;for(j in c)if(w=c[j],c.hasOwnProperty(j)&&w!=null&&!m.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Je(a,s,j,null,m,w)}for(I in m)if(w=m[I],_=c[I],m.hasOwnProperty(I)&&(w!=null||_!=null))switch(I){case"value":ee=w;break;case"defaultValue":re=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==_&&Je(a,s,I,w,m,_)}gw(a,ee,re);return;case"option":for(var ve in c)if(ee=c[ve],c.hasOwnProperty(ve)&&ee!=null&&!m.hasOwnProperty(ve))switch(ve){case"selected":a.selected=!1;break;default:Je(a,s,ve,null,m,ee)}for(H in m)if(ee=m[H],re=c[H],m.hasOwnProperty(H)&&ee!==re&&(ee!=null||re!=null))switch(H){case"selected":a.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Je(a,s,H,ee,m,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in c)ee=c[Se],c.hasOwnProperty(Se)&&ee!=null&&!m.hasOwnProperty(Se)&&Je(a,s,Se,null,m,ee);for(Q in m)if(ee=m[Q],re=c[Q],m.hasOwnProperty(Q)&&ee!==re&&(ee!=null||re!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,s));break;default:Je(a,s,Q,ee,m,re)}return;default:if(Cp(s)){for(var Xe in c)ee=c[Xe],c.hasOwnProperty(Xe)&&ee!==void 0&&!m.hasOwnProperty(Xe)&&hm(a,s,Xe,void 0,m,ee);for(ae in m)ee=m[ae],re=c[ae],!m.hasOwnProperty(ae)||ee===re||ee===void 0&&re===void 0||hm(a,s,ae,ee,m,re);return}}for(var Y in c)ee=c[Y],c.hasOwnProperty(Y)&&ee!=null&&!m.hasOwnProperty(Y)&&Je(a,s,Y,null,m,ee);for(ue in m)ee=m[ue],re=c[ue],!m.hasOwnProperty(ue)||ee===re||ee==null&&re==null||Je(a,s,ue,ee,m,re)}function bS(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function N3(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var w=c[m],_=w.transferSize,I=w.initiatorType,j=w.duration;if(_&&j&&bS(I)){for(I=0,j=w.responseEnd,m+=1;m<c.length;m++){var H=c[m],Q=H.startTime;if(Q>j)break;var ae=H.transferSize,ue=H.initiatorType;ae&&bS(ue)&&(H=H.responseEnd,I+=ae*(H<j?1:(j-Q)/(H-Q)))}if(--m,s+=8*(_+I)/(w.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var pm=null,mm=null;function hd(a){return a.nodeType===9?a:a.ownerDocument}function wS(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _S(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function gm(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var vm=null;function I3(){var a=window.event;return a&&a.type==="popstate"?a===vm?!1:(vm=a,!0):(vm=null,!1)}var SS=typeof setTimeout=="function"?setTimeout:void 0,k3=typeof clearTimeout=="function"?clearTimeout:void 0,ES=typeof Promise=="function"?Promise:void 0,R3=typeof queueMicrotask=="function"?queueMicrotask:typeof ES<"u"?function(a){return ES.resolve(null).then(a).catch(P3)}:SS;function P3(a){setTimeout(function(){throw a})}function ia(a){return a==="head"}function TS(a,s){var c=s,m=0;do{var w=c.nextSibling;if(a.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"||c==="/&"){if(m===0){a.removeChild(w),os(s);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")ql(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,ql(c);for(var _=c.firstChild;_;){var I=_.nextSibling,j=_.nodeName;_[ol]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&_.rel.toLowerCase()==="stylesheet"||c.removeChild(_),_=I}}else c==="body"&&ql(a.ownerDocument.body);c=w}while(c);os(s)}function AS(a,s){var c=a;a=0;do{var m=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=m}while(c)}function ym(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":ym(c),Sp(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function O3(a,s,c,m){for(;a.nodeType===1;){var w=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[ol])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==w.rel||a.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||a.getAttribute("title")!==(w.title==null?null:w.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(w.src==null?null:w.src)||a.getAttribute("type")!==(w.type==null?null:w.type)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var _=w.name==null?null:""+w.name;if(w.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=nr(a.nextSibling),a===null)break}return null}function M3(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=nr(a.nextSibling),a===null))return null;return a}function CS(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=nr(a.nextSibling),a===null))return null;return a}function xm(a){return a.data==="$?"||a.data==="$~"}function bm(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function D3(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var m=function(){s(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function nr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var wm=null;function NS(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return nr(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function IS(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function kS(a,s,c){switch(s=hd(c),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function ql(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Sp(a)}var rr=new Map,RS=new Set;function pd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var fi=F.d;F.d={f:j3,r:L3,D:U3,C:B3,L:$3,m:z3,X:V3,S:q3,M:G3};function j3(){var a=fi.f(),s=ad();return a||s}function L3(a){var s=To(a);s!==null&&s.tag===5&&s.type==="form"?W1(s):fi.r(a)}var rs=typeof document>"u"?null:document;function PS(a,s,c){var m=rs;if(m&&typeof s=="string"&&s){var w=Yn(s);w='link[rel="'+a+'"][href="'+w+'"]',typeof c=="string"&&(w+='[crossorigin="'+c+'"]'),RS.has(w)||(RS.add(w),a={rel:a,crossOrigin:c,href:s},m.querySelector(w)===null&&(s=m.createElement("link"),Zt(s,"link",a),Dt(s),m.head.appendChild(s)))}}function U3(a){fi.D(a),PS("dns-prefetch",a,null)}function B3(a,s){fi.C(a,s),PS("preconnect",a,s)}function $3(a,s,c){fi.L(a,s,c);var m=rs;if(m&&a&&s){var w='link[rel="preload"][as="'+Yn(s)+'"]';s==="image"&&c&&c.imageSrcSet?(w+='[imagesrcset="'+Yn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(w+='[imagesizes="'+Yn(c.imageSizes)+'"]')):w+='[href="'+Yn(a)+'"]';var _=w;switch(s){case"style":_=is(a);break;case"script":_=as(a)}rr.has(_)||(a=g({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),rr.set(_,a),m.querySelector(w)!==null||s==="style"&&m.querySelector(Vl(_))||s==="script"&&m.querySelector(Gl(_))||(s=m.createElement("link"),Zt(s,"link",a),Dt(s),m.head.appendChild(s)))}}function z3(a,s){fi.m(a,s);var c=rs;if(c&&a){var m=s&&typeof s.as=="string"?s.as:"script",w='link[rel="modulepreload"][as="'+Yn(m)+'"][href="'+Yn(a)+'"]',_=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=as(a)}if(!rr.has(_)&&(a=g({rel:"modulepreload",href:a},s),rr.set(_,a),c.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Gl(_)))return}m=c.createElement("link"),Zt(m,"link",a),Dt(m),c.head.appendChild(m)}}}function q3(a,s,c){fi.S(a,s,c);var m=rs;if(m&&a){var w=Ao(m).hoistableStyles,_=is(a);s=s||"default";var I=w.get(_);if(!I){var j={loading:0,preload:null};if(I=m.querySelector(Vl(_)))j.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":s},c),(c=rr.get(_))&&_m(a,c);var H=I=m.createElement("link");Dt(H),Zt(H,"link",a),H._p=new Promise(function(Q,ae){H.onload=Q,H.onerror=ae}),H.addEventListener("load",function(){j.loading|=1}),H.addEventListener("error",function(){j.loading|=2}),j.loading|=4,md(I,s,m)}I={type:"stylesheet",instance:I,count:1,state:j},w.set(_,I)}}}function V3(a,s){fi.X(a,s);var c=rs;if(c&&a){var m=Ao(c).hoistableScripts,w=as(a),_=m.get(w);_||(_=c.querySelector(Gl(w)),_||(a=g({src:a,async:!0},s),(s=rr.get(w))&&Sm(a,s),_=c.createElement("script"),Dt(_),Zt(_,"link",a),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(w,_))}}function G3(a,s){fi.M(a,s);var c=rs;if(c&&a){var m=Ao(c).hoistableScripts,w=as(a),_=m.get(w);_||(_=c.querySelector(Gl(w)),_||(a=g({src:a,async:!0,type:"module"},s),(s=rr.get(w))&&Sm(a,s),_=c.createElement("script"),Dt(_),Zt(_,"link",a),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(w,_))}}function OS(a,s,c,m){var w=(w=de.current)?pd(w):null;if(!w)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=is(c.href),c=Ao(w).hoistableStyles,m=c.get(s),m||(m={type:"style",instance:null,count:0,state:null},c.set(s,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=is(c.href);var _=Ao(w).hoistableStyles,I=_.get(a);if(I||(w=w.ownerDocument||w,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,I),(_=w.querySelector(Vl(a)))&&!_._p&&(I.instance=_,I.state.loading=5),rr.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},rr.set(a,c),_||H3(w,a,c,I.state))),s&&m===null)throw Error(r(528,""));return I}if(s&&m!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=as(c),c=Ao(w).hoistableScripts,m=c.get(s),m||(m={type:"script",instance:null,count:0,state:null},c.set(s,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function is(a){return'href="'+Yn(a)+'"'}function Vl(a){return'link[rel="stylesheet"]['+a+"]"}function MS(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function H3(a,s,c,m){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?m.loading=1:(s=a.createElement("link"),m.preload=s,s.addEventListener("load",function(){return m.loading|=1}),s.addEventListener("error",function(){return m.loading|=2}),Zt(s,"link",c),Dt(s),a.head.appendChild(s))}function as(a){return'[src="'+Yn(a)+'"]'}function Gl(a){return"script[async]"+a}function DS(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var m=a.querySelector('style[data-href~="'+Yn(c.href)+'"]');if(m)return s.instance=m,Dt(m),m;var w=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Dt(m),Zt(m,"style",w),md(m,c.precedence,a),s.instance=m;case"stylesheet":w=is(c.href);var _=a.querySelector(Vl(w));if(_)return s.state.loading|=4,s.instance=_,Dt(_),_;m=MS(c),(w=rr.get(w))&&_m(m,w),_=(a.ownerDocument||a).createElement("link"),Dt(_);var I=_;return I._p=new Promise(function(j,H){I.onload=j,I.onerror=H}),Zt(_,"link",m),s.state.loading|=4,md(_,c.precedence,a),s.instance=_;case"script":return _=as(c.src),(w=a.querySelector(Gl(_)))?(s.instance=w,Dt(w),w):(m=c,(w=rr.get(_))&&(m=g({},c),Sm(m,w)),a=a.ownerDocument||a,w=a.createElement("script"),Dt(w),Zt(w,"link",m),a.head.appendChild(w),s.instance=w);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(m=s.instance,s.state.loading|=4,md(m,c.precedence,a));return s.instance}function md(a,s,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,_=w,I=0;I<m.length;I++){var j=m[I];if(j.dataset.precedence===s)_=j;else if(_!==w)break}_?_.parentNode.insertBefore(a,_.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function _m(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function Sm(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var gd=null;function jS(a,s,c){if(gd===null){var m=new Map,w=gd=new Map;w.set(c,m)}else w=gd,m=w.get(c),m||(m=new Map,w.set(c,m));if(m.has(a))return m;for(m.set(a,null),c=c.getElementsByTagName(a),w=0;w<c.length;w++){var _=c[w];if(!(_[ol]||_[Wt]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var I=_.getAttribute(s)||"";I=a+I;var j=m.get(I);j?j.push(_):m.set(I,[_])}}return m}function LS(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function F3(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function US(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function K3(a,s,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var w=is(m.href),_=s.querySelector(Vl(w));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=vd.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=_,Dt(_);return}_=s.ownerDocument||s,m=MS(m),(w=rr.get(w))&&_m(m,w),_=_.createElement("link"),Dt(_);var I=_;I._p=new Promise(function(j,H){I.onload=j,I.onerror=H}),Zt(_,"link",m),c.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=vd.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var Em=0;function W3(a,s){return a.stylesheets&&a.count===0&&xd(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var m=setTimeout(function(){if(a.stylesheets&&xd(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+s);0<a.imgBytes&&Em===0&&(Em=62500*N3());var w=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&xd(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>Em?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(w)}}:null}function vd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var yd=null;function xd(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,yd=new Map,s.forEach(Y3,a),yd=null,vd.call(a))}function Y3(a,s){if(!(s.state.loading&4)){var c=yd.get(a);if(c)var m=c.get(null);else{c=new Map,yd.set(a,c);for(var w=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<w.length;_++){var I=w[_];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(c.set(I.dataset.precedence,I),m=I)}m&&c.set(null,m)}w=s.instance,I=w.getAttribute("data-precedence"),_=c.get(I)||m,_===m&&c.set(null,w),c.set(I,w),this.count++,m=vd.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),_?_.parentNode.insertBefore(w,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(w,a.firstChild)),s.state.loading|=4}}var Hl={$$typeof:k,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function J3(a,s,c,m,w,_,I,j,H){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xp(0),this.hiddenUpdates=xp(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=_,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function BS(a,s,c,m,w,_,I,j,H,Q,ae,ue){return a=new J3(a,s,c,I,H,Q,ae,ue,j),s=1,_===!0&&(s|=24),_=Dn(3,null,null,s),a.current=_,_.stateNode=a,s=r0(),s.refCount++,a.pooledCache=s,s.refCount++,_.memoizedState={element:m,isDehydrated:c,cache:s},s0(_),a}function $S(a){return a?(a=jo,a):jo}function zS(a,s,c,m,w,_){w=$S(w),m.context===null?m.context=w:m.pendingContext=w,m=Ki(s),m.payload={element:c},_=_===void 0?null:_,_!==null&&(m.callback=_),c=Wi(a,m,s),c!==null&&(En(c,a,s),Sl(c,a,s))}function qS(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function Tm(a,s){qS(a,s),(a=a.alternate)&&qS(a,s)}function VS(a){if(a.tag===13||a.tag===31){var s=Ia(a,67108864);s!==null&&En(s,a,67108864),Tm(a,67108864)}}function GS(a){if(a.tag===13||a.tag===31){var s=$n();s=bp(s);var c=Ia(a,s);c!==null&&En(c,a,s),Tm(a,s)}}var bd=!0;function X3(a,s,c,m){var w=z.T;z.T=null;var _=F.p;try{F.p=2,Am(a,s,c,m)}finally{F.p=_,z.T=w}}function Z3(a,s,c,m){var w=z.T;z.T=null;var _=F.p;try{F.p=8,Am(a,s,c,m)}finally{F.p=_,z.T=w}}function Am(a,s,c,m){if(bd){var w=Cm(m);if(w===null)fm(a,s,m,wd,c),FS(a,m);else if(e5(w,a,s,c,m))m.stopPropagation();else if(FS(a,m),s&4&&-1<Q3.indexOf(a)){for(;w!==null;){var _=To(w);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var I=Ea(_.pendingLanes);if(I!==0){var j=_;for(j.pendingLanes|=2,j.entangledLanes|=2;I;){var H=1<<31-On(I);j.entanglements[1]|=H,I&=~H}jr(_),(Ge&6)===0&&(rd=Rn()+500,Bl(0))}}break;case 31:case 13:j=Ia(_,2),j!==null&&En(j,_,2),ad(),Tm(_,2)}if(_=Cm(m),_===null&&fm(a,s,m,wd,c),_===w)break;w=_}w!==null&&m.stopPropagation()}else fm(a,s,m,null,c)}}function Cm(a){return a=Ip(a),Nm(a)}var wd=null;function Nm(a){if(wd=null,a=Eo(a),a!==null){var s=o(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=l(s),a!==null)return a;a=null}else if(c===31){if(a=u(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return wd=a,null}function HS(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(UD()){case Qb:return 2;case ew:return 8;case cc:case BD:return 32;case tw:return 268435456;default:return 32}default:return 32}}var Im=!1,aa=null,oa=null,sa=null,Fl=new Map,Kl=new Map,la=[],Q3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function FS(a,s){switch(a){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":Fl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(s.pointerId)}}function Wl(a,s,c,m,w,_){return a===null||a.nativeEvent!==_?(a={blockedOn:s,domEventName:c,eventSystemFlags:m,nativeEvent:_,targetContainers:[w]},s!==null&&(s=To(s),s!==null&&VS(s)),a):(a.eventSystemFlags|=m,s=a.targetContainers,w!==null&&s.indexOf(w)===-1&&s.push(w),a)}function e5(a,s,c,m,w){switch(s){case"focusin":return aa=Wl(aa,a,s,c,m,w),!0;case"dragenter":return oa=Wl(oa,a,s,c,m,w),!0;case"mouseover":return sa=Wl(sa,a,s,c,m,w),!0;case"pointerover":var _=w.pointerId;return Fl.set(_,Wl(Fl.get(_)||null,a,s,c,m,w)),!0;case"gotpointercapture":return _=w.pointerId,Kl.set(_,Wl(Kl.get(_)||null,a,s,c,m,w)),!0}return!1}function KS(a){var s=Eo(a.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){a.blockedOn=s,sw(a.priority,function(){GS(c)});return}}else if(s===31){if(s=u(c),s!==null){a.blockedOn=s,sw(a.priority,function(){GS(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function _d(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=Cm(a.nativeEvent);if(c===null){c=a.nativeEvent;var m=new c.constructor(c.type,c);Np=m,c.target.dispatchEvent(m),Np=null}else return s=To(c),s!==null&&VS(s),a.blockedOn=c,!1;s.shift()}return!0}function WS(a,s,c){_d(a)&&c.delete(s)}function t5(){Im=!1,aa!==null&&_d(aa)&&(aa=null),oa!==null&&_d(oa)&&(oa=null),sa!==null&&_d(sa)&&(sa=null),Fl.forEach(WS),Kl.forEach(WS)}function Sd(a,s){a.blockedOn===s&&(a.blockedOn=null,Im||(Im=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,t5)))}var Ed=null;function YS(a){Ed!==a&&(Ed=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ed===a&&(Ed=null);for(var s=0;s<a.length;s+=3){var c=a[s],m=a[s+1],w=a[s+2];if(typeof m!="function"){if(Nm(m||c)===null)continue;break}var _=To(c);_!==null&&(a.splice(s,3),s-=3,C0(_,{pending:!0,data:w,method:c.method,action:m},m,w))}}))}function os(a){function s(H){return Sd(H,a)}aa!==null&&Sd(aa,a),oa!==null&&Sd(oa,a),sa!==null&&Sd(sa,a),Fl.forEach(s),Kl.forEach(s);for(var c=0;c<la.length;c++){var m=la[c];m.blockedOn===a&&(m.blockedOn=null)}for(;0<la.length&&(c=la[0],c.blockedOn===null);)KS(c),c.blockedOn===null&&la.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var w=c[m],_=c[m+1],I=w[yn]||null;if(typeof _=="function")I||YS(c);else if(I){var j=null;if(_&&_.hasAttribute("formAction")){if(w=_,I=_[yn]||null)j=I.formAction;else if(Nm(w)!==null)continue}else j=I.action;typeof j=="function"?c[m+1]=j:(c.splice(m,3),m-=3),YS(c)}}}function JS(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(I){return w=I})},focusReset:"manual",scroll:"manual"})}function s(){w!==null&&(w(),w=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,w=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),w!==null&&(w(),w=null)}}}function km(a){this._internalRoot=a}Td.prototype.render=km.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,m=$n();zS(c,m,a,s,null,null)},Td.prototype.unmount=km.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;zS(a.current,2,null,a,null,null),ad(),s[So]=null}};function Td(a){this._internalRoot=a}Td.prototype.unstable_scheduleHydration=function(a){if(a){var s=ow();a={blockedOn:null,target:a,priority:s};for(var c=0;c<la.length&&s!==0&&s<la[c].priority;c++);la.splice(c,0,a),c===0&&KS(a)}};var XS=t.version;if(XS!=="19.2.3")throw Error(r(527,XS,"19.2.3"));F.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(s),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var n5={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{rl=Ad.inject(n5),Pn=Ad}catch{}}return Jl.createRoot=function(a,s){if(!i(a))throw Error(r(299));var c=!1,m="",w=i_,_=a_,I=o_;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(w=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(I=s.onRecoverableError)),s=BS(a,1,!1,null,null,c,m,null,w,_,I,JS),a[So]=s.current,dm(a),new km(s)},Jl.hydrateRoot=function(a,s,c){if(!i(a))throw Error(r(299));var m=!1,w="",_=i_,I=a_,j=o_,H=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(I=c.onCaughtError),c.onRecoverableError!==void 0&&(j=c.onRecoverableError),c.formState!==void 0&&(H=c.formState)),s=BS(a,1,!0,s,c??null,m,w,H,_,I,j,JS),s.context=$S(null),c=s.current,m=$n(),m=bp(m),w=Ki(m),w.callback=null,Wi(c,w,m),c=m,s.current.lanes=c,al(s,c),jr(s),a[So]=s.current,dm(a),new Td(s)},Jl.version="19.2.3",Jl}var sE;function g5(){if(sE)return Mm.exports;sE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Mm.exports=m5(),Mm.exports}var v5=g5();const y5=kr(v5);var Nn=(e=>(e.ADMIN="ADMIN",e.COLLECTOR="COLLECTOR",e))(Nn||{});const x5=({user:e,onLogout:t,navigateTo:n,currentView:r,routes:i,selectedRouteId:o,onRouteSelect:l,children:u})=>{var E,T,A;const[d,f]=C.useState(!1),h=e.role===Nn.ADMIN,g=h||e.role===Nn.COLLECTOR&&e.routeIds.length>1,y=h?i:i.filter(N=>e.routeIds.includes(N.id)),b=((E=i.find(N=>N.id===o))==null?void 0:E.name)||"Todas las Rutas",S=({view:N,label:k,icon:P})=>p.jsxs("button",{onClick:()=>{n(N),f(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${r===N?"bg-indigo-600 text-white shadow-md":"text-slate-600 hover:bg-indigo-50 hover:text-indigo-600"}`,children:[P,p.jsx("span",{className:"font-medium",children:k})]});return p.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-slate-50 font-inter",children:[p.jsxs("div",{className:"md:hidden bg-white border-b px-4 py-3 flex items-center justify-between sticky top-0 z-50",children:[p.jsx("h1",{className:"font-bold text-xl text-indigo-600",children:"Opulencia"}),p.jsxs("div",{className:"flex items-center gap-3",children:[g&&p.jsxs("div",{className:"relative",children:[p.jsxs("select",{value:o,onChange:N=>l(N.target.value),className:"bg-slate-100 border-none rounded-lg text-[10px] font-black uppercase px-2 py-1 pr-6 appearance-none text-slate-600",children:[h&&p.jsx("option",{value:"all",children:"TODAS"}),y.map(N=>p.jsx("option",{value:N.id,children:N.name.split(" ")[1]||N.name},N.id))]}),p.jsx("div",{className:"absolute right-1 top-1.5 pointer-events-none text-slate-400",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),p.jsx("button",{onClick:()=>f(!d),className:"p-2 text-slate-600",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})})]})]}),p.jsx("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-white border-r transform transition-transform duration-300 md:relative md:translate-x-0
        ${d?"translate-x-0 shadow-2xl":"-translate-x-full"}
      `,children:p.jsxs("div",{className:"h-full flex flex-col p-6",children:[p.jsxs("div",{className:"mb-10 hidden md:block",children:[p.jsxs("h1",{className:"text-2xl font-black text-indigo-600 flex items-center gap-2",children:[p.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white text-xs",children:"O"}),"Opulencia"]}),p.jsx("div",{className:"mt-2 text-[10px] bg-indigo-50 text-indigo-600 px-3 py-1 rounded-full font-black uppercase tracking-widest border border-indigo-100 inline-block shadow-sm",children:h||e.routeIds.length>1?b:((T=i.find(N=>N.id===e.routeIds[0]))==null?void 0:T.name)||"Mi Ruta"})]}),p.jsxs("nav",{className:"flex-1 space-y-1",children:[p.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-3 px-4",children:"Menu Principal"}),p.jsx(S,{view:h?"admin_dashboard":"collector_dashboard",label:"Inicio",icon:p.jsx(b5,{})}),p.jsx(S,{view:"credits",label:"Crditos",icon:p.jsx(S5,{})}),p.jsx(S,{view:"new_credit",label:"Nuevo Crdito",icon:p.jsx(_5,{})}),p.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-6 mb-3 px-4",children:"Gestin"}),p.jsx(S,{view:"client_management",label:"Clientes",icon:p.jsx(w5,{})}),p.jsx(S,{view:"routing",label:"Enrutamiento",icon:p.jsx(E5,{})}),p.jsx(S,{view:"expenses",label:"Gastos",icon:p.jsx(C5,{})}),p.jsx(S,{view:"liquidation",label:"Liquidacin",icon:p.jsx(N5,{})}),h&&p.jsxs(p.Fragment,{children:[p.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-6 mb-3 px-4",children:"Configuracin"}),p.jsx(S,{view:"routes_mgmt",label:"Rutas",icon:p.jsx(T5,{})}),p.jsx(S,{view:"users",label:"Cobradores",icon:p.jsx(A5,{})})]})]}),p.jsxs("div",{className:"mt-auto pt-6 border-t space-y-2",children:[p.jsxs("div",{onClick:()=>{n("profile"),f(!1)},className:"flex items-center gap-3 px-3 py-2 rounded-xl hover:bg-slate-50 cursor-pointer transition-colors group",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center text-slate-600 font-bold uppercase group-hover:bg-indigo-100 group-hover:text-indigo-600 transition-colors",children:e.name.charAt(0)}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-sm font-bold text-slate-800 truncate group-hover:text-indigo-700 transition-colors",children:e.name}),p.jsx("p",{className:"text-xs text-slate-500 capitalize",children:e.role===Nn.ADMIN?"Administrador":"Cobrador"})]}),p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-300 group-hover:text-indigo-400",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})]}),p.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-xl transition-all font-medium text-sm",children:[p.jsx(I5,{}),"Cerrar Sesin"]})]})]})}),p.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-10 relative",children:p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsx("div",{className:"hidden md:flex justify-end mb-8",children:g?p.jsxs("div",{className:"bg-white px-6 py-2 rounded-2xl shadow-sm border flex items-center gap-4 animate-fadeIn",children:[p.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Filtrar Ruta"}),p.jsxs("div",{className:"relative",children:[p.jsxs("select",{value:o,onChange:N=>l(N.target.value),className:"bg-indigo-50 border-none rounded-xl text-sm font-black text-indigo-700 py-2 pl-4 pr-10 appearance-none cursor-pointer focus:ring-2 focus:ring-indigo-100 transition-all shadow-inner",children:[h&&p.jsx("option",{value:"all",children:"Todas las Rutas"}),y.map(N=>p.jsx("option",{value:N.id,children:N.name},N.id))]}),p.jsx("div",{className:"absolute right-3 top-2.5 pointer-events-none text-indigo-400",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}):p.jsxs("div",{className:"bg-emerald-50 px-6 py-3 rounded-2xl border border-emerald-100 flex items-center gap-3 shadow-sm animate-fadeIn",children:[p.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),p.jsxs("span",{className:"text-xs font-black text-emerald-700 uppercase tracking-widest",children:["Ruta Activa: ",((A=i.find(N=>N.id===e.routeIds[0]))==null?void 0:A.name)||"Mi Ruta"]})]})}),u]})}),d&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/50 z-40 md:hidden",onClick:()=>f(!1)})]})},b5=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),w5=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),_5=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),S5=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),E5=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),T5=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),A5=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),C5=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2zM10 8.5a.5.5 0 11-1 0 .5.5 0 011 0zm5 5a.5.5 0 11-1 0 .5.5 0 011 0z"})}),N5=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]}),I5=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),k5=({onLogin:e,onRegister:t})=>p.jsxs("div",{className:"min-h-screen bg-slate-950 font-inter selection:bg-indigo-500 selection:text-white overflow-x-hidden",children:[p.jsx("nav",{className:"fixed w-full z-[100] bg-slate-950/80 backdrop-blur-3xl border-b border-white/5 py-4 md:py-6",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-8 flex items-center justify-between gap-2",children:[p.jsxs("div",{className:"flex items-center gap-2 md:gap-4 group cursor-pointer shrink-0",children:[p.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-indigo-600 rounded-xl md:rounded-2xl flex items-center justify-center text-white font-black shadow-2xl shadow-indigo-500/20 group-hover:rotate-12 transition-all",children:"O"}),p.jsx("span",{className:"text-lg md:text-2xl font-black text-white tracking-tighter uppercase",children:"Opulencia"})]}),p.jsxs("div",{className:"flex items-center gap-4 md:gap-10",children:[p.jsx("button",{onClick:t,className:"text-[10px] font-black text-slate-400 hover:text-white transition-colors uppercase tracking-[0.3em] hidden md:block",children:"Adquirir Licencia"}),p.jsx("button",{onClick:e,className:"bg-white text-slate-950 px-5 py-2.5 md:px-10 md:py-4 rounded-xl md:rounded-2xl text-[10px] font-black hover:bg-indigo-600 hover:text-white transition-all shadow-2xl active:scale-95 uppercase tracking-[0.2em] border-b-2 md:border-b-4 border-slate-200 hover:border-indigo-900 whitespace-nowrap",children:"Iniciar Sesin"})]})]})}),p.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden px-6 md:px-8 pt-32",children:[p.jsxs("div",{className:"absolute inset-0 z-0",children:[p.jsx("img",{src:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=2070&auto=format&fit=crop",className:"w-full h-full object-cover opacity-20 grayscale scale-105",alt:"Fondo Tecnolgico"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-950/40 via-slate-950/80 to-slate-950"})]}),p.jsxs("div",{className:"max-w-6xl mx-auto text-center relative z-10",children:[p.jsxs("div",{className:"inline-flex items-center gap-3 bg-white/5 border border-white/10 px-6 py-2 rounded-full mb-10 backdrop-blur-xl",children:[p.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-ping"}),p.jsx("span",{className:"text-indigo-400 text-[9px] font-black uppercase tracking-[0.4em]",children:"SISTEMA OPERATIVO DE GESTIN FINANCIERA v4.0"})]}),p.jsxs("h1",{className:"text-5xl sm:text-7xl md:text-[9rem] font-black text-white leading-[0.8] tracking-tighter mb-10",children:["DOMINIO ",p.jsx("br",{}),p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 via-emerald-400 to-indigo-500",children:"DE ACTIVOS."})]}),p.jsx("p",{className:"text-lg md:text-2xl text-slate-400 max-w-4xl mx-auto font-medium mb-16 leading-relaxed opacity-80 px-4",children:"La infraestructura SaaS definitiva para la recuperacin de activos y colocacin de capital. Control absoluto para Directores y eficiencia tctica para Ejecutivos de Campo."}),p.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-8 px-4",children:p.jsx("button",{onClick:t,className:"w-full sm:w-auto bg-indigo-600 text-white px-10 py-6 md:px-16 md:py-8 rounded-[2rem] md:rounded-[2.5rem] font-black text-lg md:text-xl shadow-3xl shadow-indigo-500/40 hover:-translate-y-2 transition-all active:scale-95 border-b-[6px] md:border-b-[10px] border-indigo-900 uppercase tracking-widest",children:"Adquirir Licencia"})})]})]}),p.jsx(qa,{index:"01",tag:"Inteligencia",title:"Analtica Predictiva Centralizada.",desc:"Visualice el pulso financiero de su organizacin con mtricas de grado bancario. Monitoree tasas de recuperacin, proyecciones de rentabilidad y liquidez neta en tiempo real.",imageUrl:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=2070&auto=format&fit=crop",items:[{t:"Dashboard de Alto Nivel",d:"KPIs financieros diseados para la toma de decisiones gerenciales."},{t:"Seguridad de Datos",d:"Aislamiento total de informacin sensible mediante encriptacin AES-256."}]}),p.jsx(qa,{index:"02",tag:"Operaciones",title:"Matriz de Gestin de Riesgo.",desc:"Optimice la logstica de campo mediante una interfaz semafrica de alta precisin. Clasifique obligaciones segn su criticidad para garantizar la integridad de su capital.",imageUrl:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?q=80&w=2015&auto=format&fit=crop",reverse:!0,gridItems:[{c:"bg-rose-500",t:"Zona de Riesgo",d:"Activos en mora crtica con necesidad de intervencin inmediata."},{c:"bg-amber-500",t:"Ciclo de Cierre",d:"Crditos prximos a liquidarse con perfil de re-colocacin."},{c:"bg-emerald-500",t:"Cartera Saludable",d:"Flujos de capital estables con cumplimiento puntual."},{c:"bg-indigo-500",t:"Nuevos Activos",d:"Fase de monitoreo inicial para nuevas obligaciones."}]}),p.jsx(qa,{index:"03",tag:"Crecimiento",title:"Motor Predictivo de Expansin.",desc:"Identifique oportunidades de negocio antes de que ocurran. Nuestro algoritmo detecta clientes de alto valor prximos a finalizar su obligacin para facilitar la renovacin.",imageUrl:"https://images.unsplash.com/photo-1512428559087-560fa5ceab42?q=80&w=2070&auto=format&fit=crop",featuredCard:{icon:p.jsx("svg",{className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),title:"Inteligencia de Renovacin",desc:"Alerta: 'Cliente Diamante al 92% de cumplimiento. Generando oferta automtica de ampliacin.'"}}),p.jsx(qa,{index:"04",tag:"Patrimonio",title:"Diccionario Maestro de Activos.",desc:"Proteja el activo ms valioso de su compaa: la informacin. Centralice perfiles, geolocalizacin inalterable e historial de comportamiento en un repositorio blindado.",imageUrl:"https://images.unsplash.com/photo-1544383835-bda2bc66a55d?q=80&w=2070&auto=format&fit=crop",reverse:!0,smallItems:[{t:"Ficha Blindada",d:"Base de datos maestra protegida contra fugas de informacin interna."},{t:"Geo-Logstica",d:"Mapeo exacto de puntos de recaudo para auditora de campo."},{t:"Score Crediticio",d:"Algoritmo de calificacin basado en historial de puntualidad."},{t:"Historial Eterno",d:"Trazabilidad total de cada interaccin financiera con el cliente."}]}),p.jsx(qa,{index:"05",tag:"Finanzas",title:"Mitigacin de Fugas Operativas.",desc:"El rigor administrativo es la base de la rentabilidad. Registre cada egreso, desde logstica de campo hasta retiros de gerencia, impactando el arqueo final con transparencia.",imageUrl:"https://images.unsplash.com/photo-1450101499163-c8848c66ca85?q=80&w=2070&auto=format&fit=crop",expenseBadges:["-$45.00 Combustible de Ruta","-$20.00 Viticos de Ejecutivos"]}),p.jsx(qa,{index:"06",tag:"Supervisin",title:"Auditora de Ejecucin de Campo.",desc:"Controle el desempeo de sus Ejecutivos con precisin. Supervise el cumplimiento de rutas, efectividad de visitas y reportes de incidencias en tiempo real desde la central.",imageUrl:"https://images.unsplash.com/photo-1526628953301-3e589a6a8b74?q=80&w=2006&auto=format&fit=crop",reverse:!0,items:[{t:"Enrutamiento Dinmico",d:"Optimizacin inteligente de recorridos para maximizar el recaudo diario."},{t:"Mando y Control",d:"Canal de comunicacin encriptado entre la unidad de campo y gerencia."}]}),p.jsx(qa,{index:"07",tag:"Conciliacin",title:"Arqueo de Caja Maestro Digital.",desc:"La conciliacin operativa diaria es ahora un proceso matemtico perfecto. El sistema consolida recaudos, deduce egresos y nuevas colocaciones para dictar el efectivo real.",imageUrl:"https://images.unsplash.com/photo-1559526324-4b87b5e36e41?q=80&w=2070&auto=format&fit=crop",ctaButton:{label:"Iniciar Arqueo de Caja",action:t},liquidationPreview:!0}),p.jsxs("section",{className:"py-32 md:py-40 bg-white px-6 md:px-8 relative overflow-hidden",children:[p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"text-center mb-24 md:mb-32",children:[p.jsx("span",{className:"text-indigo-600 font-black text-[10px] uppercase tracking-[0.5em] mb-4 block",children:"Estructura Corporativa"}),p.jsx("h2",{className:"text-4xl md:text-8xl font-black text-slate-950 tracking-tighter leading-none",children:"Planes Institucionales."}),p.jsx("p",{className:"text-slate-500 font-medium text-lg md:text-xl mt-8 max-w-2xl mx-auto px-4",children:"Invierta en la tecnologa que transformar la rentabilidad de su organizacin."})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12",children:[p.jsx(Bm,{title:"Standard",price:"29",desc:"Para micro-operaciones en fase de crecimiento inicial.",features:["1 Razn Social","1 Ejecutivo de Campo","Mdulo de Egresos Bsicos","Soporte va Ticket"],onSelect:t}),p.jsx(Bm,{title:"Enterprise",price:"69",desc:"La opcin lder para empresas con gestin de campo activa.",features:["1 Razn Social","5 Ejecutivos de Campo","Analtica Predictiva Avanzada","Auditora de Ruta VIP"],popular:!0,onSelect:t}),p.jsx(Bm,{title:"Global Holding",price:"149",desc:"Control total para grandes corporaciones financieras.",features:["Rutas Ilimitadas","Personal Ilimitado","API de Integracin ERP","Account Manager Dedicado"],onSelect:t})]})]}),p.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-indigo-50 blur-[120px] rounded-full -mr-48 -mb-48 opacity-50"})]}),p.jsxs("footer",{className:"bg-slate-950 pt-24 pb-12 px-6 md:px-8 border-t border-white/5 relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-600 via-emerald-500 to-indigo-600 opacity-30"}),p.jsx("div",{className:"absolute -top-24 -right-24 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl"}),p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 md:gap-8 mb-20",children:[p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center text-slate-950 text-xl font-black shadow-lg",children:"O"}),p.jsx("h4",{className:"text-2xl font-black text-white tracking-tighter uppercase",children:"OPULENCIA"})]}),p.jsx("p",{className:"text-slate-500 text-sm font-medium leading-relaxed max-w-xs",children:"La plataforma de gestin financiera definitiva para organizaciones de recaudo y capital de riesgo en Latinoamrica."})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx("h5",{className:"text-white font-black text-[10px] uppercase tracking-[0.2em]",children:"Producto"}),p.jsxs("ul",{className:"space-y-4",children:[p.jsx("li",{children:p.jsx("button",{className:"text-slate-400 hover:text-white transition-colors text-sm font-medium",children:"Analtica Financiera"})}),p.jsx("li",{children:p.jsx("button",{className:"text-slate-400 hover:text-white transition-colors text-sm font-medium",children:"Gestin de Rutas"})}),p.jsx("li",{children:p.jsx("button",{className:"text-slate-400 hover:text-white transition-colors text-sm font-medium",children:"App Mvil (Staff)"})}),p.jsx("li",{children:p.jsx("button",{className:"text-slate-400 hover:text-white transition-colors text-sm font-medium",children:"Planes y Precios"})})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx("h5",{className:"text-white font-black text-[10px] uppercase tracking-[0.2em]",children:"Compaa"}),p.jsxs("ul",{className:"space-y-4",children:[p.jsx("li",{children:p.jsx("button",{className:"text-slate-400 hover:text-white transition-colors text-sm font-medium",children:"Sobre Nosotros"})}),p.jsx("li",{children:p.jsx("button",{className:"text-slate-400 hover:text-white transition-colors text-sm font-medium",children:"Carreras"})}),p.jsx("li",{children:p.jsx("button",{className:"text-slate-400 hover:text-white transition-colors text-sm font-medium",children:"Prensa y Medios"})}),p.jsx("li",{children:p.jsx("button",{className:"text-slate-400 hover:text-white transition-colors text-sm font-medium",children:"Contacto Ventas"})})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx("h5",{className:"text-white font-black text-[10px] uppercase tracking-[0.2em]",children:"Legal"}),p.jsxs("ul",{className:"space-y-4",children:[p.jsx("li",{children:p.jsx("button",{className:"text-slate-400 hover:text-white transition-colors text-sm font-medium",children:"Trminos de Servicio"})}),p.jsx("li",{children:p.jsx("button",{className:"text-slate-400 hover:text-white transition-colors text-sm font-medium",children:"Poltica de Privacidad"})}),p.jsx("li",{children:p.jsx("button",{className:"text-slate-400 hover:text-white transition-colors text-sm font-medium",children:"Seguridad de Datos"})}),p.jsx("li",{children:p.jsx("button",{className:"text-slate-400 hover:text-white transition-colors text-sm font-medium",children:"Compliance Bancario"})})]})]})]}),p.jsxs("div",{className:"pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-6 text-center md:text-left",children:[p.jsx("p",{className:"text-slate-600 font-black text-[10px] uppercase tracking-[0.2em]",children:"OPULENCIA SOFTWARE GROUP INC.  2026"}),p.jsxs("div",{className:"flex gap-6",children:[p.jsx(lE,{path:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"}),p.jsx(lE,{path:"M12 2.163c3.204 0 3.584.012 4.85.072 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})]})]})]})]})]}),qa=({index:e,tag:t,title:n,desc:r,imageUrl:i,reverse:o,items:l,featuredCard:u,gridItems:d,smallItems:f,expenseBadges:h,ctaButton:g,liquidationPreview:y})=>p.jsx("section",{className:`relative py-32 md:py-48 ${o?"bg-slate-900":"bg-slate-950"} px-6 md:px-8 overflow-hidden`,children:p.jsxs("div",{className:`max-w-7xl mx-auto flex flex-col ${o?"lg:flex-row-reverse":"lg:flex-row"} items-center gap-16 md:gap-24`,children:[p.jsxs("div",{className:"lg:w-1/2 space-y-10 text-center lg:text-left",children:[p.jsxs("div",{className:"flex flex-col items-center lg:items-start",children:[p.jsxs("span",{className:"text-indigo-500 font-black text-[10px] uppercase tracking-[0.6em] mb-4",children:["Mdulo ",e," - ",t]}),p.jsx("h2",{className:"text-4xl md:text-7xl font-black text-white tracking-tighter leading-[0.9]",children:n})]}),p.jsx("p",{className:"text-slate-400 text-lg md:text-xl leading-relaxed opacity-80",children:r}),l&&p.jsx("ul",{className:"space-y-8",children:l.map((b,S)=>p.jsxs("li",{className:"flex gap-6 group text-left",children:[p.jsx("div",{className:"w-1.5 h-10 bg-indigo-600 rounded-full group-hover:scale-y-150 transition-transform shrink-0"}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-white font-black text-xl md:text-2xl mb-1",children:b.t}),p.jsx("p",{className:"text-slate-500 text-sm font-medium",children:b.d})]})]},S))}),u&&p.jsxs("div",{className:"p-8 md:p-10 bg-indigo-600/10 border-l-8 border-indigo-500 rounded-3xl flex gap-8 items-center text-left",children:[p.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-indigo-600 text-white rounded-3xl flex items-center justify-center shrink-0 shadow-2xl",children:u.icon}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-white font-black text-xl md:text-2xl",children:u.title}),p.jsx("p",{className:"text-indigo-300/80 text-sm mt-2 font-medium italic",children:u.desc})]})]}),d&&p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:d.map((b,S)=>p.jsxs("div",{className:"p-8 bg-white/5 rounded-[2rem] border border-white/5 hover:bg-white/10 transition-all group",children:[p.jsx("div",{className:`w-3 h-3 ${b.c} rounded-full mb-4 shadow-lg`}),p.jsx("h4",{className:"text-white font-black text-[10px] uppercase tracking-widest",children:b.t}),p.jsx("p",{className:"text-slate-500 text-[10px] mt-2 font-bold uppercase leading-tight opacity-60 group-hover:opacity-100 transition-opacity",children:b.d})]},S))}),f&&p.jsx("ul",{className:"grid grid-cols-2 gap-6 md:gap-10 text-left",children:f.map((b,S)=>p.jsxs("li",{className:"space-y-2",children:[p.jsx("h4",{className:"text-white font-black text-[10px] uppercase tracking-[0.2em]",children:b.t}),p.jsx("p",{className:"text-slate-500 text-xs font-medium leading-relaxed",children:b.d})]},S))}),h&&p.jsx("div",{className:"flex flex-wrap justify-center lg:justify-start gap-4",children:h.map((b,S)=>p.jsx("div",{className:"bg-rose-500/10 border border-rose-500/30 px-8 py-4 md:px-10 md:py-6 rounded-[2rem] text-rose-500 font-black uppercase text-[10px] tracking-widest shadow-xl",children:b},S))}),g&&p.jsx("button",{onClick:g.action,className:"bg-white text-indigo-600 px-12 py-6 md:px-16 md:py-8 rounded-[2.5rem] font-black text-lg md:text-xl shadow-4xl hover:-translate-y-2 transition-transform uppercase tracking-widest",children:g.label})]}),p.jsx("div",{className:"lg:w-1/2 w-full flex justify-center",children:y?p.jsxs("div",{className:"bg-white p-6 md:p-16 rounded-[2.5rem] md:rounded-[4rem] shadow-5xl text-slate-900 w-full max-w-xl space-y-8 md:space-y-10 border-4 md:border-8 border-slate-50",children:[p.jsxs("div",{className:"flex flex-row justify-between items-center border-b-2 md:border-b-4 border-slate-50 pb-6 md:pb-8",children:[p.jsx("p",{className:"font-black uppercase text-[8px] md:text-[10px] tracking-[0.2em] md:tracking-[0.4em] text-slate-400",children:"Arqueo de Valores"}),p.jsx("p",{className:"font-black text-indigo-600 uppercase text-[8px] md:text-[10px] tracking-widest font-mono",children:"OPULENCIA 4.0"})]}),p.jsxs("div",{className:"space-y-3 md:space-y-6",children:[p.jsx(Um,{label:"Recaudacin Bruta",value:"+$1,250.00",color:"text-emerald-600"}),p.jsx(Um,{label:"Egresos Tcticos",value:"-$60.00",color:"text-rose-600"}),p.jsx(Um,{label:"Re-Colocacin Activos",value:"-$400.00",color:"text-rose-600"})]}),p.jsxs("div",{className:"pt-8 md:pt-10 border-t-4 md:border-t-8 border-slate-50 flex flex-col md:flex-row justify-between items-start md:items-end gap-6 md:gap-0",children:[p.jsxs("div",{className:"order-2 md:order-1 w-full md:w-auto",children:[p.jsx("p",{className:"text-[9px] md:text-[11px] font-black text-slate-400 uppercase tracking-[0.2em] md:tracking-[0.3em] mb-1 md:mb-2",children:"Efectivo a Entregar"}),p.jsx("p",{className:"text-4xl sm:text-5xl md:text-6xl font-black text-slate-950 tracking-tighter font-mono leading-none",children:"$790.00"})]}),p.jsx("div",{className:"order-1 md:order-2 w-14 h-14 md:w-20 md:h-20 bg-emerald-500 rounded-2xl md:rounded-3xl flex items-center justify-center text-white shadow-2xl self-end md:self-auto shrink-0",children:p.jsx("svg",{className:"h-8 w-8 md:h-12 md:w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:4,d:"M5 13l4 4L19 7"})})})]})]}):p.jsxs("div",{className:"relative w-full aspect-square md:aspect-video rounded-[2.5rem] md:rounded-[4rem] overflow-hidden bg-slate-900 border-[8px] md:border-[12px] border-white/5 shadow-5xl group",children:[p.jsx("img",{src:i,className:"w-full h-full object-cover opacity-60 group-hover:scale-110 transition-transform duration-1000 group-hover:opacity-100",alt:n}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-transparent to-transparent"})]})})]})}),Um=({label:e,value:t,color:n})=>p.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center bg-slate-50 p-4 md:p-8 rounded-2xl md:rounded-[2.5rem] border border-slate-100 gap-1 sm:gap-0 w-full transition-all hover:bg-slate-100",children:[p.jsx("p",{className:"font-black text-slate-600 text-[9px] md:text-[11px] uppercase tracking-widest truncate mr-2",children:e}),p.jsx("p",{className:`font-black ${n} text-xl md:text-2xl font-mono shrink-0`,children:t})]}),Bm=({title:e,price:t,desc:n,features:r,popular:i,onSelect:o})=>p.jsxs("div",{className:`bg-white p-10 md:p-16 rounded-[3rem] md:rounded-[4rem] border-4 flex flex-col transition-all hover:shadow-4xl group relative overflow-hidden ${i?"border-indigo-600 scale-100 md:scale-105 shadow-4xl z-10":"border-slate-50 shadow-xl"}`,children:[i&&p.jsx("div",{className:"absolute top-0 right-0 bg-indigo-600 text-white px-8 py-2 rounded-bl-3xl text-[9px] font-black uppercase tracking-[0.3em] shadow-lg",children:"Ms Vendido"}),p.jsx("h3",{className:"text-3xl md:text-4xl font-black text-slate-950 mb-4",children:e}),p.jsx("p",{className:"text-slate-400 font-medium text-sm mb-10 leading-relaxed",children:n}),p.jsxs("div",{className:"flex items-end gap-2 mb-12",children:[p.jsxs("span",{className:"text-6xl md:text-7xl font-black text-slate-950",children:["$",t]}),p.jsx("span",{className:"text-slate-400 font-black mb-3 uppercase text-[10px] tracking-widest",children:"/ Mes"})]}),p.jsx("ul",{className:"space-y-6 mb-16 flex-1",children:r.map((l,u)=>p.jsxs("li",{className:"flex items-center gap-4 text-xs font-bold text-slate-700",children:[p.jsx("div",{className:"w-5 h-5 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-600 shrink-0",children:p.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),l]},u))}),p.jsxs("button",{onClick:o,className:`w-full py-6 md:py-8 rounded-[2.5rem] font-black uppercase text-[10px] tracking-[0.3em] transition-all active:scale-95 shadow-2xl border-b-8 ${i?"bg-indigo-600 text-white border-indigo-900 group-hover:bg-indigo-700":"bg-slate-950 text-white border-slate-700 group-hover:bg-slate-900"}`,children:["Seleccionar ",e]})]}),lE=({path:e})=>p.jsx("div",{className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center text-slate-400 hover:bg-white hover:text-indigo-600 transition-all cursor-pointer",children:p.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{d:e})})}),Qe=new Date().toISOString().split("T")[0],$m="business_001",xu=[{code:"CO",name:"Colombia",dial_code:"+57",continent:"Amrica del Sur",flag:""},{code:"AR",name:"Argentina",dial_code:"+54",continent:"Amrica del Sur",flag:""},{code:"PE",name:"Per",dial_code:"+51",continent:"Amrica del Sur",flag:""},{code:"CL",name:"Chile",dial_code:"+56",continent:"Amrica del Sur",flag:""},{code:"BR",name:"Brasil",dial_code:"+55",continent:"Amrica del Sur",flag:""},{code:"EC",name:"Ecuador",dial_code:"+593",continent:"Amrica del Sur",flag:""},{code:"VE",name:"Venezuela",dial_code:"+58",continent:"Amrica del Sur",flag:""},{code:"MX",name:"Mxico",dial_code:"+52",continent:"Amrica del Norte/Central",flag:""},{code:"US",name:"Estados Unidos",dial_code:"+1",continent:"Amrica del Norte/Central",flag:""},{code:"PA",name:"Panam",dial_code:"+507",continent:"Amrica del Norte/Central",flag:""},{code:"CR",name:"Costa Rica",dial_code:"+506",continent:"Amrica del Norte/Central",flag:""},{code:"DO",name:"Repblica Dominicana",dial_code:"+1-809",continent:"Amrica del Norte/Central",flag:""},{code:"ES",name:"Espaa",dial_code:"+34",continent:"Europa",flag:""},{code:"FR",name:"Francia",dial_code:"+33",continent:"Europa",flag:""},{code:"DE",name:"Alemania",dial_code:"+49",continent:"Europa",flag:""},{code:"IT",name:"Italia",dial_code:"+39",continent:"Europa",flag:""},{code:"GB",name:"Reino Unido",dial_code:"+44",continent:"Europa",flag:""},{code:"CN",name:"China",dial_code:"+86",continent:"Asia",flag:""},{code:"JP",name:"Japn",dial_code:"+81",continent:"Asia",flag:""},{code:"IN",name:"India",dial_code:"+91",continent:"Asia",flag:""}],hk=(e,t)=>{const n=new Date(e+"T00:00:00");let r=0;for(;r<t;)n.setDate(n.getDate()+1),n.getDay()!==0&&r++;return n},Gu=(e,t)=>{const n=new Date(e+"T00:00:00"),r=new Date(t+"T00:00:00");if(r<n)return 0;let i=0;const o=new Date(n);for(;o<r;)o.setDate(o.getDate()+1),o.getDay()!==0&&i++;return i};Nn.ADMIN,Nn.COLLECTOR,Nn.COLLECTOR;const R5=({mode:e,error:t,successMessage:n,onLogin:r,onRegister:i,onBack:o,onSwitchMode:l,onRecoverInitiate:u,onRecoverVerify:d,onRecoverReset:f})=>{const[h,g]=C.useState("none"),[y,b]=C.useState(!1),[S,E]=C.useState(null),[T,A]=C.useState(""),[N,k]=C.useState(""),[P,R]=C.useState(""),[O,B]=C.useState(""),[K,D]=C.useState({email:"",password:"",name:"",dni:"",phoneCode:"+57",phoneNumber:"",address:"",country:"Colombia",city:"",businessName:""});C.useMemo(()=>{const L={};return xu.forEach(q=>{L[q.continent]||(L[q.continent]=[]),L[q.continent].push(q)}),L},[]);const G=L=>{if(L.preventDefault(),b(!0),e==="login")r(K.email,K.password);else{const q={...K,phone:`${K.phoneCode} ${K.phoneNumber}`};i(q)}setTimeout(()=>b(!1),4e3)},$=async L=>{if(L.preventDefault(),E(null),h==="email"){b(!0);const q=await u(T);b(!1),q&&g("code")}else if(h==="code")d(N)&&g("reset");else if(h==="reset"){if(P.length<6){E("La contrasea debe tener al menos 6 caracteres.");return}if(P!==O){E("Las contraseas no coinciden.");return}f(P),g("none")}},M=()=>{g("none"),A(""),k(""),R(""),B(""),E(null)},U=t||S;return p.jsxs("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4 md:p-6 selection:bg-indigo-500 selection:text-white font-inter",children:[p.jsxs("div",{className:`w-full grid grid-cols-1 lg:grid-cols-12 bg-white rounded-[2rem] shadow-2xl overflow-hidden animate-fadeIn relative min-h-[600px] transition-all duration-500 ease-in-out ${e==="login"?"max-w-5xl":"max-w-[1600px]"}`,children:[p.jsxs("div",{className:"col-span-1 lg:col-span-4 flex flex-col justify-between bg-indigo-600 p-8 md:p-12 text-white relative overflow-hidden",children:[p.jsxs("div",{className:"relative z-10",children:[p.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-indigo-200 hover:text-white transition mb-8 lg:mb-12 group",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 transform group-hover:-translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),p.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Regresar"})]}),p.jsx("h2",{className:"text-4xl md:text-5xl font-black leading-none tracking-tighter mb-4 md:mb-6",children:"nete a la lite."}),p.jsx("p",{className:"text-indigo-100 font-medium text-base md:text-lg",children:"Gestiona tu negocio con precisin quirrgica."})]}),p.jsxs("div",{className:"relative z-10 hidden md:block",children:[p.jsxs("div",{className:"flex -space-x-4",children:[[1,2,3,4].map(L=>p.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-indigo-600 bg-indigo-400 overflow-hidden shadow-lg",children:p.jsx("img",{src:`https://i.pravatar.cc/150?u=${L}`,alt:"user"})},L)),p.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-indigo-600 bg-white flex items-center justify-center text-indigo-600 font-black text-xs shadow-lg",children:"+1k"})]}),p.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest mt-4 text-indigo-200",children:"Zonas activas globalmente"})]}),p.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-white/10 rounded-full -mr-40 -mt-40 blur-3xl pointer-events-none"}),p.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-black/10 rounded-full -ml-32 -mb-32 blur-3xl pointer-events-none"})]}),p.jsx("div",{className:"col-span-1 lg:col-span-8 p-8 md:p-12 lg:p-16 flex flex-col justify-center relative",children:h!=="none"?p.jsxs("div",{className:"animate-slideDown w-full max-w-md mx-auto",children:[p.jsx("header",{className:"mb-8 text-center",children:p.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"Recuperacin de Cuenta"})}),p.jsxs("form",{onSubmit:$,className:"space-y-6",children:[h==="email"&&p.jsx(Xl,{label:"Correo Electrnico Registrado",value:T,onChange:A,type:"email",required:!0,placeholder:"ejemplo@empresa.com"}),p.jsxs("div",{className:"pt-2 space-y-3",children:[p.jsx("button",{type:"submit",disabled:y,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-4 rounded-2xl shadow-xl transition uppercase tracking-widest text-xs",children:y?"Cargando...":"Enviar"}),p.jsx("button",{type:"button",onClick:M,className:"w-full text-slate-400 font-bold text-xs uppercase tracking-widest",children:"Cancelar"})]})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("header",{className:"mb-8 flex flex-col items-center lg:items-start text-center lg:text-left",children:[p.jsx("h3",{className:"text-3xl md:text-4xl font-black text-slate-800 tracking-tight",children:e==="login"?"Bienvenido Staff":"Configuracin de Razn Social"}),p.jsx("p",{className:"text-slate-400 font-medium text-sm md:text-base mt-2",children:e==="login"?"Ingresa para gestionar tu ruta hoy.":"Complete el perfil corporativo para activar la licencia."})]}),p.jsxs("form",{onSubmit:G,className:"space-y-5",children:[U&&p.jsxs("div",{className:"p-4 bg-rose-50 border-2 border-rose-200 text-rose-700 rounded-2xl flex items-center gap-4 animate-shake mb-6 shadow-md",children:[p.jsx("div",{className:"w-10 h-10 bg-rose-100 rounded-full flex items-center justify-center shrink-0",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-rose-600",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest leading-none",children:"Error del Sistema"}),p.jsx("p",{className:"text-xs font-bold mt-1",children:U})]})]}),e==="register"&&p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:[p.jsx(Xl,{label:"Nombre Dueo / Representante",value:K.name,onChange:L=>D({...K,name:L}),required:!0}),p.jsx(Xl,{label:"Identificacin (DNI / NIT)",value:K.dni,onChange:L=>D({...K,dni:L}),required:!0}),p.jsx("div",{className:"md:col-span-2",children:p.jsx(Xl,{label:"Razn Social / Nombre del Negocio",value:K.businessName,onChange:L=>D({...K,businessName:L}),required:!0})})]}),p.jsxs("div",{className:`${e==="login"?"md:max-w-xl mx-auto":""}`,children:[p.jsx(Xl,{label:"Usuario / Correo Electrnico",value:K.email,onChange:L=>D({...K,email:L}),required:!0}),p.jsxs("div",{className:"space-y-1 mt-4",children:[p.jsxs("div",{className:"flex justify-between px-1",children:[p.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Contrasea de Acceso"}),e==="login"&&p.jsx("button",{type:"button",onClick:()=>g("email"),className:"text-[8px] font-black text-indigo-600 uppercase tracking-widest hover:underline",children:"Olvidaste tu clave?"})]}),p.jsx("input",{type:"password",value:K.password,onChange:L=>D({...K,password:L.target.value}),className:"w-full bg-slate-50 border-2 border-slate-100 rounded-2xl px-5 py-3 md:py-4 focus:ring-4 focus:ring-indigo-100 outline-none transition font-bold text-slate-800 text-lg shadow-inner",required:!0})]})]}),p.jsx("div",{className:`pt-4 ${e==="login"?"md:max-w-xl mx-auto":""}`,children:p.jsx("button",{type:"submit",disabled:y,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-4 md:py-5 rounded-2xl shadow-xl transition transform active:scale-95 uppercase tracking-[0.2em] text-[10px] md:text-xs border-b-4 border-indigo-900",children:y?"VERIFICANDO...":e==="login"?"INICIAR SESIN":"CONFIRMAR SUSCRIPCIN"})})]}),p.jsx("div",{className:"mt-8 text-center",children:p.jsxs("p",{className:"text-[11px] font-bold text-slate-400",children:[e==="login"?"An no tienes licencia activa?":"Ya tienes una cuenta operativa?",p.jsx("button",{type:"button",onClick:()=>l(e==="login"?"register":"login"),className:"ml-2 text-indigo-600 hover:underline font-black uppercase tracking-tighter",children:e==="login"?"Adquirir aqu":"Iniciar sesin"})]})})]})})]}),p.jsx("style",{children:`
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        .animate-shake {
            animation: shake 0.2s ease-in-out 0s 2;
        }
      `})]})},Xl=({label:e,value:t,onChange:n,type:r="text",className:i="",required:o,placeholder:l})=>p.jsxs("div",{className:`space-y-1 ${i}`,children:[p.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest px-1",children:e}),p.jsx("input",{type:r,value:t,onChange:u=>n(u.target.value),placeholder:l,className:"w-full bg-slate-50 border-2 border-slate-100 rounded-2xl px-5 py-3 md:py-4 focus:ring-4 focus:ring-indigo-100 outline-none transition font-bold text-slate-800 text-sm shadow-inner",required:o})]});function pk(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=pk(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function nt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=pk(e))&&(r&&(r+=" "),r+=t);return r}var P5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ax(e){if(typeof e!="string")return!1;var t=P5;return t.includes(e)}var O5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],M5=new Set(O5);function mk(e){return typeof e!="string"?!1:M5.has(e)}function gk(e){return typeof e=="string"&&e.startsWith("data-")}function Cr(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(mk(n)||gk(n))&&(t[n]=e[n]);return t}function Hu(e){if(e==null)return null;if(C.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Cr(t)}return typeof e=="object"&&!Array.isArray(e)?Cr(e):null}function hn(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(mk(n)||gk(n)||ax(n))&&(t[n]=e[n]);return t}function D5(e){return e==null?null:C.isValidElement(e)?hn(e.props):typeof e=="object"&&!Array.isArray(e)?hn(e):null}var j5=["children","width","height","viewBox","className","style","title","desc"];function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dv.apply(null,arguments)}function L5(e,t){if(e==null)return{};var n,r,i=U5(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function U5(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vk=C.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:u,title:d,desc:f}=e,h=L5(e,j5),g=o||{width:r,height:i,x:0,y:0},y=nt("recharts-surface",l);return C.createElement("svg",Dv({},hn(h),{className:y,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),C.createElement("title",null,d),C.createElement("desc",null,f),n)}),B5=["children","className"];function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jv.apply(null,arguments)}function $5(e,t){if(e==null)return{};var n,r,i=z5(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function z5(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ur=C.forwardRef((e,t)=>{var{children:n,className:r}=e,i=$5(e,B5),o=nt("recharts-layer",r);return C.createElement("g",jv({className:o},hn(i),{ref:t}),n)}),yk=fk(),q5=C.createContext(null);function it(e){return function(){return e}}const xk=Math.cos,hf=Math.sin,Rr=Math.sqrt,pf=Math.PI,gh=2*pf,Lv=Math.PI,Uv=2*Lv,Fa=1e-6,V5=Uv-Fa;function bk(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function G5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return bk;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class H5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?bk:G5(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,d=r-t,f=i-n,h=l-t,g=u-n,y=h*h+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>Fa)if(!(Math.abs(g*d-f*h)>Fa)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-l,S=i-u,E=d*d+f*f,T=b*b+S*S,A=Math.sqrt(E),N=Math.sqrt(y),k=o*Math.tan((Lv-Math.acos((E+y-T)/(2*A*N)))/2),P=k/N,R=k/A;Math.abs(P-1)>Fa&&this._append`L${t+P*h},${n+P*g}`,this._append`A${o},${o},0,0,${+(g*b>h*S)},${this._x1=t+R*d},${this._y1=n+R*f}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),f=t+u,h=n+d,g=1^l,y=l?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Fa||Math.abs(this._y1-h)>Fa)&&this._append`L${f},${h}`,r&&(y<0&&(y=y%Uv+Uv),y>V5?this._append`A${r},${r},0,1,${g},${t-u},${n-d}A${r},${r},0,1,${g},${this._x1=f},${this._y1=h}`:y>Fa&&this._append`A${r},${r},0,${+(y>=Lv)},${g},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ox(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new H5(t)}function sx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function wk(e){this._context=e}wk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function vh(e){return new wk(e)}function _k(e){return e[0]}function Sk(e){return e[1]}function Ek(e,t){var n=it(!0),r=null,i=vh,o=null,l=ox(u);e=typeof e=="function"?e:e===void 0?_k:it(e),t=typeof t=="function"?t:t===void 0?Sk:it(t);function u(d){var f,h=(d=sx(d)).length,g,y=!1,b;for(r==null&&(o=i(b=l())),f=0;f<=h;++f)!(f<h&&n(g=d[f],f,d))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+e(g,f,d),+t(g,f,d));if(b)return o=null,b+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:it(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:it(+d),u):t},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:it(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(o=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=o=null:o=i(r=d),u):r},u}function Cd(e,t,n){var r=null,i=it(!0),o=null,l=vh,u=null,d=ox(f);e=typeof e=="function"?e:e===void 0?_k:it(+e),t=typeof t=="function"?t:it(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Sk:it(+n);function f(g){var y,b,S,E=(g=sx(g)).length,T,A=!1,N,k=new Array(E),P=new Array(E);for(o==null&&(u=l(N=d())),y=0;y<=E;++y){if(!(y<E&&i(T=g[y],y,g))===A)if(A=!A)b=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=y-1;S>=b;--S)u.point(k[S],P[S]);u.lineEnd(),u.areaEnd()}A&&(k[y]=+e(T,y,g),P[y]=+t(T,y,g),u.point(r?+r(T,y,g):k[y],n?+n(T,y,g):P[y]))}if(N)return u=null,N+""||null}function h(){return Ek().defined(i).curve(l).context(o)}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:it(+g),r=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:it(+g),f):e},f.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:it(+g),f):r},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:it(+g),n=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:it(+g),f):t},f.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:it(+g),f):n},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(n)},f.lineX1=function(){return h().x(r).y(t)},f.defined=function(g){return arguments.length?(i=typeof g=="function"?g:it(!!g),f):i},f.curve=function(g){return arguments.length?(l=g,o!=null&&(u=l(o)),f):l},f.context=function(g){return arguments.length?(g==null?o=u=null:u=l(o=g),f):o},f}class Tk{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function F5(e){return new Tk(e,!0)}function K5(e){return new Tk(e,!1)}const lx={draw(e,t){const n=Rr(t/pf);e.moveTo(n,0),e.arc(0,0,n,0,gh)}},W5={draw(e,t){const n=Rr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Ak=Rr(1/3),Y5=Ak*2,J5={draw(e,t){const n=Rr(t/Y5),r=n*Ak;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},X5={draw(e,t){const n=Rr(t),r=-n/2;e.rect(r,r,n,n)}},Z5=.8908130915292852,Ck=hf(pf/10)/hf(7*pf/10),Q5=hf(gh/10)*Ck,e6=-xk(gh/10)*Ck,t6={draw(e,t){const n=Rr(t*Z5),r=Q5*n,i=e6*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const l=gh*o/5,u=xk(l),d=hf(l);e.lineTo(d*n,-u*n),e.lineTo(u*r-d*i,d*r+u*i)}e.closePath()}},zm=Rr(3),n6={draw(e,t){const n=-Rr(t/(zm*3));e.moveTo(0,n*2),e.lineTo(-zm*n,-n),e.lineTo(zm*n,-n),e.closePath()}},ir=-.5,ar=Rr(3)/2,Bv=1/Rr(12),r6=(Bv/2+1)*3,i6={draw(e,t){const n=Rr(t/r6),r=n/2,i=n*Bv,o=r,l=n*Bv+n,u=-o,d=l;e.moveTo(r,i),e.lineTo(o,l),e.lineTo(u,d),e.lineTo(ir*r-ar*i,ar*r+ir*i),e.lineTo(ir*o-ar*l,ar*o+ir*l),e.lineTo(ir*u-ar*d,ar*u+ir*d),e.lineTo(ir*r+ar*i,ir*i-ar*r),e.lineTo(ir*o+ar*l,ir*l-ar*o),e.lineTo(ir*u+ar*d,ir*d-ar*u),e.closePath()}};function a6(e,t){let n=null,r=ox(i);e=typeof e=="function"?e:it(e||lx),t=typeof t=="function"?t:it(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:it(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:it(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function mf(){}function gf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Nk(e){this._context=e}Nk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function o6(e){return new Nk(e)}function Ik(e){this._context=e}Ik.prototype={areaStart:mf,areaEnd:mf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:gf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function s6(e){return new Ik(e)}function kk(e){this._context=e}kk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:gf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l6(e){return new kk(e)}function Rk(e){this._context=e}Rk.prototype={areaStart:mf,areaEnd:mf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function u6(e){return new Rk(e)}function uE(e){return e<0?-1:1}function cE(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(o*i+l*r)/(r+i);return(uE(o)+uE(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function dE(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function qm(e,t,n){var r=e._x0,i=e._y0,o=e._x1,l=e._y1,u=(o-r)/3;e._context.bezierCurveTo(r+u,i+u*t,o-u,l-u*n,o,l)}function vf(e){this._context=e}vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qm(this,this._t0,dE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qm(this,dE(this,n=cE(this,e,t)),n);break;default:qm(this,this._t0,n=cE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Pk(e){this._context=new Ok(e)}(Pk.prototype=Object.create(vf.prototype)).point=function(e,t){vf.prototype.point.call(this,t,e)};function Ok(e){this._context=e}Ok.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function c6(e){return new vf(e)}function d6(e){return new Pk(e)}function Mk(e){this._context=e}Mk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=fE(e),i=fE(t),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function fE(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function f6(e){return new Mk(e)}function yh(e,t){this._context=e,this._t=t}yh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function h6(e){return new yh(e,.5)}function p6(e){return new yh(e,0)}function m6(e){return new yh(e,1)}function so(e,t){if((l=e.length)>1)for(var n=1,r,i,o=e[t[0]],l,u=o.length;n<l;++n)for(i=o,o=e[t[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function $v(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function g6(e,t){return e[t]}function v6(e){const t=[];return t.key=e,t}function y6(){var e=it([]),t=$v,n=so,r=g6;function i(o){var l=Array.from(e.apply(this,arguments),v6),u,d=l.length,f=-1,h;for(const g of o)for(u=0,++f;u<d;++u)(l[u][f]=[0,+r(g,l[u].key,f,o)]).data=g;for(u=0,h=sx(t(l));u<d;++u)l[h[u]].index=u;return n(l,h),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:it(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:it(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?$v:typeof o=="function"?o:it(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??so,i):n},i}function x6(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}so(e,t)}}function b6(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}so(e,t)}}function w6(e,t){if(!(!((l=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var u=0,d=0,f=0;u<l;++u){for(var h=e[t[u]],g=h[r][1]||0,y=h[r-1][1]||0,b=(g-y)/2,S=0;S<u;++S){var E=e[t[S]],T=E[r][1]||0,A=E[r-1][1]||0;b+=T-A}d+=g,f+=b*g}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,so(e,t)}}var Vm={},Gm={},hE;function _6(){return hE||(hE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Gm)),Gm}var Hm={},pE;function Dk(){return pE||(pE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Hm)),Hm}var Fm={},mE;function ux(){return mE||(mE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Fm)),Fm}var Km={},Wm={},gE;function S6(){return gE||(gE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Wm)),Wm}var vE;function cx(){return vE||(vE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S6(),n=ux();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],l=i.length;if(l===0)return o;let u=0,d="",f="",h=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<l;){const g=i[u];f?g==="\\"&&u+1<l?(u++,d+=i[u]):g===f?f="":d+=g:h?g==='"'||g==="'"?f=g:g==="]"?(h=!1,o.push(d),d=""):d+=g:g==="["?(h=!0,d&&(o.push(d),d="")):g==="."?d&&(o.push(d),d=""):d+=g,u++}return d&&o.push(d),o}e.toPath=r})(Km)),Km}var yE;function dx(){return yE||(yE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_6(),n=Dk(),r=ux(),i=cx();function o(u,d,f){if(u==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const h=u[d];return h===void 0?n.isDeepKey(d)?o(u,i.toPath(d),f):f:h}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const h=u[d];return h===void 0?f:h}default:{if(Array.isArray(d))return l(u,d,f);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const h=u[d];return h===void 0?f:h}}}function l(u,d,f){if(d.length===0)return f;let h=u;for(let g=0;g<d.length;g++){if(h==null||t.isUnsafeProperty(d[g]))return f;h=h[d[g]]}return h===void 0?f:h}e.get=o})(Vm)),Vm}var Ym,xE;function E6(){return xE||(xE=1,Ym=dx().get),Ym}var T6=E6();const js=kr(T6);var A6=4;function ma(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A6,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function vt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,o,l)=>{var u=n[l-1];return typeof u=="string"?i+u+o:u!==void 0?i+ma(u)+o:i+o},"")}var Tn=e=>e===0?0:e>0?1:-1,Gr=e=>typeof e=="number"&&e!=+e,lo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ye=e=>(typeof e=="number"||e instanceof Number)&&!Gr(e),Hr=e=>ye(e)||typeof e=="string",C6=0,bu=e=>{var t=++C6;return"".concat(e||"").concat(t)},Nr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ye(t)&&typeof t!="string")return r;var o;if(lo(t)){if(n==null)return r;var l=t.indexOf("%");o=n*parseFloat(t.slice(0,l))/100}else o=+t;return Gr(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},jk=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function yt(e,t,n){return ye(e)&&ye(t)?ma(e+n*(t-e)):t}function Lk(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):js(r,t))===n)}var ft=e=>e===null||typeof e>"u",Fu=e=>ft(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function An(e){return e!=null}function go(){}var N6=["type","size","sizeType"];function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zv.apply(null,arguments)}function bE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bE(Object(n),!0).forEach(function(r){I6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I6(e,t,n){return(t=k6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k6(e){var t=R6(e,"string");return typeof t=="symbol"?t:t+""}function R6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P6(e,t){if(e==null)return{};var n,r,i=O6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function O6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Uk={symbolCircle:lx,symbolCross:W5,symbolDiamond:J5,symbolSquare:X5,symbolStar:t6,symbolTriangle:n6,symbolWye:i6},M6=Math.PI/180,D6=e=>{var t="symbol".concat(Fu(e));return Uk[t]||lx},j6=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*M6;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},L6=(e,t)=>{Uk["symbol".concat(Fu(e))]=t},Bk=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=P6(e,N6),o=wE(wE({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var y=D6(l),b=a6().type(y).size(j6(n,r,l)),S=b();if(S!==null)return S},{className:d,cx:f,cy:h}=o,g=hn(o);return ye(f)&&ye(h)&&ye(n)?C.createElement("path",zv({},g,{className:nt("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};Bk.registerSymbol=L6;var $k=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,fx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(C.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{ax(i)&&(r[i]=(o=>n[i](n,o)))}),r},U6=(e,t,n)=>r=>(e(t,n,r),null),hx=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];ax(i)&&typeof o=="function"&&(r||(r={}),r[i]=U6(o,t,n))}),r};function _E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function B6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(n),!0).forEach(function(r){$6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $6(e,t,n){return(t=z6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z6(e){var t=q6(e,"string");return typeof t=="symbol"?t:t+""}function q6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function In(e,t){var n=B6({},e),r=t,i=Object.keys(t),o=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return o}var Jm={},Xm={},SE;function V6(){return SE||(SE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],u=r(l,o,n);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(Xm)),Xm}var Zm={},EE;function G6(){return EE||(EE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(Zm)),Zm}var Qm={},TE;function zk(){return TE||(TE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Qm)),Qm}var eg={},tg={},ng={},AE;function H6(){return AE||(AE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(ng)),ng}var CE;function px(){return CE||(CE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H6();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(tg)),tg}var rg={},NE;function F6(){return NE||(NE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(rg)),rg}var IE;function K6(){return IE||(IE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=px(),n=F6();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(eg)),eg}var ig={},ag={},kE;function W6(){return kE||(kE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dx();function n(r){return function(i){return t.get(i,r)}}e.property=n})(ag)),ag}var og={},sg={},lg={},ug={},RE;function qk(){return RE||(RE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(ug)),ug}var cg={},PE;function Vk(){return PE||(PE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(cg)),cg}var dg={},OE;function Gk(){return OE||(OE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(dg)),dg}var ME;function Y6(){return ME||(ME=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qk(),n=Vk(),r=Gk();function i(h,g,y){return typeof y!="function"?i(h,g,()=>{}):o(h,g,function b(S,E,T,A,N,k){const P=y(S,E,T,A,N,k);return P!==void 0?!!P:o(S,E,b,k)},new Map)}function o(h,g,y,b){if(g===h)return!0;switch(typeof g){case"object":return l(h,g,y,b);case"function":return Object.keys(g).length>0?o(h,{...g},y,b):r.isEqualsSameValueZero(h,g);default:return t.isObject(h)?typeof g=="string"?g==="":!0:r.isEqualsSameValueZero(h,g)}}function l(h,g,y,b){if(g==null)return!0;if(Array.isArray(g))return d(h,g,y,b);if(g instanceof Map)return u(h,g,y,b);if(g instanceof Set)return f(h,g,y,b);const S=Object.keys(g);if(h==null||n.isPrimitive(h))return S.length===0;if(S.length===0)return!0;if(b!=null&&b.has(g))return b.get(g)===h;b==null||b.set(g,h);try{for(let E=0;E<S.length;E++){const T=S[E];if(!n.isPrimitive(h)&&!(T in h)||g[T]===void 0&&h[T]!==void 0||g[T]===null&&h[T]!==null||!y(h[T],g[T],T,h,g,b))return!1}return!0}finally{b==null||b.delete(g)}}function u(h,g,y,b){if(g.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,E]of g.entries()){const T=h.get(S);if(y(T,E,S,h,g,b)===!1)return!1}return!0}function d(h,g,y,b){if(g.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let E=0;E<g.length;E++){const T=g[E];let A=!1;for(let N=0;N<h.length;N++){if(S.has(N))continue;const k=h[N];let P=!1;if(y(k,T,E,h,g,b)&&(P=!0),P){S.add(N),A=!0;break}}if(!A)return!1}return!0}function f(h,g,y,b){return g.size===0?!0:h instanceof Set?d([...h],[...g],y,b):!1}e.isMatchWith=i,e.isSetMatch=f})(lg)),lg}var DE;function Hk(){return DE||(DE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y6();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(sg)),sg}var fg={},hg={},pg={},jE;function J6(){return jE||(jE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(pg)),pg}var mg={},LE;function mx(){return LE||(LE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(mg)),mg}var gg={},UE;function Fk(){return UE||(UE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",f="[object Set]",h="[object Array]",g="[object Function]",y="[object ArrayBuffer]",b="[object Object]",S="[object Error]",E="[object DataView]",T="[object Uint8Array]",A="[object Uint8ClampedArray]",N="[object Uint16Array]",k="[object Uint32Array]",P="[object BigUint64Array]",R="[object Int8Array]",O="[object Int16Array]",B="[object Int32Array]",K="[object BigInt64Array]",D="[object Float32Array]",G="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=y,e.arrayTag=h,e.bigInt64ArrayTag=K,e.bigUint64ArrayTag=P,e.booleanTag=i,e.dataViewTag=E,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=D,e.float64ArrayTag=G,e.functionTag=g,e.int16ArrayTag=O,e.int32ArrayTag=B,e.int8ArrayTag=R,e.mapTag=d,e.numberTag=r,e.objectTag=b,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=N,e.uint32ArrayTag=k,e.uint8ArrayTag=T,e.uint8ClampedArrayTag=A})(gg)),gg}var vg={},BE;function X6(){return BE||(BE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(vg)),vg}var $E;function Kk(){return $E||($E=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J6(),n=mx(),r=Fk(),i=Vk(),o=X6();function l(h,g){return u(h,void 0,h,new Map,g)}function u(h,g,y,b=new Map,S=void 0){const E=S==null?void 0:S(h,g,y,b);if(E!==void 0)return E;if(i.isPrimitive(h))return h;if(b.has(h))return b.get(h);if(Array.isArray(h)){const T=new Array(h.length);b.set(h,T);for(let A=0;A<h.length;A++)T[A]=u(h[A],A,y,b,S);return Object.hasOwn(h,"index")&&(T.index=h.index),Object.hasOwn(h,"input")&&(T.input=h.input),T}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const T=new RegExp(h.source,h.flags);return T.lastIndex=h.lastIndex,T}if(h instanceof Map){const T=new Map;b.set(h,T);for(const[A,N]of h)T.set(A,u(N,A,y,b,S));return T}if(h instanceof Set){const T=new Set;b.set(h,T);for(const A of h)T.add(u(A,void 0,y,b,S));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const T=new(Object.getPrototypeOf(h)).constructor(h.length);b.set(h,T);for(let A=0;A<h.length;A++)T[A]=u(h[A],A,y,b,S);return T}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const T=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return b.set(h,T),d(T,h,y,b,S),T}if(typeof File<"u"&&h instanceof File){const T=new File([h],h.name,{type:h.type});return b.set(h,T),d(T,h,y,b,S),T}if(typeof Blob<"u"&&h instanceof Blob){const T=new Blob([h],{type:h.type});return b.set(h,T),d(T,h,y,b,S),T}if(h instanceof Error){const T=new h.constructor;return b.set(h,T),T.message=h.message,T.name=h.name,T.stack=h.stack,T.cause=h.cause,d(T,h,y,b,S),T}if(h instanceof Boolean){const T=new Boolean(h.valueOf());return b.set(h,T),d(T,h,y,b,S),T}if(h instanceof Number){const T=new Number(h.valueOf());return b.set(h,T),d(T,h,y,b,S),T}if(h instanceof String){const T=new String(h.valueOf());return b.set(h,T),d(T,h,y,b,S),T}if(typeof h=="object"&&f(h)){const T=Object.create(Object.getPrototypeOf(h));return b.set(h,T),d(T,h,y,b,S),T}return h}function d(h,g,y=h,b,S){const E=[...Object.keys(g),...t.getSymbols(g)];for(let T=0;T<E.length;T++){const A=E[T],N=Object.getOwnPropertyDescriptor(h,A);(N==null||N.writable)&&(h[A]=u(g[A],A,y,b,S))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=d})(hg)),hg}var zE;function Z6(){return zE||(zE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kk();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(fg)),fg}var qE;function Q6(){return qE||(qE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hk(),n=Z6();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(og)),og}var yg={},xg={},bg={},VE;function e8(){return VE||(VE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kk(),n=mx(),r=Fk();function i(o,l){return t.cloneDeepWith(o,(u,d,f,h)=>{const g=l==null?void 0:l(u,d,f,h);if(g!==void 0)return g;if(typeof o=="object"){if(n.getTag(o)===r.objectTag&&typeof o.constructor!="function"){const y={};return h.set(o,y),t.copyProperties(y,o,f,h),y}switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const y=new o.constructor(o==null?void 0:o.valueOf());return t.copyProperties(y,o),y}case r.argumentsTag:{const y={};return t.copyProperties(y,o),y.length=o.length,y[Symbol.iterator]=o[Symbol.iterator],y}default:return}}})}e.cloneDeepWith=i})(bg)),bg}var GE;function t8(){return GE||(GE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e8();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(xg)),xg}var wg={},_g={},HE;function Wk(){return HE||(HE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(_g)),_g}var Sg={},FE;function n8(){return FE||(FE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mx();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Sg)),Sg}var KE;function r8(){return KE||(KE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dk(),n=Wk(),r=n8(),i=cx();function o(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?d=i.toPath(u):d=[u],d.length===0)return!1;let f=l;for(let h=0;h<d.length;h++){const g=d[h];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}e.has=o})(wg)),wg}var WE;function i8(){return WE||(WE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hk(),n=ux(),r=t8(),i=dx(),o=r8();function l(u,d){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(f){const h=i.get(f,u);return h===void 0?o.has(f,u):d===void 0?h===void 0:t.isMatch(h,d)}}e.matchesProperty=l})(yg)),yg}var YE;function a8(){return YE||(YE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zk(),n=W6(),r=Q6(),i=i8();function o(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=o})(ig)),ig}var JE;function o8(){return JE||(JE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V6(),n=G6(),r=zk(),i=K6(),o=a8();function l(u,d=r.identity){return i.isArrayLikeObject(u)?t.uniqBy(Array.from(u),n.ary(o.iteratee(d),1)):[]}e.uniqBy=l})(Jm)),Jm}var Eg,XE;function s8(){return XE||(XE=1,Eg=o8().uniqBy),Eg}var l8=s8();const ZE=kr(l8);function u8(e,t,n){return t===!0?ZE(e,n):typeof t=="function"?ZE(e,t):e}var Tg={exports:{}},Ag={},Cg={exports:{}},Ng={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function c8(){if(QE)return Ng;QE=1;var e=Vs();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function u(g,y){var b=y(),S=r({inst:{value:b,getSnapshot:y}}),E=S[0].inst,T=S[1];return o(function(){E.value=b,E.getSnapshot=y,d(E)&&T({inst:E})},[g,b,y]),i(function(){return d(E)&&T({inst:E}),g(function(){d(E)&&T({inst:E})})},[g]),l(b),b}function d(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!n(g,b)}catch{return!0}}function f(g,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Ng.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Ng}var eT;function d8(){return eT||(eT=1,Cg.exports=c8()),Cg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tT;function f8(){if(tT)return Ag;tT=1;var e=Vs(),t=d8();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return Ag.useSyncExternalStoreWithSelector=function(f,h,g,y,b){var S=o(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=u(function(){function A(O){if(!N){if(N=!0,k=O,O=y(O),b!==void 0&&E.hasValue){var B=E.value;if(b(B,O))return P=B}return P=O}if(B=P,r(k,O))return B;var K=y(O);return b!==void 0&&b(B,K)?(k=O,B):(k=O,P=K)}var N=!1,k,P,R=g===void 0?null:g;return[function(){return A(h())},R===null?void 0:function(){return A(R())}]},[h,g,y,b]);var T=i(f,S[0],S[1]);return l(function(){E.hasValue=!0,E.value=T},[T]),d(T),T},Ag}var nT;function h8(){return nT||(nT=1,Tg.exports=f8()),Tg.exports}var p8=h8(),gx=C.createContext(null),m8=e=>e,Pt=()=>{var e=C.useContext(gx);return e?e.store.dispatch:m8},rf=()=>{},g8=()=>rf,v8=(e,t)=>e===t;function Ee(e){var t=C.useContext(gx),n=C.useMemo(()=>t?r=>{if(r!=null)return e(r)}:rf,[t,e]);return p8.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:g8,t?t.store.getState:rf,t?t.store.getState:rf,n,v8)}function y8(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function x8(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function b8(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var rT=e=>Array.isArray(e)?e:[e];function w8(e){const t=Array.isArray(e[0])?e[0]:e;return b8(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function _8(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var S8=class{constructor(e){this.value=e}deref(){return this.value}},E8=typeof WeakRef<"u"?WeakRef:S8,T8=0,iT=1;function Nd(){return{s:T8,v:void 0,o:null,p:null}}function Yk(e,t={}){let n=Nd();const{resultEqualityCheck:r}=t;let i,o=0;function l(){var g;let u=n;const{length:d}=arguments;for(let y=0,b=d;y<b;y++){const S=arguments[y];if(typeof S=="function"||typeof S=="object"&&S!==null){let E=u.o;E===null&&(u.o=E=new WeakMap);const T=E.get(S);T===void 0?(u=Nd(),E.set(S,u)):u=T}else{let E=u.p;E===null&&(u.p=E=new Map);const T=E.get(S);T===void 0?(u=Nd(),E.set(S,u)):u=T}}const f=u;let h;if(u.s===iT)h=u.v;else if(h=e.apply(null,arguments),o++,r){const y=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;y!=null&&r(y,h)&&(h=y,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new E8(h):h}return f.s=iT,f.v=h,h}return l.clearCache=()=>{n=Nd(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function A8(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,l=0,u,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),y8(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...d},{memoize:g,memoizeOptions:y=[],argsMemoize:b=Yk,argsMemoizeOptions:S=[]}=h,E=rT(y),T=rT(S),A=w8(i),N=g(function(){return o++,f.apply(null,arguments)},...E),k=b(function(){l++;const R=_8(A,arguments);return u=N.apply(null,R),u},...T);return Object.assign(k,{resultFunc:f,memoizedResultFunc:N,dependencies:A,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:g,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var te=A8(Yk),C8=Object.assign((e,t=te)=>{x8(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>C8}),Ig={},kg={},Rg={},aT;function N8(){return aT||(aT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-l:l-u}return 0};e.compareValues=n})(Rg)),Rg}var Pg={},Og={},oT;function Jk(){return oT||(oT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Og)),Og}var sT;function I8(){return sT||(sT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jk(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}e.isKey=i})(Pg)),Pg}var lT;function k8(){return lT||(lT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N8(),n=I8(),r=cx();function i(o,l,u,d){if(o==null)return[];u=d?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const f=(b,S)=>{let E=b;for(let T=0;T<S.length&&E!=null;++T)E=E[S[T]];return E},h=(b,S)=>S==null||b==null?S:typeof b=="object"&&"key"in b?Object.hasOwn(S,b.key)?S[b.key]:f(S,b.path):typeof b=="function"?b(S):Array.isArray(b)?f(S,b):typeof S=="object"?S[b]:S,g=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return o.map(b=>({original:b,criteria:g.map(S=>h(S,b))})).slice().sort((b,S)=>{for(let E=0;E<g.length;E++){const T=t.compareValues(b.criteria[E],S.criteria[E],u[E]);if(T!==0)return T}return 0}).map(b=>b.original)}e.orderBy=i})(kg)),kg}var Mg={},uT;function R8(){return uT||(uT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),l=(u,d)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&d<o?l(h,d+1):i.push(h)}};return l(n,0),i}e.flatten=t})(Mg)),Mg}var Dg={},cT;function Xk(){return cT||(cT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wk(),n=px(),r=qk(),i=Gk();function o(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.isEqualsSameValueZero(d[u],l):!1}e.isIterateeCall=o})(Dg)),Dg}var dT;function P8(){return dT||(dT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k8(),n=R8(),r=Xk();function i(o,...l){const u=l.length;return u>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(o,n.flatten(l),["asc"])}e.sortBy=i})(Ig)),Ig}var jg,fT;function O8(){return fT||(fT=1,jg=P8().sortBy),jg}var M8=O8();const xh=kr(M8);var Zk=e=>e.legend.settings,D8=e=>e.legend.size,j8=e=>e.legend.payload;te([j8,Zk],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?xh(r,n):r});var Id=1;function L8(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=C.useState({height:0,left:0,top:0,width:0}),r=C.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-t.height)>Id||Math.abs(l.left-t.left)>Id||Math.abs(l.top-t.top)>Id||Math.abs(l.width-t.width)>Id)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function tn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var U8=typeof Symbol=="function"&&Symbol.observable||"@@observable",hT=U8,Lg=()=>Math.random().toString(36).substring(7).split("").join("."),B8={INIT:`@@redux/INIT${Lg()}`,REPLACE:`@@redux/REPLACE${Lg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Lg()}`},yf=B8;function vx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Qk(e,t,n){if(typeof e!="function")throw new Error(tn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(tn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(tn(1));return n(Qk)(e,t)}let r=e,i=t,o=new Map,l=o,u=0,d=!1;function f(){l===o&&(l=new Map,o.forEach((T,A)=>{l.set(A,T)}))}function h(){if(d)throw new Error(tn(3));return i}function g(T){if(typeof T!="function")throw new Error(tn(4));if(d)throw new Error(tn(5));let A=!0;f();const N=u++;return l.set(N,T),function(){if(A){if(d)throw new Error(tn(6));A=!1,f(),l.delete(N),o=null}}}function y(T){if(!vx(T))throw new Error(tn(7));if(typeof T.type>"u")throw new Error(tn(8));if(typeof T.type!="string")throw new Error(tn(17));if(d)throw new Error(tn(9));try{d=!0,i=r(i,T)}finally{d=!1}return(o=l).forEach(N=>{N()}),T}function b(T){if(typeof T!="function")throw new Error(tn(10));r=T,y({type:yf.REPLACE})}function S(){const T=g;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(tn(11));function N(){const P=A;P.next&&P.next(h())}return N(),{unsubscribe:T(N)}},[hT](){return this}}}return y({type:yf.INIT}),{dispatch:y,subscribe:g,getState:h,replaceReducer:b,[hT]:S}}function $8(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:yf.INIT})>"u")throw new Error(tn(12));if(typeof n(void 0,{type:yf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(tn(13))})}function eR(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const l=t[o];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{$8(n)}catch(o){i=o}return function(l={},u){if(i)throw i;let d=!1;const f={};for(let h=0;h<r.length;h++){const g=r[h],y=n[g],b=l[g],S=y(b,u);if(typeof S>"u")throw u&&u.type,new Error(tn(14));f[g]=S,d=d||S!==b}return d=d||r.length!==Object.keys(l).length,d?f:l}}function xf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function z8(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(tn(15))};const l={getState:i.getState,dispatch:(d,...f)=>o(d,...f)},u=e.map(d=>d(l));return o=xf(...u)(i.dispatch),{...i,dispatch:o}}}function tR(e){return vx(e)&&"type"in e&&typeof e.type=="string"}var nR=Symbol.for("immer-nothing"),pT=Symbol.for("immer-draftable"),pn=Symbol.for("immer-state");function wr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Hn=Object,Ls=Hn.getPrototypeOf,bf="constructor",bh="prototype",qv="configurable",wf="enumerable",af="writable",wu="value",bi=e=>!!e&&!!e[pn];function Ir(e){var t;return e?rR(e)||_h(e)||!!e[pT]||!!((t=e[bf])!=null&&t[pT])||Sh(e)||Eh(e):!1}var q8=Hn[bh][bf].toString(),mT=new WeakMap;function rR(e){if(!e||!yx(e))return!1;const t=Ls(e);if(t===null||t===Hn[bh])return!0;const n=Hn.hasOwnProperty.call(t,bf)&&t[bf];if(n===Object)return!0;if(!bs(n))return!1;let r=mT.get(n);return r===void 0&&(r=Function.toString.call(n),mT.set(n,r)),r===q8}function wh(e,t,n=!0){Ku(e)===0?(n?Reflect.ownKeys(e):Hn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Ku(e){const t=e[pn];return t?t.type_:_h(e)?1:Sh(e)?2:Eh(e)?3:0}var gT=(e,t,n=Ku(e))=>n===2?e.has(t):Hn[bh].hasOwnProperty.call(e,t),Vv=(e,t,n=Ku(e))=>n===2?e.get(t):e[t],_f=(e,t,n,r=Ku(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function V8(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var _h=Array.isArray,Sh=e=>e instanceof Map,Eh=e=>e instanceof Set,yx=e=>typeof e=="object",bs=e=>typeof e=="function",Ug=e=>typeof e=="boolean";function G8(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var mi=e=>e.copy_||e.base_,xx=e=>e.modified_?e.copy_:e.base_;function Gv(e,t){if(Sh(e))return new Map(e);if(Eh(e))return new Set(e);if(_h(e))return Array[bh].slice.call(e);const n=rR(e);if(t===!0||t==="class_only"&&!n){const r=Hn.getOwnPropertyDescriptors(e);delete r[pn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u[af]===!1&&(u[af]=!0,u[qv]=!0),(u.get||u.set)&&(r[l]={[qv]:!0,[af]:!0,[wf]:u[wf],[wu]:e[l]})}return Hn.create(Ls(e),r)}else{const r=Ls(e);if(r!==null&&n)return{...e};const i=Hn.create(r);return Hn.assign(i,e)}}function bx(e,t=!1){return Th(e)||bi(e)||!Ir(e)||(Ku(e)>1&&Hn.defineProperties(e,{set:kd,add:kd,clear:kd,delete:kd}),Hn.freeze(e),t&&wh(e,(n,r)=>{bx(r,!0)},!1)),e}function H8(){wr(2)}var kd={[wu]:H8};function Th(e){return e===null||!yx(e)?!0:Hn.isFrozen(e)}var Sf="MapSet",Hv="Patches",vT="ArrayMethods",iR={};function uo(e){const t=iR[e];return t||wr(0,e),t}var yT=e=>!!iR[e],_u,aR=()=>_u,F8=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:yT(Sf)?uo(Sf):void 0,arrayMethodsPlugin_:yT(vT)?uo(vT):void 0});function xT(e,t){t&&(e.patchPlugin_=uo(Hv),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Fv(e){Kv(e),e.drafts_.forEach(K8),e.drafts_=null}function Kv(e){e===_u&&(_u=e.parent_)}var bT=e=>_u=F8(_u,e);function K8(e){const t=e[pn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function wT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[pn].modified_&&(Fv(t),wr(4)),Ir(e)&&(e=_T(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[pn].base_,e,t)}else e=_T(t,n);return W8(t,e,!0),Fv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==nR?e:void 0}function _T(e,t){if(Th(t))return t;const n=t[pn];if(!n)return Ef(t,e.handledSet_,e);if(!Ah(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);lR(n,e)}return n.copy_}function W8(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&bx(t,n)}function oR(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Ah=(e,t)=>e.scope_===t,Y8=[];function sR(e,t,n,r){const i=mi(e),o=e.type_;if(r!==void 0&&Vv(i,r,o)===t){_f(i,r,n,o);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;wh(i,(d,f)=>{if(bi(f)){const h=u.get(f)||[];h.push(d),u.set(f,h)}})}const l=e.draftLocations_.get(t)??Y8;for(const u of l)_f(i,u,n,o)}function J8(e,t,n){e.callbacks_.push(function(i){var u;const o=t;if(!o||!Ah(o,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(o);const l=xx(o);sR(e,o.draft_??o,l,n),lR(o,i)})}function lR(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const o=i.getPath(e);o&&i.generatePatches_(e,o,t)}oR(e)}}function X8(e,t,n){const{scope_:r}=e;if(bi(n)){const i=n[pn];Ah(i,r)&&i.callbacks_.push(function(){of(e);const l=xx(i);sR(e,n,l,t)})}else Ir(n)&&e.callbacks_.push(function(){const o=mi(e);e.type_===3?o.has(n)&&Ef(n,r.handledSet_,r):Vv(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Ef(Vv(e.copy_,t,e.type_),r.handledSet_,r)})}function Ef(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||bi(e)||t.has(e)||!Ir(e)||Th(e)||(t.add(e),wh(e,(r,i)=>{if(bi(i)){const o=i[pn];if(Ah(o,n)){const l=xx(o);_f(e,r,l,e.type_),oR(o)}}else Ir(i)&&Ef(i,t,n)})),e}function Z8(e,t){const n=_h(e),r={type_:n?1:0,scope_:t?t.scope_:aR(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=Tf;n&&(i=[r],o=Su);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,[u,r]}var Tf={get(e,t){if(t===pn)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=mi(e);if(!gT(i,t,e.type_))return Q8(e,i,t);const o=i[t];if(e.finalized_||!Ir(o)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&G8(t))return o;if(o===Bg(e.base_,t)){of(e);const l=e.type_===1?+t:t,u=Yv(e.scope_,o,e,l);return e.copy_[l]=u}return o},has(e,t){return t in mi(e)},ownKeys(e){return Reflect.ownKeys(mi(e))},set(e,t,n){const r=uR(mi(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Bg(mi(e),t),o=i==null?void 0:i[pn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(V8(n,i)&&(n!==void 0||gT(e.base_,t,e.type_)))return!0;of(e),Wv(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),X8(e,t,n)),!0},deleteProperty(e,t){return of(e),Bg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Wv(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=mi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[af]:!0,[qv]:e.type_!==1||t!=="length",[wf]:r[wf],[wu]:n[t]}},defineProperty(){wr(11)},getPrototypeOf(e){return Ls(e.base_)},setPrototypeOf(){wr(12)}},Su={};for(let e in Tf){let t=Tf[e];Su[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Su.deleteProperty=function(e,t){return Su.set.call(this,e,t,void 0)};Su.set=function(e,t,n){return Tf.set.call(this,e[0],t,n,e[0])};function Bg(e,t){const n=e[pn];return(n?mi(n):e)[t]}function Q8(e,t,n){var i;const r=uR(t,n);return r?wu in r?r[wu]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function uR(e,t){if(!(t in e))return;let n=Ls(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ls(n)}}function Wv(e){e.modified_||(e.modified_=!0,e.parent_&&Wv(e.parent_))}function of(e){e.copy_||(e.assigned_=new Map,e.copy_=Gv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var eL=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(bs(n)&&!bs(r)){const l=r;r=n;const u=this;return function(f=l,...h){return u.produce(f,g=>r.call(this,g,...h))}}bs(r)||wr(6),i!==void 0&&!bs(i)&&wr(7);let o;if(Ir(n)){const l=bT(this),u=Yv(l,n,void 0);let d=!0;try{o=r(u),d=!1}finally{d?Fv(l):Kv(l)}return xT(l,i),wT(o,l)}else if(!n||!yx(n)){if(o=r(n),o===void 0&&(o=n),o===nR&&(o=void 0),this.autoFreeze_&&bx(o,!0),i){const l=[],u=[];uo(Hv).generateReplacementPatches_(n,o,{patches_:l,inversePatches_:u}),i(l,u)}return o}else wr(1,n)},this.produceWithPatches=(n,r)=>{if(bs(n))return(u,...d)=>this.produceWithPatches(u,f=>n(f,...d));let i,o;return[this.produce(n,r,(u,d)=>{i=u,o=d}),i,o]},Ug(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Ug(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Ug(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ir(t)||wr(8),bi(t)&&(t=Er(t));const n=bT(this),r=Yv(n,t,void 0);return r[pn].isManual_=!0,Kv(n),r}finishDraft(t,n){const r=t&&t[pn];(!r||!r.isManual_)&&wr(9);const{scope_:i}=r;return xT(i,n),wT(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(n=n.slice(r+1));const i=uo(Hv).applyPatches_;return bi(t)?i(t,n):this.produce(t,o=>i(o,n))}};function Yv(e,t,n,r){const[i,o]=Sh(t)?uo(Sf).proxyMap_(t,n):Eh(t)?uo(Sf).proxySet_(t,n):Z8(t,n);return((n==null?void 0:n.scope_)??aR()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?J8(n,o,r):o.callbacks_.push(function(d){var h;(h=d.mapSetPlugin_)==null||h.fixSetContents(o);const{patchPlugin_:f}=d;o.modified_&&f&&f.generatePatches_(o,[],d)}),i}function Er(e){return bi(e)||wr(10,e),cR(e)}function cR(e){if(!Ir(e)||Th(e))return e;const t=e[pn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Gv(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Gv(e,!0);return wh(n,(i,o)=>{_f(n,i,cR(o))},r),t&&(t.finalized_=!1),n}var tL=new eL,dR=tL.produce;function fR(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var nL=fR(),rL=fR,iL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?xf:xf.apply(null,arguments)};function cr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Fn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>tR(r)&&r.type===e,n}var hR=class cu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,cu.prototype)}static get[Symbol.species](){return cu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new cu(...t[0].concat(this)):new cu(...t.concat(this))}};function ST(e){return Ir(e)?dR(e,()=>{}):e}function Rd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function aL(e){return typeof e=="boolean"}var oL=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let l=new hR;return n&&(aL(n)?l.push(nL):l.push(rL(n.extraArgument))),l},pR="RTK_autoBatch",ut=()=>e=>({payload:e,meta:{[pR]:!0}}),ET=e=>t=>{setTimeout(t,e)},mR=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,l=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ET(10):e.type==="callback"?e.queueNotification:ET(e.timeout),f=()=>{l=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const g=()=>i&&h(),y=r.subscribe(g);return u.add(h),()=>{y(),u.delete(h)}},dispatch(h){var g;try{return i=!((g=h==null?void 0:h.meta)!=null&&g[pR]),o=!i,o&&(l||(l=!0,d(f))),r.dispatch(h)}finally{i=!0}}})},sL=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new hR(e);return r&&i.push(mR(typeof r=="object"?r:void 0)),i};function lL(e){const t=oL(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(vx(n))u=eR(n);else throw new Error(Fn(1));let d;typeof r=="function"?d=r(t):d=t();let f=xf;i&&(f=iL({trace:!1,...typeof i=="object"&&i}));const h=z8(...d),g=sL(h);let y=typeof l=="function"?l(g):g();const b=f(...y);return Qk(u,o,b)}function gR(e){const t={},n=[];let r;const i={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Fn(28));if(u in t)throw new Error(Fn(29));return t[u]=l,i},addAsyncThunk(o,l){return l.pending&&(t[o.pending.type]=l.pending),l.rejected&&(t[o.rejected.type]=l.rejected),l.fulfilled&&(t[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function uL(e){return typeof e=="function"}function cL(e,t){let[n,r,i]=gR(t),o;if(uL(e))o=()=>ST(e());else{const u=ST(e);o=()=>u}function l(u=o(),d){let f=[n[d.type],...r.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,g)=>{if(g)if(bi(h)){const b=g(h,d);return b===void 0?h:b}else{if(Ir(h))return dR(h,y=>g(y,d));{const y=g(h,d);if(y===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return h},u)}return l.getInitialState=o,l}var dL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",fL=(e=21)=>{let t="",n=e;for(;n--;)t+=dL[Math.random()*64|0];return t},hL=Symbol.for("rtk-slice-createasyncthunk");function pL(e,t){return`${e}/${t}`}function mL({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[hL];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error(Fn(11));const u=(typeof i.reducers=="function"?i.reducers(vL()):i.reducers)||{},d=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(P,R){const O=typeof P=="string"?P:P.type;if(!O)throw new Error(Fn(12));if(O in f.sliceCaseReducersByType)throw new Error(Fn(13));return f.sliceCaseReducersByType[O]=R,h},addMatcher(P,R){return f.sliceMatchers.push({matcher:P,reducer:R}),h},exposeAction(P,R){return f.actionCreators[P]=R,h},exposeCaseReducer(P,R){return f.sliceCaseReducersByName[P]=R,h}};d.forEach(P=>{const R=u[P],O={reducerName:P,type:pL(o,P),createNotation:typeof i.reducers=="function"};xL(R)?wL(O,R,h,t):yL(O,R,h)});function g(){const[P={},R=[],O=void 0]=typeof i.extraReducers=="function"?gR(i.extraReducers):[i.extraReducers],B={...P,...f.sliceCaseReducersByType};return cL(i.initialState,K=>{for(let D in B)K.addCase(D,B[D]);for(let D of f.sliceMatchers)K.addMatcher(D.matcher,D.reducer);for(let D of R)K.addMatcher(D.matcher,D.reducer);O&&K.addDefaultCase(O)})}const y=P=>P,b=new Map,S=new WeakMap;let E;function T(P,R){return E||(E=g()),E(P,R)}function A(){return E||(E=g()),E.getInitialState()}function N(P,R=!1){function O(K){let D=K[P];return typeof D>"u"&&R&&(D=Rd(S,O,A)),D}function B(K=y){const D=Rd(b,R,()=>new WeakMap);return Rd(D,K,()=>{const G={};for(const[$,M]of Object.entries(i.selectors??{}))G[$]=gL(M,K,()=>Rd(S,K,A),R);return G})}return{reducerPath:P,getSelectors:B,get selectors(){return B(O)},selectSlice:O}}const k={name:o,reducer:T,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:A,...N(l),injectInto(P,{reducerPath:R,...O}={}){const B=R??l;return P.inject({reducerPath:B,reducer:T},O),{...k,...N(B,!0)}}};return k}}function gL(e,t,n,r){function i(o,...l){let u=t(o);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var kn=mL();function vL(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function yL({type:e,reducerName:t,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!bL(r))throw new Error(Fn(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,l?cr(e,l):cr(e))}function xL(e){return e._reducerDefinitionType==="asyncThunk"}function bL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function wL({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Fn(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:d,settled:f,options:h}=n,g=i(e,o,h);r.exposeAction(t,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),d&&r.addCase(g.rejected,d),f&&r.addMatcher(g.settled,f),r.exposeCaseReducer(t,{fulfilled:l||Pd,pending:u||Pd,rejected:d||Pd,settled:f||Pd})}function Pd(){}var _L="task",vR="listener",yR="completed",wx="cancelled",SL=`task-${wx}`,EL=`task-${yR}`,Jv=`${vR}-${wx}`,TL=`${vR}-${yR}`,Ch=class{constructor(e){Rm(this,"name","TaskAbortError");Rm(this,"message");this.code=e,this.message=`${_L} ${wx} (reason: ${e})`}},_x=(e,t)=>{if(typeof e!="function")throw new TypeError(Fn(32))},Af=()=>{},xR=(e,t=Af)=>(e.catch(t),e),bR=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),io=e=>{if(e.aborted)throw new Ch(e.reason)};function wR(e,t){let n=Af;return new Promise((r,i)=>{const o=()=>i(new Ch(e.reason));if(e.aborted){o();return}n=bR(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Af})}var AL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Ch?"cancelled":"rejected",error:n}}finally{t==null||t()}},Cf=e=>t=>xR(wR(e,t).then(n=>(io(e),n))),_R=e=>{const t=Cf(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:ks}=Object,TT={},Nh="listenerMiddleware",CL=(e,t)=>{const n=r=>bR(e,()=>r.abort(e.reason));return(r,i)=>{_x(r);const o=new AbortController;n(o);const l=AL(async()=>{io(e),io(o.signal);const u=await r({pause:Cf(o.signal),delay:_R(o.signal),signal:o.signal});return io(o.signal),u},()=>o.abort(EL));return i!=null&&i.autoJoin&&t.push(l.catch(Af)),{result:Cf(e)(l),cancel(){o.abort(SL)}}}},NL=(e,t)=>{const n=async(r,i)=>{io(t);let o=()=>{};const u=[new Promise((d,f)=>{let h=e({predicate:r,effect:(g,y)=>{y.unsubscribe(),d([g,y.getState(),y.getOriginalState()])}});o=()=>{h(),f()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await wR(t,Promise.race(u));return io(t),d}finally{o()}};return(r,i)=>xR(n(r,i))},SR=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=cr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Fn(21));return _x(o),{predicate:i,type:t,effect:o}},ER=ks(e=>{const{type:t,predicate:n,effect:r}=SR(e);return{id:fL(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Fn(22))}}},{withTypes:()=>ER}),AT=(e,t)=>{const{type:n,effect:r,predicate:i}=SR(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},Xv=e=>{e.pending.forEach(t=>{t.abort(Jv)})},IL=(e,t)=>()=>{for(const n of t.keys())Xv(n);e.clear()},CT=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},TR=ks(cr(`${Nh}/add`),{withTypes:()=>TR}),kL=cr(`${Nh}/removeAll`),AR=ks(cr(`${Nh}/remove`),{withTypes:()=>AR}),RL=(...e)=>{console.error(`${Nh}/error`,...e)},Wu=(e={})=>{const t=new Map,n=new Map,r=b=>{const S=n.get(b)??0;n.set(b,S+1)},i=b=>{const S=n.get(b)??1;S===1?n.delete(b):n.set(b,S-1)},{extra:o,onError:l=RL}=e;_x(l);const u=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),S=>{b.unsubscribe(),S!=null&&S.cancelActive&&Xv(b)}),d=b=>{const S=AT(t,b)??ER(b);return u(S)};ks(d,{withTypes:()=>d});const f=b=>{const S=AT(t,b);return S&&(S.unsubscribe(),b.cancelActive&&Xv(S)),!!S};ks(f,{withTypes:()=>f});const h=async(b,S,E,T)=>{const A=new AbortController,N=NL(d,A.signal),k=[];try{b.pending.add(A),r(b),await Promise.resolve(b.effect(S,ks({},E,{getOriginalState:T,condition:(P,R)=>N(P,R).then(Boolean),take:N,delay:_R(A.signal),pause:Cf(A.signal),extra:o,signal:A.signal,fork:CL(A.signal,k),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((P,R,O)=>{P!==A&&(P.abort(Jv),O.delete(P))})},cancel:()=>{A.abort(Jv),b.pending.delete(A)},throwIfCancelled:()=>{io(A.signal)}})))}catch(P){P instanceof Ch||CT(l,P,{raisedBy:"effect"})}finally{await Promise.all(k),A.abort(TL),i(b),b.pending.delete(A)}},g=IL(t,n);return{middleware:b=>S=>E=>{if(!tR(E))return S(E);if(TR.match(E))return d(E.payload);if(kL.match(E)){g();return}if(AR.match(E))return f(E.payload);let T=b.getState();const A=()=>{if(T===TT)throw new Error(Fn(23));return T};let N;try{if(N=S(E),t.size>0){const k=b.getState(),P=Array.from(t.values());for(const R of P){let O=!1;try{O=R.predicate(E,k,T)}catch(B){O=!1,CT(l,B,{raisedBy:"predicate"})}O&&h(R,E,b,A)}}}finally{T=TT}return N},startListening:d,stopListening:f,clearListeners:g}};function Fn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var PL={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},CR=kn({name:"chartLayout",initialState:PL,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:OL,setLayout:ML,setChartSize:DL,setScale:jL}=CR.actions,LL=CR.reducer;function NR(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Ue(e){return Number.isFinite(e)}function Fr(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function NT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ts(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(n),!0).forEach(function(r){UL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UL(e,t,n){return(t=BL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BL(e){var t=$L(e,"string");return typeof t=="symbol"?t:t+""}function $L(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ct(e,t,n){return ft(e)||ft(t)?n:Hr(t)?js(e,t,n):typeof t=="function"?t(e):n}var zL=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&o!=="center"&&ye(e[o]))return Ts(Ts({},e),{},{[o]:e[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&l!=="middle"&&ye(e[l]))return Ts(Ts({},e),{},{[l]:e[l]+(i||0)})}return e},Ni=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",IR=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,o,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||l.push(t),o||l.push(n),l},kR=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:f,tickCount:h,ticks:g,niceTicks:y,axisType:b}=e;if(!l)return null;var S=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/S:0;if(E=b==="angleAxis"&&o&&o.length>=2?Tn(o[0]-o[1])*2*E:E,g||y){var T=(g||y||[]).map((A,N)=>{var k=r?r.indexOf(A):A,P=l.map(k);return Ue(P)?{coordinate:P+E,value:A,offset:E,index:N}:null}).filter(An);return T}return d&&f?f.map((A,N)=>{var k=l.map(A);return Ue(k)?{coordinate:k+E,value:A,index:N,offset:E}:null}).filter(An):l.ticks&&h!=null?l.ticks(h).map((A,N)=>{var k=l.map(A);return Ue(k)?{coordinate:k+E,value:A,index:N,offset:E}:null}).filter(An):l.domain().map((A,N)=>{var k=l.map(A);return Ue(k)?{coordinate:k+E,value:r?r[A]:A,index:N,offset:E}:null}).filter(An)},qL=(e,t)=>{if(!t||t.length!==2||!ye(t[0])||!ye(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ye(e[0])||e[0]<n)&&(i[0]=n),(!ye(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},VL=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,l=0,u=0;u<n;++u){var d=e[u],f=d==null?void 0:d[i];if(f!=null){var h=f[1],g=f[0],y=Gr(h)?g:h;y>=0?(f[0]=o,o+=y,f[1]=o):(f[0]=l,l+=y,f[1]=l)}}}},GL=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,l=0;l<n;++l){var u=e[l],d=u==null?void 0:u[i];if(d!=null){var f=Gr(d[1])?d[0]:d[1];f>=0?(d[0]=o,o+=f,d[1]=o):(d[0]=0,d[1]=0)}}}},HL={sign:VL,expand:x6,none:so,silhouette:b6,wiggle:w6,positive:GL},FL=(e,t,n)=>{var r,i=(r=HL[n])!==null&&r!==void 0?r:so,o=y6().keys(t).value((u,d)=>Number(Ct(u,d,0))).order($v).offset(i),l=o(e);return l.forEach((u,d)=>{u.forEach((f,h)=>{var g=Ct(e[h],t[d],0);Array.isArray(g)&&g.length===2&&ye(g[0])&&ye(g[1])&&(f[0]=g[0],f[1]=g[1])})}),l};function KL(e){return e==null?void 0:String(e)}function IT(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:o,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ft(i[t.dataKey])){var u=Lk(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n!=null&&n[o]?n[o].coordinate+r/2:null}var d=Ct(i,ft(l)?t.dataKey:l),f=t.scale.map(d);return ye(f)?f:null}var kT=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:o,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+r:null;var u=Ct(o,t.dataKey,t.scale.domain()[l]);if(ft(u))return null;var d=t.scale.map(u);return ye(d)?d-i/2+r:null},WL=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},YL=e=>{var t=e.flat(2).filter(ye);return[Math.min(...t),Math.max(...t)]},JL=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],XL=(e,t,n)=>{if(e!=null)return JL(Object.keys(e).reduce((r,i)=>{var o=e[i];if(!o)return r;var{stackedData:l}=o,u=l.reduce((d,f)=>{var h=NR(f,t,n),g=YL(h);return!Ue(g[0])||!Ue(g[1])?d:[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},RT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Us=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=xh(t,h=>h.coordinate),o=1/0,l=1,u=i.length;l<u;l++){var d=i[l],f=i[l-1];o=Math.min(((d==null?void 0:d.coordinate)||0)-((f==null?void 0:f.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function OT(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return Ts(Ts({},t),{},{dataKey:n,payload:r,value:i,name:o})}function Ih(e,t){if(e)return String(e);if(typeof t=="string")return t}var ZL=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},QL=(e,t)=>t==="centric"?e.angle:e.radius,Ii=e=>e.layout.width,ki=e=>e.layout.height,eU=e=>e.layout.scale,RR=e=>e.layout.margin,kh=te(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Rh=te(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),tU="data-recharts-item-index",nU="data-recharts-item-id",Yu=60;function MT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(n),!0).forEach(function(r){rU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rU(e,t,n){return(t=iU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iU(e){var t=aU(e,"string");return typeof t=="symbol"?t:t+""}function aU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oU=e=>e.brush.height;function sU(e){var t=Rh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Yu;return n+i}return n},0)}function lU(e){var t=Rh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Yu;return n+i}return n},0)}function uU(e){var t=kh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function cU(e){var t=kh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var $t=te([Ii,ki,RR,oU,sU,lU,uU,cU,Zk,D8],(e,t,n,r,i,o,l,u,d,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+o},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},y=Od(Od({},g),h),b=y.bottom;y.bottom+=r,y=zL(y,d,f);var S=e-y.left-y.right,E=t-y.top-y.bottom;return Od(Od({brushBottom:b},y),{},{width:Math.max(S,0),height:Math.max(E,0)})}),dU=te($t,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),PR=te(Ii,ki,(e,t)=>({x:0,y:0,width:e,height:t})),fU=C.createContext(null),gn=()=>C.useContext(fU)!=null,Ph=e=>e.brush,Oh=te([Ph,$t,RR],(e,t,n)=>({height:e.height,x:ye(e.x)?e.x:t.left,y:ye(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:ye(e.width)?e.width:t.width})),$g={},zg={},qg={},DT;function hU(){return DT||(DT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let l,u=null;const d=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{f&&h(),E()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},r)},S=()=>{y!==null&&(clearTimeout(y),y=null)},E=()=>{S(),l=void 0,u=null},T=()=>{h()},A=function(...N){if(i!=null&&i.aborted)return;l=this,u=N;const k=y==null;b(),d&&k&&h()};return A.schedule=b,A.cancel=E,A.flush=T,i==null||i.addEventListener("abort",E,{once:!0}),A}e.debounce=t})(qg)),qg}var jT;function pU(){return jT||(jT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hU();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:u=!0,maxWait:d}=o,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let h,g=null;const y=t.debounce(function(...E){h=r.apply(this,E),g=null},i,{edges:f}),b=function(...E){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(h=r.apply(this,E),g=Date.now(),y.cancel(),y.schedule(),h):(y.apply(this,E),h)},S=()=>(y.flush(),h);return b.cancel=y.cancel,b.flush=S,b}e.debounce=n})(zg)),zg}var LT;function mU(){return LT||(LT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pU();function n(r,i=0,o={}){const{leading:l=!0,trailing:u=!0}=o;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})($g)),$g}var Vg,UT;function gU(){return UT||(UT=1,Vg=mU().throttle),Vg}var vU=gU();const yU=kr(vU);var Nf=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},zr={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},OR=(e,t,n)=>{var{width:r=zr.width,height:i=zr.height,aspect:o,maxHeight:l}=n,u=lo(r)?e:Number(r),d=lo(i)?t:Number(i);return o&&o>0&&(u?d=u/o:d&&(u=d*o),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},xU={width:0,height:0,overflow:"visible"},bU={width:0,overflowX:"visible"},wU={height:0,overflowY:"visible"},_U={},SU=e=>{var{width:t,height:n}=e,r=lo(t),i=lo(n);return r&&i?xU:r?bU:i?wU:_U};function EU(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i=zr.width,o=zr.height):i===void 0?i=r&&r>0?void 0:zr.width:o===void 0&&(o=r&&r>0?void 0:zr.height),{width:i,height:o}}function Zv(){return Zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zv.apply(null,arguments)}function BT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $T(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(n),!0).forEach(function(r){TU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TU(e,t,n){return(t=AU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AU(e){var t=CU(e,"string");return typeof t=="symbol"?t:t+""}function CU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MR=C.createContext(zr.initialDimension);function NU(e){return Fr(e.width)&&Fr(e.height)}function DR(e){var{children:t,width:n,height:r}=e,i=C.useMemo(()=>({width:n,height:r}),[n,r]);return NU(i)?C.createElement(MR.Provider,{value:i},t):null}var Sx=()=>C.useContext(MR),IU=C.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=zr.initialDimension,width:i,height:o,minWidth:l=zr.minWidth,minHeight:u,maxHeight:d,children:f,debounce:h=zr.debounce,id:g,className:y,onResize:b,style:S={}}=e,E=C.useRef(null),T=C.useRef();T.current=b,C.useImperativeHandle(t,()=>E.current);var[A,N]=C.useState({containerWidth:r.width,containerHeight:r.height}),k=C.useCallback((K,D)=>{N(G=>{var $=Math.round(K),M=Math.round(D);return G.containerWidth===$&&G.containerHeight===M?G:{containerWidth:$,containerHeight:M}})},[]);C.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return go;var K=M=>{var U,L=M[0];if(L!=null){var{width:q,height:z}=L.contentRect;k(q,z),(U=T.current)===null||U===void 0||U.call(T,q,z)}};h>0&&(K=yU(K,h,{trailing:!0,leading:!1}));var D=new ResizeObserver(K),{width:G,height:$}=E.current.getBoundingClientRect();return k(G,$),D.observe(E.current),()=>{D.disconnect()}},[k,h]);var{containerWidth:P,containerHeight:R}=A;Nf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:O,calculatedHeight:B}=OR(P,R,{width:i,height:o,aspect:n,maxHeight:d});return Nf(O!=null&&O>0||B!=null&&B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,B,i,o,l,u,n),C.createElement("div",{id:g?"".concat(g):void 0,className:nt("recharts-responsive-container",y),style:$T($T({},S),{},{width:i,height:o,minWidth:l,minHeight:u,maxHeight:d}),ref:E},C.createElement("div",{style:SU({width:i,height:o})},C.createElement(DR,{width:O,height:B},f)))}),jR=C.forwardRef((e,t)=>{var n=Sx();if(Fr(n.width)&&Fr(n.height))return e.children;var{width:r,height:i}=EU({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:l}=OR(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return ye(o)&&ye(l)?C.createElement(DR,{width:o,height:l},e.children):C.createElement(IU,Zv({},e,{width:r,height:i,ref:t}))});function Ex(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Mh=()=>{var e,t=gn(),n=Ee(dU),r=Ee(Oh),i=(e=Ee(Ph))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},kU={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},LR=()=>{var e;return(e=Ee($t))!==null&&e!==void 0?e:kU},UR=()=>Ee(Ii),BR=()=>Ee(ki),We=e=>e.layout.layoutType,vo=()=>Ee(We),RU=()=>{var e=vo();if(e==="horizontal"||e==="vertical")return e},$R=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},PU=()=>{var e=vo();return e!==void 0},Ju=e=>{var t=Pt(),n=gn(),{width:r,height:i}=e,o=Sx(),l=r,u=i;return o&&(l=o.width>0?o.width:r,u=o.height>0?o.height:i),C.useEffect(()=>{!n&&Fr(l)&&Fr(u)&&t(DL({width:l,height:u}))},[t,n,l,u]),null},zR=Symbol.for("immer-nothing"),zT=Symbol.for("immer-draftable"),Kn=Symbol.for("immer-state");function _r(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Eu=Object.getPrototypeOf;function Bs(e){return!!e&&!!e[Kn]}function co(e){var t;return e?qR(e)||Array.isArray(e)||!!e[zT]||!!((t=e.constructor)!=null&&t[zT])||Xu(e)||jh(e):!1}var OU=Object.prototype.constructor.toString(),qT=new WeakMap;function qR(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=qT.get(n);return r===void 0&&(r=Function.toString.call(n),qT.set(n,r)),r===OU}function If(e,t,n=!0){Dh(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Dh(e){const t=e[Kn];return t?t.type_:Array.isArray(e)?1:Xu(e)?2:jh(e)?3:0}function Qv(e,t){return Dh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function VR(e,t,n){const r=Dh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function MU(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Xu(e){return e instanceof Map}function jh(e){return e instanceof Set}function Ka(e){return e.copy_||e.base_}function ey(e,t){if(Xu(e))return new Map(e);if(jh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=qR(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Kn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(Eu(e),r)}else{const r=Eu(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Tx(e,t=!1){return Lh(e)||Bs(e)||!co(e)||(Dh(e)>1&&Object.defineProperties(e,{set:Md,add:Md,clear:Md,delete:Md}),Object.freeze(e),t&&Object.values(e).forEach(n=>Tx(n,!0))),e}function DU(){_r(2)}var Md={value:DU};function Lh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var jU={};function fo(e){const t=jU[e];return t||_r(0,e),t}var Tu;function GR(){return Tu}function LU(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function VT(e,t){t&&(fo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ty(e){ny(e),e.drafts_.forEach(UU),e.drafts_=null}function ny(e){e===Tu&&(Tu=e.parent_)}function GT(e){return Tu=LU(Tu,e)}function UU(e){const t=e[Kn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function HT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Kn].modified_&&(ty(t),_r(4)),co(e)&&(e=kf(t,e),t.parent_||Rf(t,e)),t.patches_&&fo("Patches").generateReplacementPatches_(n[Kn].base_,e,t.patches_,t.inversePatches_)):e=kf(t,n,[]),ty(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zR?e:void 0}function kf(e,t,n){if(Lh(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Kn];if(!i)return If(t,(o,l)=>FT(e,i,t,o,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Rf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let l=o,u=!1;i.type_===3&&(l=new Set(o),o.clear(),u=!0),If(l,(d,f)=>FT(e,i,o,d,f,n,u),r),Rf(e,o,!1),n&&e.patches_&&fo("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function FT(e,t,n,r,i,o,l){if(i==null||typeof i!="object"&&!l)return;const u=Lh(i);if(!(u&&!l)){if(Bs(i)){const d=o&&t&&t.type_!==3&&!Qv(t.assigned_,r)?o.concat(r):void 0,f=kf(e,i,d);if(VR(n,r,f),Bs(f))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(co(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;kf(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Xu(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Rf(e,i)}}}function Rf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Tx(t,n)}function BU(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:GR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Ax;n&&(i=[r],o=Au);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,u}var Ax={get(e,t){if(t===Kn)return e;const n=Ka(e);if(!Qv(n,t))return $U(e,n,t);const r=n[t];return e.finalized_||!co(r)?r:r===Gg(e.base_,t)?(Hg(e),e.copy_[t]=iy(r,e)):r},has(e,t){return t in Ka(e)},ownKeys(e){return Reflect.ownKeys(Ka(e))},set(e,t,n){const r=HR(Ka(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Gg(Ka(e),t),o=i==null?void 0:i[Kn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(MU(n,i)&&(n!==void 0||Qv(e.base_,t)))return!0;Hg(e),ry(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Gg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Hg(e),ry(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ka(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){_r(11)},getPrototypeOf(e){return Eu(e.base_)},setPrototypeOf(){_r(12)}},Au={};If(Ax,(e,t)=>{Au[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Au.deleteProperty=function(e,t){return Au.set.call(this,e,t,void 0)};Au.set=function(e,t,n){return Ax.set.call(this,e[0],t,n,e[0])};function Gg(e,t){const n=e[Kn];return(n?Ka(n):e)[t]}function $U(e,t,n){var i;const r=HR(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function HR(e,t){if(!(t in e))return;let n=Eu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Eu(n)}}function ry(e){e.modified_||(e.modified_=!0,e.parent_&&ry(e.parent_))}function Hg(e){e.copy_||(e.copy_=ey(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var zU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const l=this;return function(d=o,...f){return l.produce(d,h=>n.call(this,h,...f))}}typeof n!="function"&&_r(6),r!==void 0&&typeof r!="function"&&_r(7);let i;if(co(t)){const o=GT(this),l=iy(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?ty(o):ny(o)}return VT(o,r),HT(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===zR&&(i=void 0),this.autoFreeze_&&Tx(i,!0),r){const o=[],l=[];fo("Patches").generateReplacementPatches_(t,i,o,l),r(o,l)}return i}else _r(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){co(e)||_r(8),Bs(e)&&(e=qU(e));const t=GT(this),n=iy(e,void 0);return n[Kn].isManual_=!0,ny(t),n}finishDraft(e,t){const n=e&&e[Kn];(!n||!n.isManual_)&&_r(9);const{scope_:r}=n;return VT(r,t),HT(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=fo("Patches").applyPatches_;return Bs(e)?r(e,t):this.produce(e,i=>r(i,t))}};function iy(e,t){const n=Xu(e)?fo("MapSet").proxyMap_(e,t):jh(e)?fo("MapSet").proxySet_(e,t):BU(e,t);return(t?t.scope_:GR()).drafts_.push(n),n}function qU(e){return Bs(e)||_r(10,e),FR(e)}function FR(e){if(!co(e)||Lh(e))return e;const t=e[Kn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ey(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=ey(e,!0);return If(n,(i,o)=>{VR(n,i,FR(o))},r),t&&(t.finalized_=!1),n}var VU=new zU;VU.produce;var GU={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},KR=kn({name:"legend",initialState:GU,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ut()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Er(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:ut()},removeLegendPayload:{reducer(e,t){var n=Er(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:ut()}}}),{setLegendSize:Ise,setLegendSettings:kse,addLegendPayload:HU,replaceLegendPayload:FU,removeLegendPayload:KU}=KR.actions,WU=KR.reducer;function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ay.apply(null,arguments)}function KT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(n),!0).forEach(function(r){YU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YU(e,t,n){return(t=JU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JU(e){var t=XU(e,"string");return typeof t=="symbol"?t:t+""}function XU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZU(e){return Array.isArray(e)&&Hr(e[0])&&Hr(e[1])?e.join(" ~ "):e}var ss={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},QU=e=>{var{separator:t=ss.separator,contentStyle:n,itemStyle:r,labelStyle:i=ss.labelStyle,payload:o,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:f,label:h,labelFormatter:g,accessibilityLayer:y=ss.accessibilityLayer}=e,b=()=>{if(o&&o.length){var R={padding:0,margin:0},O=(u?xh(o,u):o).map((B,K)=>{if(B.type==="none")return null;var D=B.formatter||l||ZU,{value:G,name:$}=B,M=G,U=$;if(D){var L=D(G,$,B,K,o);if(Array.isArray(L))[M,U]=L;else if(L!=null)M=L;else return null}var q=Zl(Zl({},ss.itemStyle),{},{color:B.color||ss.itemStyle.color},r);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:q},Hr(U)?C.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Hr(U)?C.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,C.createElement("span",{className:"recharts-tooltip-item-value"},M),C.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:R},O)}return null},S=Zl(Zl({},ss.contentStyle),n),E=Zl({margin:0},i),T=!ft(h),A=T?h:"",N=nt("recharts-default-tooltip",d),k=nt("recharts-tooltip-label",f);T&&g&&o!==void 0&&o!==null&&(A=g(h,o));var P=y?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",ay({className:N,style:S},P),C.createElement("p",{className:k,style:E},C.isValidElement(A)?A:"".concat(A)),b())},Ql="recharts-tooltip-wrapper",e9={visibility:"hidden"};function t9(e){var{coordinate:t,translateX:n,translateY:r}=e;return nt(Ql,{["".concat(Ql,"-right")]:ye(n)&&t&&ye(t.x)&&n>=t.x,["".concat(Ql,"-left")]:ye(n)&&t&&ye(t.x)&&n<t.x,["".concat(Ql,"-bottom")]:ye(r)&&t&&ye(t.y)&&r>=t.y,["".concat(Ql,"-top")]:ye(r)&&t&&ye(t.y)&&r<t.y})}function WT(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:o,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:f}=e;if(o&&ye(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),g=n[r]+i;if(t[r])return l[r]?h:g;var y=d[r];if(y==null)return 0;if(l[r]){var b=h,S=y;return b<S?Math.max(g,y):Math.max(h,y)}if(f==null)return 0;var E=g+u,T=y+f;return E>T?Math.max(h,y):Math.max(g,y)}function n9(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function r9(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:o,reverseDirection:l,tooltipBox:u,useTranslate3d:d,viewBox:f}=e,h,g,y;return u.height>0&&u.width>0&&n?(g=WT({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:o,reverseDirection:l,tooltipDimension:u.width,viewBox:f,viewBoxDimension:f.width}),y=WT({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:o,reverseDirection:l,tooltipDimension:u.height,viewBox:f,viewBoxDimension:f.height}),h=n9({translateX:g,translateY:y,useTranslate3d:d})):h=e9,{cssProperties:h,cssClasses:t9({translateX:g,translateY:y,coordinate:n})}}function YT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(n),!0).forEach(function(r){oy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oy(e,t,n){return(t=i9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i9(e){var t=a9(e,"string");return typeof t=="symbol"?t:t+""}function a9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class o9 extends C.PureComponent{constructor(){super(...arguments),oy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),oy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:u,isAnimationActive:d,offset:f,position:h,reverseDirection:g,useTranslate3d:y,viewBox:b,wrapperStyle:S,lastBoundingBox:E,innerRef:T,hasPortalFromProps:A}=this.props,N=typeof f=="number"?f:f.x,k=typeof f=="number"?f:f.y,{cssClasses:P,cssProperties:R}=r9({allowEscapeViewBox:n,coordinate:l,offsetLeft:N,offsetTop:k,position:h,reverseDirection:g,tooltipBox:{height:E.height,width:E.width},useTranslate3d:y,viewBox:b}),O=A?{}:Dd(Dd({transition:d&&t?"transform ".concat(r,"ms ").concat(i):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),B=Dd(Dd({},O),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:B,ref:T},o)}}var WR=()=>{var e;return(e=Ee(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sy.apply(null,arguments)}function JT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(n),!0).forEach(function(r){s9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s9(e,t,n){return(t=l9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l9(e){var t=u9(e,"string");return typeof t=="symbol"?t:t+""}function u9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZT={curveBasisClosed:s6,curveBasisOpen:l6,curveBasis:o6,curveBumpX:F5,curveBumpY:K5,curveLinearClosed:u6,curveLinear:vh,curveMonotoneX:c6,curveMonotoneY:d6,curveNatural:f6,curveStep:h6,curveStepAfter:m6,curveStepBefore:p6},Pf=e=>Ue(e.x)&&Ue(e.y),QT=e=>e.base!=null&&Pf(e.base)&&Pf(e),eu=e=>e.x,tu=e=>e.y,c9=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Fu(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=ZT["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return ZT[n]||vh},eA={connectNulls:!1,type:"linear"},d9=e=>{var{type:t=eA.type,points:n=[],baseLine:r,layout:i,connectNulls:o=eA.connectNulls}=e,l=c9(t,i),u=o?n.filter(Pf):n;if(Array.isArray(r)){var d,f=n.map((S,E)=>XT(XT({},S),{},{base:r[E]}));i==="vertical"?d=Cd().y(tu).x1(eu).x0(S=>S.base.x):d=Cd().x(eu).y1(tu).y0(S=>S.base.y);var h=d.defined(QT).curve(l),g=o?f.filter(QT):f;return h(g)}var y;i==="vertical"&&ye(r)?y=Cd().y(tu).x1(eu).x0(r):ye(r)?y=Cd().x(eu).y1(tu).y0(r):y=Ek().x(eu).y(tu);var b=y.defined(Pf).curve(l);return b(u)},YR=e=>{var{className:t,points:n,path:r,pathRef:i}=e,o=vo();if((!n||!n.length)&&!r)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},u=n&&n.length?d9(l):r;return C.createElement("path",sy({},Cr(e),fx(e),{className:nt("recharts-curve",t),d:u===null?void 0:u,ref:i}))},f9=["x","y","top","left","width","height","className"];function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ly.apply(null,arguments)}function tA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function h9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(n),!0).forEach(function(r){p9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p9(e,t,n){return(t=m9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m9(e){var t=g9(e,"string");return typeof t=="symbol"?t:t+""}function g9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v9(e,t){if(e==null)return{};var n,r,i=y9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var x9=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),b9=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:u}=e,d=v9(e,f9),f=h9({x:t,y:n,top:r,left:i,width:o,height:l},d);return!ye(t)||!ye(n)||!ye(o)||!ye(l)||!ye(r)||!ye(i)?null:C.createElement("path",ly({},hn(f),{className:nt("recharts-cross",u),d:x9(t,n,o,l,r,i)}))};function w9(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function nA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(n),!0).forEach(function(r){_9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _9(e,t,n){return(t=S9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S9(e){var t=E9(e,"string");return typeof t=="symbol"?t:t+""}function E9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T9=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),JR=(e,t,n)=>e.map(r=>"".concat(T9(r)," ").concat(t,"ms ").concat(n)).join(","),A9=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Cu=(e,t)=>Object.keys(t).reduce((n,r)=>rA(rA({},n),{},{[r]:e(r,t[r])}),{});function iA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(n),!0).forEach(function(r){C9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C9(e,t,n){return(t=N9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N9(e){var t=I9(e,"string");return typeof t=="symbol"?t:t+""}function I9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Of=(e,t,n)=>e+(t-e)*n,uy=e=>{var{from:t,to:n}=e;return t!==n},XR=(e,t,n)=>{var r=Cu((i,o)=>{if(uy(o)){var[l,u]=e(o.from,o.to,o.velocity);return Rt(Rt({},o),{},{from:l,velocity:u})}return o},t);return n<1?Cu((i,o)=>uy(o)&&r[i]!=null?Rt(Rt({},o),{},{velocity:Of(o.velocity,r[i].velocity,n),from:Of(o.from,r[i].from,n)}):o,t):XR(e,r,n-1)};function k9(e,t,n,r,i,o){var l,u=r.reduce((y,b)=>Rt(Rt({},y),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),d=()=>Cu((y,b)=>b.from,u),f=()=>!Object.values(u).filter(uy).length,h=null,g=y=>{l||(l=y);var b=y-l,S=b/n.dt;u=XR(n,u,S),i(Rt(Rt(Rt({},e),t),d())),l=y,f()||(h=o.setTimeout(g))};return()=>(h=o.setTimeout(g),()=>{var y;(y=h)===null||y===void 0||y()})}function R9(e,t,n,r,i,o,l){var u=null,d=i.reduce((g,y)=>{var b=e[y],S=t[y];return b==null||S==null?g:Rt(Rt({},g),{},{[y]:[b,S]})},{}),f,h=g=>{f||(f=g);var y=(g-f)/r,b=Cu((E,T)=>Of(...T,n(y)),d);if(o(Rt(Rt(Rt({},e),t),b)),y<1)u=l.setTimeout(h);else{var S=Cu((E,T)=>Of(...T,n(1)),d);o(Rt(Rt(Rt({},e),t),S))}};return()=>(u=l.setTimeout(h),()=>{var g;(g=u)===null||g===void 0||g()})}const P9=(e,t,n,r,i,o)=>{var l=A9(e,t);return n==null?()=>(i(Rt(Rt({},e),t)),()=>{}):n.isStepper===!0?k9(e,t,n,l,i,o):R9(e,t,n,r,l,i,o)};var Mf=1e-4,ZR=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],QR=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),aA=(e,t)=>n=>{var r=ZR(e,t);return QR(r,n)},O9=(e,t)=>n=>{var r=ZR(e,t),i=[...r.map((o,l)=>o*l).slice(1),0];return QR(i,n)},M9=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},D9=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=M9(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},j9=(e,t,n,r)=>{var i=aA(e,n),o=aA(t,r),l=O9(e,n),u=f=>f>1?1:f<0?0:f,d=f=>{for(var h=f>1?1:f,g=h,y=0;y<8;++y){var b=i(g)-h,S=l(g);if(Math.abs(b-h)<Mf||S<Mf)return o(g);g=u(g-b/S)}return o(g)};return d.isStepper=!1,d},oA=function(){return j9(...D9(...arguments))},L9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(l,u,d)=>{var f=-(l-u)*n,h=d*r,g=d+(f-h)*i/1e3,y=d*i/1e3+l;return Math.abs(y-u)<Mf&&Math.abs(g)<Mf?[u,0]:[y,g]};return o.isStepper=!0,o.dt=i,o},U9=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return oA(e);case"spring":return L9();default:if(e.split("(")[0]==="cubic-bezier")return oA(e)}return typeof e=="function"?e:null};function B9(e){var t,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...f]=u;if(typeof d=="number"){i=e.setTimeout(o.bind(null,f),d);return}o(d),i=e.setTimeout(o.bind(null,f));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class $9{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function z9(){return B9(new $9)}var q9=C.createContext(z9);function V9(e,t){var n=C.useContext(q9);return C.useMemo(()=>t??n(e),[e,t,n])}var G9=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Uh={isSsr:G9()},H9={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},sA={t:0},Fg={t:1};function Bh(e){var t=In(e,H9),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:u,onAnimationStart:d,children:f}=t,h=n==="auto"?!Uh.isSsr:n,g=V9(t.animationId,t.animationManager),[y,b]=C.useState(h?sA:Fg),S=C.useRef(null);return C.useEffect(()=>{h||b(Fg)},[h]),C.useEffect(()=>{if(!h||!r)return go;var E=P9(sA,Fg,U9(o),i,b,g.getTimeoutController()),T=()=>{S.current=E()};return g.start([d,l,T,i,u]),()=>{g.stop(),S.current&&S.current(),u()}},[h,r,i,o,l,d,u,g]),f(y.t)}function $h(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=C.useRef(bu(t)),r=C.useRef(e);return r.current!==e&&(n.current=bu(t),r.current=e),n.current}var F9=["radius"],K9=["radius"],lA,uA,cA,dA,fA,hA,pA,mA,gA,vA;function yA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(n),!0).forEach(function(r){W9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W9(e,t,n){return(t=Y9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y9(e){var t=J9(e,"string");return typeof t=="symbol"?t:t+""}function J9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Df.apply(null,arguments)}function bA(e,t){if(e==null)return{};var n,r,i=X9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function X9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Lr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var wA=(e,t,n,r,i)=>{var o=ma(n),l=ma(r),u=Math.min(Math.abs(o)/2,Math.abs(l)/2),d=l>=0?1:-1,f=o>=0?1:-1,h=l>=0&&o>=0||l<0&&o<0?1:0,g;if(u>0&&Array.isArray(i)){for(var y=[0,0,0,0],b=0,S=4;b<S;b++){var E,T=(E=i[b])!==null&&E!==void 0?E:0;y[b]=T>u?u:T}g=vt(lA||(lA=Lr(["M",",",""])),e,t+d*y[0]),y[0]>0&&(g+=vt(uA||(uA=Lr(["A ",",",",0,0,",",",",",""])),y[0],y[0],h,e+f*y[0],t)),g+=vt(cA||(cA=Lr(["L ",",",""])),e+n-f*y[1],t),y[1]>0&&(g+=vt(dA||(dA=Lr(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],h,e+n,t+d*y[1])),g+=vt(fA||(fA=Lr(["L ",",",""])),e+n,t+r-d*y[2]),y[2]>0&&(g+=vt(hA||(hA=Lr(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],h,e+n-f*y[2],t+r)),g+=vt(pA||(pA=Lr(["L ",",",""])),e+f*y[3],t+r),y[3]>0&&(g+=vt(mA||(mA=Lr(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],h,e,t+r-d*y[3])),g+="Z"}else if(u>0&&i===+i&&i>0){var A=Math.min(u,i);g=vt(gA||(gA=Lr(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+d*A,A,A,h,e+f*A,t,e+n-f*A,t,A,A,h,e+n,t+d*A,e+n,t+r-d*A,A,A,h,e+n-f*A,t+r,e+f*A,t+r,A,A,h,e,t+r-d*A)}else g=vt(vA||(vA=Lr(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return g},_A={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eP=e=>{var t=In(e,_A),n=C.useRef(null),[r,i]=C.useState(-1);C.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var F=n.current.getTotalLength();F&&i(F)}catch{}},[]);var{x:o,y:l,width:u,height:d,radius:f,className:h}=t,{animationEasing:g,animationDuration:y,animationBegin:b,isAnimationActive:S,isUpdateAnimationActive:E}=t,T=C.useRef(u),A=C.useRef(d),N=C.useRef(o),k=C.useRef(l),P=C.useMemo(()=>({x:o,y:l,width:u,height:d,radius:f}),[o,l,u,d,f]),R=$h(P,"rectangle-");if(o!==+o||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var O=nt("recharts-rectangle",h);if(!E){var B=hn(t),{radius:K}=B,D=bA(B,F9);return C.createElement("path",Df({},D,{x:ma(o),y:ma(l),width:ma(u),height:ma(d),radius:typeof f=="number"?f:void 0,className:O,d:wA(o,l,u,d,f)}))}var G=T.current,$=A.current,M=N.current,U=k.current,L="0px ".concat(r===-1?1:r,"px"),q="".concat(r,"px 0px"),z=JR(["strokeDasharray"],y,typeof g=="string"?g:_A.animationEasing);return C.createElement(Bh,{animationId:R,key:R,canBegin:r>0,duration:y,easing:g,isActive:E,begin:b},F=>{var ne=yt(G,u,F),X=yt($,d,F),oe=yt(M,o,F),V=yt(U,l,F);n.current&&(T.current=ne,A.current=X,N.current=oe,k.current=V);var J;S?F>0?J={transition:z,strokeDasharray:q}:J={strokeDasharray:L}:J={strokeDasharray:q};var ce=hn(t),{radius:pe}=ce,se=bA(ce,K9);return C.createElement("path",Df({},se,{radius:typeof f=="number"?f:void 0,className:O,d:wA(oe,V,ne,X,f),ref:n,style:xA(xA({},J),t.style)}))})};function SA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(n),!0).forEach(function(r){Z9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z9(e,t,n){return(t=Q9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q9(e){var t=e7(e,"string");return typeof t=="symbol"?t:t+""}function e7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jf=Math.PI/180,t7=e=>e*180/Math.PI,rn=(e,t,n,r)=>({x:e+Math.cos(-jf*r)*n,y:t+Math.sin(-jf*r)*n}),n7=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},r7=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},i7=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,l=r7({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>o&&(d=2*Math.PI-d),{radius:l,angle:t7(d),angleInRadian:d}},a7=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},o7=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return e+l*360},s7=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=i7({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:f}=a7(t),h=o,g;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;g=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=d}return g?EA(EA({},t),{},{radius:i,angle:o7(h,t)}):null};function tP(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,l=rn(t,n,r,i),u=rn(t,n,r,o);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}var TA,AA,CA,NA,IA,kA,RA;function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cy.apply(null,arguments)}function Qa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l7=(e,t)=>{var n=Tn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},jd=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:u,cornerIsExternal:d}=e,f=u*(l?1:-1)+r,h=Math.asin(u/f)/jf,g=d?i:i+o*h,y=rn(t,n,f,g),b=rn(t,n,r,g),S=d?i-o*h:i,E=rn(t,n,f*Math.cos(h*jf),S);return{center:y,circleTangency:b,lineTangency:E,theta:h}},nP=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=e,u=l7(o,l),d=o+u,f=rn(t,n,i,o),h=rn(t,n,i,d),g=vt(TA||(TA=Qa(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(u)>180),+(o>d),h.x,h.y);if(r>0){var y=rn(t,n,r,o),b=rn(t,n,r,d);g+=vt(AA||(AA=Qa(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),b.x,b.y,r,r,+(Math.abs(u)>180),+(o<=d),y.x,y.y)}else g+=vt(CA||(CA=Qa(["L ",","," Z"])),t,n);return g},u7=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}=e,h=Tn(f-d),{circleTangency:g,lineTangency:y,theta:b}=jd({cx:t,cy:n,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:S,lineTangency:E,theta:T}=jd({cx:t,cy:n,radius:i,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:u}),A=u?Math.abs(d-f):Math.abs(d-f)-b-T;if(A<0)return l?vt(NA||(NA=Qa(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,o,o,o*2,o,o,-o*2):nP({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var N=vt(IA||(IA=Qa(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,o,o,+(h<0),g.x,g.y,i,i,+(A>180),+(h<0),S.x,S.y,o,o,+(h<0),E.x,E.y);if(r>0){var{circleTangency:k,lineTangency:P,theta:R}=jd({cx:t,cy:n,radius:r,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:O,lineTangency:B,theta:K}=jd({cx:t,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),D=u?Math.abs(d-f):Math.abs(d-f)-R-K;if(D<0&&o===0)return"".concat(N,"L").concat(t,",").concat(n,"Z");N+=vt(kA||(kA=Qa(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),B.x,B.y,o,o,+(h<0),O.x,O.y,r,r,+(D>180),+(h>0),k.x,k.y,o,o,+(h<0),P.x,P.y)}else N+=vt(RA||(RA=Qa(["L",",","Z"])),t,n);return N},c7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},rP=e=>{var t=In(e,c7),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:h,className:g}=t;if(o<i||f===h)return null;var y=nt("recharts-sector",g),b=o-i,S=Nr(l,b,0,!0),E;return S>0&&Math.abs(f-h)<360?E=u7({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(S,b/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:h}):E=nP({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h}),C.createElement("path",cy({},hn(t),{className:y,d:E}))};function d7(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if($k(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:l,angle:u}=t,d=rn(r,i,o,u),f=rn(r,i,l,u);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return tP(t)}}var Kg={},Wg={},Yg={},PA;function f7(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jk();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Yg)),Yg}var OA;function h7(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f7();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Wg)),Wg}var MA;function p7(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xk(),n=h7();function r(i,o,l){l&&typeof l!="number"&&t.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((o-i)/(l||1)),0),d=new Array(u);for(let f=0;f<u;f++)d[f]=i,i+=l;return d}e.range=r})(Kg)),Kg}var Jg,DA;function m7(){return DA||(DA=1,Jg=p7().range),Jg}var g7=m7();const iP=kr(g7);function va(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function v7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Cx(e){let t,n,r;e.length!==2?(t=va,n=(u,d)=>va(e(u),d),r=(u,d)=>e(u)-d):(t=e===va||e===v7?e:y7,n=e,r=e);function i(u,d,f=0,h=u.length){if(f<h){if(t(d,d)!==0)return h;do{const g=f+h>>>1;n(u[g],d)<0?f=g+1:h=g}while(f<h)}return f}function o(u,d,f=0,h=u.length){if(f<h){if(t(d,d)!==0)return h;do{const g=f+h>>>1;n(u[g],d)<=0?f=g+1:h=g}while(f<h)}return f}function l(u,d,f=0,h=u.length){const g=i(u,d,f,h-1);return g>f&&r(u[g-1],d)>-r(u[g],d)?g-1:g}return{left:i,center:l,right:o}}function y7(){return 0}function aP(e){return e===null?NaN:+e}function*x7(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const b7=Cx(va),Zu=b7.right;Cx(aP).center;class jA extends Map{constructor(t,n=S7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(LA(this,t))}has(t){return super.has(LA(this,t))}set(t,n){return super.set(w7(this,t),n)}delete(t){return super.delete(_7(this,t))}}function LA({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function w7({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function _7({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function S7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function E7(e=va){if(e===va)return oP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function oP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const T7=Math.sqrt(50),A7=Math.sqrt(10),C7=Math.sqrt(2);function Lf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=T7?10:o>=A7?5:o>=C7?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=n&&n<2?Lf(e,t,n*2):[u,d,f]}function dy(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?Lf(t,e,n):Lf(e,t,n);if(!(o>=i))return[];const u=o-i+1,d=new Array(u);if(r)if(l<0)for(let f=0;f<u;++f)d[f]=(o-f)/-l;else for(let f=0;f<u;++f)d[f]=(o-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(i+f)/-l;else for(let f=0;f<u;++f)d[f]=(i+f)*l;return d}function fy(e,t,n){return t=+t,e=+e,n=+n,Lf(e,t,n)[2]}function hy(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?fy(t,e,n):fy(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function UA(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function BA(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function sP(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?oP:E7(i);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,h=Math.log(d),g=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*g*(d-g)/d)*(f-d/2<0?-1:1),b=Math.max(n,Math.floor(t-f*g/d+y)),S=Math.min(r,Math.floor(t+(d-f)*g/d+y));sP(e,t,b,S,i)}const o=e[t];let l=n,u=r;for(nu(e,n,t),i(e[r],o)>0&&nu(e,n,r);l<u;){for(nu(e,l,u),++l,--u;i(e[l],o)<0;)++l;for(;i(e[u],o)>0;)--u}i(e[n],o)===0?nu(e,n,u):(++u,nu(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function nu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function N7(e,t,n){if(e=Float64Array.from(x7(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return BA(e);if(t>=1)return UA(e);var r,i=(r-1)*t,o=Math.floor(i),l=UA(sP(e,o).subarray(0,o+1)),u=BA(e.subarray(o+1));return l+(u-l)*(i-o)}}function I7(e,t,n=aP){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),l=+n(e[o],o,e),u=+n(e[o+1],o+1,e);return l+(u-l)*(i-o)}}function k7(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function hr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ri(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const py=Symbol("implicit");function Nx(){var e=new jA,t=[],n=[],r=py;function i(o){let l=e.get(o);if(l===void 0){if(r!==py)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new jA;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Nx(t,n).unknown(r)},hr.apply(i,arguments),i}function Ix(){var e=Nx().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,l,u=!1,d=0,f=0,h=.5;delete e.unknown;function g(){var y=t().length,b=i<r,S=b?i:r,E=b?r:i;o=(E-S)/Math.max(1,y-d+f*2),u&&(o=Math.floor(o)),S+=(E-S-o*(y-d))*h,l=o*(1-d),u&&(S=Math.round(S),l=Math.round(l));var T=k7(y).map(function(A){return S+o*A});return n(b?T.reverse():T)}return e.domain=function(y){return arguments.length?(t(y),g()):t()},e.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,g()):[r,i]},e.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,u=!0,g()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(y){return arguments.length?(u=!!y,g()):u},e.padding=function(y){return arguments.length?(d=Math.min(1,f=+y),g()):d},e.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),g()):d},e.paddingOuter=function(y){return arguments.length?(f=+y,g()):f},e.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),g()):h},e.copy=function(){return Ix(t(),[r,i]).round(u).paddingInner(d).paddingOuter(f).align(h)},hr.apply(g(),arguments)}function lP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return lP(t())},e}function R7(){return lP(Ix.apply(null,arguments).paddingInner(1))}function kx(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function uP(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Qu(){}var Nu=.7,Uf=1/Nu,Rs="\\s*([+-]?\\d+)\\s*",Iu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",P7=/^#([0-9a-f]{3,8})$/,O7=new RegExp(`^rgb\\(${Rs},${Rs},${Rs}\\)$`),M7=new RegExp(`^rgb\\(${Vr},${Vr},${Vr}\\)$`),D7=new RegExp(`^rgba\\(${Rs},${Rs},${Rs},${Iu}\\)$`),j7=new RegExp(`^rgba\\(${Vr},${Vr},${Vr},${Iu}\\)$`),L7=new RegExp(`^hsl\\(${Iu},${Vr},${Vr}\\)$`),U7=new RegExp(`^hsla\\(${Iu},${Vr},${Vr},${Iu}\\)$`),$A={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kx(Qu,ku,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zA,formatHex:zA,formatHex8:B7,formatHsl:$7,formatRgb:qA,toString:qA});function zA(){return this.rgb().formatHex()}function B7(){return this.rgb().formatHex8()}function $7(){return cP(this).formatHsl()}function qA(){return this.rgb().formatRgb()}function ku(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=P7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?VA(t):n===3?new Cn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ld(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ld(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=O7.exec(e))?new Cn(t[1],t[2],t[3],1):(t=M7.exec(e))?new Cn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=D7.exec(e))?Ld(t[1],t[2],t[3],t[4]):(t=j7.exec(e))?Ld(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=L7.exec(e))?FA(t[1],t[2]/100,t[3]/100,1):(t=U7.exec(e))?FA(t[1],t[2]/100,t[3]/100,t[4]):$A.hasOwnProperty(e)?VA($A[e]):e==="transparent"?new Cn(NaN,NaN,NaN,0):null}function VA(e){return new Cn(e>>16&255,e>>8&255,e&255,1)}function Ld(e,t,n,r){return r<=0&&(e=t=n=NaN),new Cn(e,t,n,r)}function z7(e){return e instanceof Qu||(e=ku(e)),e?(e=e.rgb(),new Cn(e.r,e.g,e.b,e.opacity)):new Cn}function my(e,t,n,r){return arguments.length===1?z7(e):new Cn(e,t,n,r??1)}function Cn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}kx(Cn,my,uP(Qu,{brighter(e){return e=e==null?Uf:Math.pow(Uf,e),new Cn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Nu:Math.pow(Nu,e),new Cn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Cn(ao(this.r),ao(this.g),ao(this.b),Bf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GA,formatHex:GA,formatHex8:q7,formatRgb:HA,toString:HA}));function GA(){return`#${eo(this.r)}${eo(this.g)}${eo(this.b)}`}function q7(){return`#${eo(this.r)}${eo(this.g)}${eo(this.b)}${eo((isNaN(this.opacity)?1:this.opacity)*255)}`}function HA(){const e=Bf(this.opacity);return`${e===1?"rgb(":"rgba("}${ao(this.r)}, ${ao(this.g)}, ${ao(this.b)}${e===1?")":`, ${e})`}`}function Bf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ao(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function eo(e){return e=ao(e),(e<16?"0":"")+e.toString(16)}function FA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Sr(e,t,n,r)}function cP(e){if(e instanceof Sr)return new Sr(e.h,e.s,e.l,e.opacity);if(e instanceof Qu||(e=ku(e)),!e)return new Sr;if(e instanceof Sr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,u=o-i,d=(o+i)/2;return u?(t===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-t)/u+2:l=(t-n)/u+4,u/=d<.5?o+i:2-o-i,l*=60):u=d>0&&d<1?0:l,new Sr(l,u,d,e.opacity)}function V7(e,t,n,r){return arguments.length===1?cP(e):new Sr(e,t,n,r??1)}function Sr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}kx(Sr,V7,uP(Qu,{brighter(e){return e=e==null?Uf:Math.pow(Uf,e),new Sr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Nu:Math.pow(Nu,e),new Sr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Cn(Xg(e>=240?e-240:e+120,i,r),Xg(e,i,r),Xg(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Sr(KA(this.h),Ud(this.s),Ud(this.l),Bf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Bf(this.opacity);return`${e===1?"hsl(":"hsla("}${KA(this.h)}, ${Ud(this.s)*100}%, ${Ud(this.l)*100}%${e===1?")":`, ${e})`}`}}));function KA(e){return e=(e||0)%360,e<0?e+360:e}function Ud(e){return Math.max(0,Math.min(1,e||0))}function Xg(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Rx=e=>()=>e;function G7(e,t){return function(n){return e+n*t}}function H7(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function F7(e){return(e=+e)==1?dP:function(t,n){return n-t?H7(t,n,e):Rx(isNaN(t)?n:t)}}function dP(e,t){var n=t-e;return n?G7(e,n):Rx(isNaN(e)?t:e)}const WA=(function e(t){var n=F7(t);function r(i,o){var l=n((i=my(i)).r,(o=my(o)).r),u=n(i.g,o.g),d=n(i.b,o.b),f=dP(i.opacity,o.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=d(h),i.opacity=f(h),i+""}}return r.gamma=e,r})(1);function K7(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function W7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Y7(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=Gs(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(u){for(l=0;l<r;++l)o[l]=i[l](u);return o}}function J7(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function $f(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function X7(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Gs(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var gy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zg=new RegExp(gy.source,"g");function Z7(e){return function(){return e}}function Q7(e){return function(t){return e(t)+""}}function eB(e,t){var n=gy.lastIndex=Zg.lastIndex=0,r,i,o,l=-1,u=[],d=[];for(e=e+"",t=t+"";(r=gy.exec(e))&&(i=Zg.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:$f(r,i)})),n=Zg.lastIndex;return n<t.length&&(o=t.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?d[0]?Q7(d[0].x):Z7(t):(t=d.length,function(f){for(var h=0,g;h<t;++h)u[(g=d[h]).i]=g.x(f);return u.join("")})}function Gs(e,t){var n=typeof t,r;return t==null||n==="boolean"?Rx(t):(n==="number"?$f:n==="string"?(r=ku(t))?(t=r,WA):eB:t instanceof ku?WA:t instanceof Date?J7:W7(t)?K7:Array.isArray(t)?Y7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?X7:$f)(e,t)}function Px(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function tB(e,t){t===void 0&&(t=e,e=Gs);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[u](l-u)}}function nB(e){return function(){return e}}function zf(e){return+e}var YA=[0,1];function fn(e){return e}function vy(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:nB(isNaN(t)?NaN:.5)}function rB(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function iB(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=vy(i,r),o=n(l,o)):(r=vy(r,i),o=n(o,l)),function(u){return o(r(u))}}function aB(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=vy(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(u){var d=Zu(e,u,1,r)-1;return o[d](i[d](u))}}function ec(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function zh(){var e=YA,t=YA,n=Gs,r,i,o,l=fn,u,d,f;function h(){var y=Math.min(e.length,t.length);return l!==fn&&(l=rB(e[0],e[y-1])),u=y>2?aB:iB,d=f=null,g}function g(y){return y==null||isNaN(y=+y)?o:(d||(d=u(e.map(r),t,n)))(r(l(y)))}return g.invert=function(y){return l(i((f||(f=u(t,e.map(r),$f)))(y)))},g.domain=function(y){return arguments.length?(e=Array.from(y,zf),h()):e.slice()},g.range=function(y){return arguments.length?(t=Array.from(y),h()):t.slice()},g.rangeRound=function(y){return t=Array.from(y),n=Px,h()},g.clamp=function(y){return arguments.length?(l=y?!0:fn,h()):l!==fn},g.interpolate=function(y){return arguments.length?(n=y,h()):n},g.unknown=function(y){return arguments.length?(o=y,g):o},function(y,b){return r=y,i=b,h()}}function Ox(){return zh()(fn,fn)}function oB(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function qf(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function $s(e){return e=qf(Math.abs(e)),e?e[1]:NaN}function sB(e,t){return function(n,r){for(var i=n.length,o=[],l=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),o.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function lB(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var uB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ru(e){if(!(t=uB.exec(e)))throw new Error("invalid format: "+e);var t;return new Mx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ru.prototype=Mx.prototype;function Mx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Mx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cB(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Vf;function dB(e,t){var n=qf(e,t);if(!n)return Vf=void 0,e.toPrecision(t);var r=n[0],i=n[1],o=i-(Vf=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+qf(e,Math.max(0,t+o-1))[0]}function JA(e,t){var n=qf(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const XA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oB,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>JA(e*100,t),r:JA,s:dB,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ZA(e){return e}var QA=Array.prototype.map,eC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fB(e){var t=e.grouping===void 0||e.thousands===void 0?ZA:sB(QA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?ZA:lB(QA.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(g,y){g=Ru(g);var b=g.fill,S=g.align,E=g.sign,T=g.symbol,A=g.zero,N=g.width,k=g.comma,P=g.precision,R=g.trim,O=g.type;O==="n"?(k=!0,O="g"):XA[O]||(P===void 0&&(P=12),R=!0,O="g"),(A||b==="0"&&S==="=")&&(A=!0,b="0",S="=");var B=(y&&y.prefix!==void 0?y.prefix:"")+(T==="$"?n:T==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),K=(T==="$"?r:/[%p]/.test(O)?l:"")+(y&&y.suffix!==void 0?y.suffix:""),D=XA[O],G=/[defgprs%]/.test(O);P=P===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function $(M){var U=B,L=K,q,z,F;if(O==="c")L=D(M)+L,M="";else{M=+M;var ne=M<0||1/M<0;if(M=isNaN(M)?d:D(Math.abs(M),P),R&&(M=cB(M)),ne&&+M==0&&E!=="+"&&(ne=!1),U=(ne?E==="("?E:u:E==="-"||E==="("?"":E)+U,L=(O==="s"&&!isNaN(M)&&Vf!==void 0?eC[8+Vf/3]:"")+L+(ne&&E==="("?")":""),G){for(q=-1,z=M.length;++q<z;)if(F=M.charCodeAt(q),48>F||F>57){L=(F===46?i+M.slice(q+1):M.slice(q))+L,M=M.slice(0,q);break}}}k&&!A&&(M=t(M,1/0));var X=U.length+M.length+L.length,oe=X<N?new Array(N-X+1).join(b):"";switch(k&&A&&(M=t(oe+M,oe.length?N-L.length:1/0),oe=""),S){case"<":M=U+M+L+oe;break;case"=":M=U+oe+M+L;break;case"^":M=oe.slice(0,X=oe.length>>1)+U+M+L+oe.slice(X);break;default:M=oe+U+M+L;break}return o(M)}return $.toString=function(){return g+""},$}function h(g,y){var b=Math.max(-8,Math.min(8,Math.floor($s(y)/3)))*3,S=Math.pow(10,-b),E=f((g=Ru(g),g.type="f",g),{suffix:eC[8+b/3]});return function(T){return E(S*T)}}return{format:f,formatPrefix:h}}var Bd,Dx,fP;hB({thousands:",",grouping:[3],currency:["$",""]});function hB(e){return Bd=fB(e),Dx=Bd.format,fP=Bd.formatPrefix,Bd}function pB(e){return Math.max(0,-$s(Math.abs(e)))}function mB(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($s(t)/3)))*3-$s(Math.abs(e)))}function gB(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,$s(t)-$s(e))+1}function hP(e,t,n,r){var i=hy(e,t,n),o;switch(r=Ru(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=mB(i,l))&&(r.precision=o),fP(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=gB(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=pB(i))&&(r.precision=o-(r.type==="%")*2);break}}return Dx(r)}function wa(e){var t=e.domain;return e.ticks=function(n){var r=t();return dy(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return hP(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],u=r[o],d,f,h=10;for(u<l&&(f=l,l=u,u=f,f=i,i=o,o=f);h-- >0;){if(f=fy(l,u,n),f===d)return r[i]=l,r[o]=u,t(r);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function pP(){var e=Ox();return e.copy=function(){return ec(e,pP())},hr.apply(e,arguments),wa(e)}function mP(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,zf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return mP(e).unknown(t)},e=arguments.length?Array.from(e,zf):[0,1],wa(n)}function gP(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),e[n]=t.floor(i),e[r]=t.ceil(o),e}function tC(e){return Math.log(e)}function nC(e){return Math.exp(e)}function vB(e){return-Math.log(-e)}function yB(e){return-Math.exp(-e)}function xB(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bB(e){return e===10?xB:e===Math.E?Math.exp:t=>Math.pow(e,t)}function wB(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function rC(e){return(t,n)=>-e(-t,n)}function jx(e){const t=e(tC,nC),n=t.domain;let r=10,i,o;function l(){return i=wB(r),o=bB(r),n()[0]<0?(i=rC(i),o=rC(o),e(vB,yB)):e(tC,nC),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const d=n();let f=d[0],h=d[d.length-1];const g=h<f;g&&([f,h]=[h,f]);let y=i(f),b=i(h),S,E;const T=u==null?10:+u;let A=[];if(!(r%1)&&b-y<T){if(y=Math.floor(y),b=Math.ceil(b),f>0){for(;y<=b;++y)for(S=1;S<r;++S)if(E=y<0?S/o(-y):S*o(y),!(E<f)){if(E>h)break;A.push(E)}}else for(;y<=b;++y)for(S=r-1;S>=1;--S)if(E=y>0?S/o(-y):S*o(y),!(E<f)){if(E>h)break;A.push(E)}A.length*2<T&&(A=dy(f,h,T))}else A=dy(y,b,Math.min(b-y,T)).map(o);return g?A.reverse():A},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Ru(d)).precision==null&&(d.trim=!0),d=Dx(d)),u===1/0)return d;const f=Math.max(1,r*u/t.ticks().length);return h=>{let g=h/o(Math.round(i(h)));return g*r<r-.5&&(g*=r),g<=f?d(h):""}},t.nice=()=>n(gP(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function vP(){const e=jx(zh()).domain([1,10]);return e.copy=()=>ec(e,vP()).base(e.base()),hr.apply(e,arguments),e}function iC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function aC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Lx(e){var t=1,n=e(iC(t),aC(t));return n.constant=function(r){return arguments.length?e(iC(t=+r),aC(t)):t},wa(n)}function yP(){var e=Lx(zh());return e.copy=function(){return ec(e,yP()).constant(e.constant())},hr.apply(e,arguments)}function oC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _B(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function SB(e){return e<0?-e*e:e*e}function Ux(e){var t=e(fn,fn),n=1;function r(){return n===1?e(fn,fn):n===.5?e(_B,SB):e(oC(n),oC(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},wa(t)}function Bx(){var e=Ux(zh());return e.copy=function(){return ec(e,Bx()).exponent(e.exponent())},hr.apply(e,arguments),e}function EB(){return Bx.apply(null,arguments).exponent(.5)}function sC(e){return Math.sign(e)*e*e}function TB(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function xP(){var e=Ox(),t=[0,1],n=!1,r;function i(o){var l=TB(e(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return e.invert(sC(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,zf)).map(sC)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return xP(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},hr.apply(i,arguments),wa(i)}function bP(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=I7(e,l/u);return o}function o(l){return l==null||isNaN(l=+l)?r:t[Zu(n,l)]}return o.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(va),i()},o.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return bP().domain(e).range(t).unknown(r)},hr.apply(o,arguments)}function wP(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function l(d){return d!=null&&d<=d?i[Zu(r,d,0,n)]:o}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return wP().domain([e,t]).range(i).unknown(o)},hr.apply(wa(l),arguments)}function _P(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Zu(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return _P().domain(e).range(t).unknown(n)},hr.apply(i,arguments)}const Qg=new Date,ev=new Date;function Ot(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const d=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return d;let f;do d.push(f=new Date(+o)),t(o,u),e(o);while(f<o&&o<l);return d},i.filter=o=>Ot(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),n&&(i.count=(o,l)=>(Qg.setTime(+o),ev.setTime(+l),e(Qg),e(ev),Math.floor(n(Qg,ev))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const Gf=Ot(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Gf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ot(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Gf);Gf.range;const vi=1e3,sr=vi*60,yi=sr*60,wi=yi*24,$x=wi*7,lC=wi*30,tv=wi*365,to=Ot(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*vi)},(e,t)=>(t-e)/vi,e=>e.getUTCSeconds());to.range;const zx=Ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vi)},(e,t)=>{e.setTime(+e+t*sr)},(e,t)=>(t-e)/sr,e=>e.getMinutes());zx.range;const qx=Ot(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*sr)},(e,t)=>(t-e)/sr,e=>e.getUTCMinutes());qx.range;const Vx=Ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vi-e.getMinutes()*sr)},(e,t)=>{e.setTime(+e+t*yi)},(e,t)=>(t-e)/yi,e=>e.getHours());Vx.range;const Gx=Ot(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*yi)},(e,t)=>(t-e)/yi,e=>e.getUTCHours());Gx.range;const tc=Ot(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sr)/wi,e=>e.getDate()-1);tc.range;const qh=Ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wi,e=>e.getUTCDate()-1);qh.range;const SP=Ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wi,e=>Math.floor(e/wi));SP.range;function yo(e){return Ot(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*sr)/$x)}const Vh=yo(0),Hf=yo(1),AB=yo(2),CB=yo(3),zs=yo(4),NB=yo(5),IB=yo(6);Vh.range;Hf.range;AB.range;CB.range;zs.range;NB.range;IB.range;function xo(e){return Ot(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/$x)}const Gh=xo(0),Ff=xo(1),kB=xo(2),RB=xo(3),qs=xo(4),PB=xo(5),OB=xo(6);Gh.range;Ff.range;kB.range;RB.range;qs.range;PB.range;OB.range;const Hx=Ot(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Hx.range;const Fx=Ot(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Fx.range;const _i=Ot(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());_i.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ot(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});_i.range;const Si=Ot(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Si.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ot(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Si.range;function EP(e,t,n,r,i,o){const l=[[to,1,vi],[to,5,5*vi],[to,15,15*vi],[to,30,30*vi],[o,1,sr],[o,5,5*sr],[o,15,15*sr],[o,30,30*sr],[i,1,yi],[i,3,3*yi],[i,6,6*yi],[i,12,12*yi],[r,1,wi],[r,2,2*wi],[n,1,$x],[t,1,lC],[t,3,3*lC],[e,1,tv]];function u(f,h,g){const y=h<f;y&&([f,h]=[h,f]);const b=g&&typeof g.range=="function"?g:d(f,h,g),S=b?b.range(f,+h+1):[];return y?S.reverse():S}function d(f,h,g){const y=Math.abs(h-f)/g,b=Cx(([,,T])=>T).right(l,y);if(b===l.length)return e.every(hy(f/tv,h/tv,g));if(b===0)return Gf.every(Math.max(hy(f,h,g),1));const[S,E]=l[y/l[b-1][2]<l[b][2]/y?b-1:b];return S.every(E)}return[u,d]}const[MB,DB]=EP(Si,Fx,Gh,SP,Gx,qx),[jB,LB]=EP(_i,Hx,Vh,tc,Vx,zx);function nv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function rv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ru(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function UB(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=iu(i),h=au(i),g=iu(o),y=au(o),b=iu(l),S=au(l),E=iu(u),T=au(u),A=iu(d),N=au(d),k={a:F,A:ne,b:X,B:oe,c:null,d:pC,e:pC,f:s$,g:v$,G:x$,H:i$,I:a$,j:o$,L:TP,m:l$,M:u$,p:V,q:J,Q:vC,s:yC,S:c$,u:d$,U:f$,V:h$,w:p$,W:m$,x:null,X:null,y:g$,Y:y$,Z:b$,"%":gC},P={a:ce,A:pe,b:se,B:de,c:null,d:mC,e:mC,f:E$,g:M$,G:j$,H:w$,I:_$,j:S$,L:CP,m:T$,M:A$,p:he,q:Ie,Q:vC,s:yC,S:C$,u:N$,U:I$,V:k$,w:R$,W:P$,x:null,X:null,y:O$,Y:D$,Z:L$,"%":gC},R={a:G,A:$,b:M,B:U,c:L,d:fC,e:fC,f:e$,g:dC,G:cC,H:hC,I:hC,j:JB,L:QB,m:YB,M:XB,p:D,q:WB,Q:n$,s:r$,S:ZB,u:VB,U:GB,V:HB,w:qB,W:FB,x:q,X:z,y:dC,Y:cC,Z:KB,"%":t$};k.x=O(n,k),k.X=O(r,k),k.c=O(t,k),P.x=O(n,P),P.X=O(r,P),P.c=O(t,P);function O(ie,_e){return function(Ce){var fe=[],Ht=-1,Be=0,Ft=ie.length,Kt,Wr,nl;for(Ce instanceof Date||(Ce=new Date(+Ce));++Ht<Ft;)ie.charCodeAt(Ht)===37&&(fe.push(ie.slice(Be,Ht)),(Wr=uC[Kt=ie.charAt(++Ht)])!=null?Kt=ie.charAt(++Ht):Wr=Kt==="e"?" ":"0",(nl=_e[Kt])&&(Kt=nl(Ce,Wr)),fe.push(Kt),Be=Ht+1);return fe.push(ie.slice(Be,Ht)),fe.join("")}}function B(ie,_e){return function(Ce){var fe=ru(1900,void 0,1),Ht=K(fe,ie,Ce+="",0),Be,Ft;if(Ht!=Ce.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(_e&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(Be=rv(ru(fe.y,0,1)),Ft=Be.getUTCDay(),Be=Ft>4||Ft===0?Ff.ceil(Be):Ff(Be),Be=qh.offset(Be,(fe.V-1)*7),fe.y=Be.getUTCFullYear(),fe.m=Be.getUTCMonth(),fe.d=Be.getUTCDate()+(fe.w+6)%7):(Be=nv(ru(fe.y,0,1)),Ft=Be.getDay(),Be=Ft>4||Ft===0?Hf.ceil(Be):Hf(Be),Be=tc.offset(Be,(fe.V-1)*7),fe.y=Be.getFullYear(),fe.m=Be.getMonth(),fe.d=Be.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),Ft="Z"in fe?rv(ru(fe.y,0,1)).getUTCDay():nv(ru(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(Ft+5)%7:fe.w+fe.U*7-(Ft+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,rv(fe)):nv(fe)}}function K(ie,_e,Ce,fe){for(var Ht=0,Be=_e.length,Ft=Ce.length,Kt,Wr;Ht<Be;){if(fe>=Ft)return-1;if(Kt=_e.charCodeAt(Ht++),Kt===37){if(Kt=_e.charAt(Ht++),Wr=R[Kt in uC?_e.charAt(Ht++):Kt],!Wr||(fe=Wr(ie,Ce,fe))<0)return-1}else if(Kt!=Ce.charCodeAt(fe++))return-1}return fe}function D(ie,_e,Ce){var fe=f.exec(_e.slice(Ce));return fe?(ie.p=h.get(fe[0].toLowerCase()),Ce+fe[0].length):-1}function G(ie,_e,Ce){var fe=b.exec(_e.slice(Ce));return fe?(ie.w=S.get(fe[0].toLowerCase()),Ce+fe[0].length):-1}function $(ie,_e,Ce){var fe=g.exec(_e.slice(Ce));return fe?(ie.w=y.get(fe[0].toLowerCase()),Ce+fe[0].length):-1}function M(ie,_e,Ce){var fe=A.exec(_e.slice(Ce));return fe?(ie.m=N.get(fe[0].toLowerCase()),Ce+fe[0].length):-1}function U(ie,_e,Ce){var fe=E.exec(_e.slice(Ce));return fe?(ie.m=T.get(fe[0].toLowerCase()),Ce+fe[0].length):-1}function L(ie,_e,Ce){return K(ie,t,_e,Ce)}function q(ie,_e,Ce){return K(ie,n,_e,Ce)}function z(ie,_e,Ce){return K(ie,r,_e,Ce)}function F(ie){return l[ie.getDay()]}function ne(ie){return o[ie.getDay()]}function X(ie){return d[ie.getMonth()]}function oe(ie){return u[ie.getMonth()]}function V(ie){return i[+(ie.getHours()>=12)]}function J(ie){return 1+~~(ie.getMonth()/3)}function ce(ie){return l[ie.getUTCDay()]}function pe(ie){return o[ie.getUTCDay()]}function se(ie){return d[ie.getUTCMonth()]}function de(ie){return u[ie.getUTCMonth()]}function he(ie){return i[+(ie.getUTCHours()>=12)]}function Ie(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var _e=O(ie+="",k);return _e.toString=function(){return ie},_e},parse:function(ie){var _e=B(ie+="",!1);return _e.toString=function(){return ie},_e},utcFormat:function(ie){var _e=O(ie+="",P);return _e.toString=function(){return ie},_e},utcParse:function(ie){var _e=B(ie+="",!0);return _e.toString=function(){return ie},_e}}}var uC={"-":"",_:" ",0:"0"},zt=/^\s*\d+/,BB=/^%/,$B=/[\\^$*+?|[\]().{}]/g;function qe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function zB(e){return e.replace($B,"\\$&")}function iu(e){return new RegExp("^(?:"+e.map(zB).join("|")+")","i")}function au(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function qB(e,t,n){var r=zt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function VB(e,t,n){var r=zt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function GB(e,t,n){var r=zt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function HB(e,t,n){var r=zt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function FB(e,t,n){var r=zt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function cC(e,t,n){var r=zt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function dC(e,t,n){var r=zt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function KB(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function WB(e,t,n){var r=zt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function YB(e,t,n){var r=zt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function fC(e,t,n){var r=zt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function JB(e,t,n){var r=zt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function hC(e,t,n){var r=zt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function XB(e,t,n){var r=zt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ZB(e,t,n){var r=zt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function QB(e,t,n){var r=zt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function e$(e,t,n){var r=zt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function t$(e,t,n){var r=BB.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function n$(e,t,n){var r=zt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function r$(e,t,n){var r=zt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function pC(e,t){return qe(e.getDate(),t,2)}function i$(e,t){return qe(e.getHours(),t,2)}function a$(e,t){return qe(e.getHours()%12||12,t,2)}function o$(e,t){return qe(1+tc.count(_i(e),e),t,3)}function TP(e,t){return qe(e.getMilliseconds(),t,3)}function s$(e,t){return TP(e,t)+"000"}function l$(e,t){return qe(e.getMonth()+1,t,2)}function u$(e,t){return qe(e.getMinutes(),t,2)}function c$(e,t){return qe(e.getSeconds(),t,2)}function d$(e){var t=e.getDay();return t===0?7:t}function f$(e,t){return qe(Vh.count(_i(e)-1,e),t,2)}function AP(e){var t=e.getDay();return t>=4||t===0?zs(e):zs.ceil(e)}function h$(e,t){return e=AP(e),qe(zs.count(_i(e),e)+(_i(e).getDay()===4),t,2)}function p$(e){return e.getDay()}function m$(e,t){return qe(Hf.count(_i(e)-1,e),t,2)}function g$(e,t){return qe(e.getFullYear()%100,t,2)}function v$(e,t){return e=AP(e),qe(e.getFullYear()%100,t,2)}function y$(e,t){return qe(e.getFullYear()%1e4,t,4)}function x$(e,t){var n=e.getDay();return e=n>=4||n===0?zs(e):zs.ceil(e),qe(e.getFullYear()%1e4,t,4)}function b$(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+qe(t/60|0,"0",2)+qe(t%60,"0",2)}function mC(e,t){return qe(e.getUTCDate(),t,2)}function w$(e,t){return qe(e.getUTCHours(),t,2)}function _$(e,t){return qe(e.getUTCHours()%12||12,t,2)}function S$(e,t){return qe(1+qh.count(Si(e),e),t,3)}function CP(e,t){return qe(e.getUTCMilliseconds(),t,3)}function E$(e,t){return CP(e,t)+"000"}function T$(e,t){return qe(e.getUTCMonth()+1,t,2)}function A$(e,t){return qe(e.getUTCMinutes(),t,2)}function C$(e,t){return qe(e.getUTCSeconds(),t,2)}function N$(e){var t=e.getUTCDay();return t===0?7:t}function I$(e,t){return qe(Gh.count(Si(e)-1,e),t,2)}function NP(e){var t=e.getUTCDay();return t>=4||t===0?qs(e):qs.ceil(e)}function k$(e,t){return e=NP(e),qe(qs.count(Si(e),e)+(Si(e).getUTCDay()===4),t,2)}function R$(e){return e.getUTCDay()}function P$(e,t){return qe(Ff.count(Si(e)-1,e),t,2)}function O$(e,t){return qe(e.getUTCFullYear()%100,t,2)}function M$(e,t){return e=NP(e),qe(e.getUTCFullYear()%100,t,2)}function D$(e,t){return qe(e.getUTCFullYear()%1e4,t,4)}function j$(e,t){var n=e.getUTCDay();return e=n>=4||n===0?qs(e):qs.ceil(e),qe(e.getUTCFullYear()%1e4,t,4)}function L$(){return"+0000"}function gC(){return"%"}function vC(e){return+e}function yC(e){return Math.floor(+e/1e3)}var ls,IP,kP;U$({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function U$(e){return ls=UB(e),IP=ls.format,ls.parse,kP=ls.utcFormat,ls.utcParse,ls}function B$(e){return new Date(e)}function $$(e){return e instanceof Date?+e:+new Date(+e)}function Kx(e,t,n,r,i,o,l,u,d,f){var h=Ox(),g=h.invert,y=h.domain,b=f(".%L"),S=f(":%S"),E=f("%I:%M"),T=f("%I %p"),A=f("%a %d"),N=f("%b %d"),k=f("%B"),P=f("%Y");function R(O){return(d(O)<O?b:u(O)<O?S:l(O)<O?E:o(O)<O?T:r(O)<O?i(O)<O?A:N:n(O)<O?k:P)(O)}return h.invert=function(O){return new Date(g(O))},h.domain=function(O){return arguments.length?y(Array.from(O,$$)):y().map(B$)},h.ticks=function(O){var B=y();return e(B[0],B[B.length-1],O??10)},h.tickFormat=function(O,B){return B==null?R:f(B)},h.nice=function(O){var B=y();return(!O||typeof O.range!="function")&&(O=t(B[0],B[B.length-1],O??10)),O?y(gP(B,O)):h},h.copy=function(){return ec(h,Kx(e,t,n,r,i,o,l,u,d,f))},h}function z$(){return hr.apply(Kx(jB,LB,_i,Hx,Vh,tc,Vx,zx,to,IP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function q$(){return hr.apply(Kx(MB,DB,Si,Fx,Gh,qh,Gx,qx,to,kP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Hh(){var e=0,t=1,n,r,i,o,l=fn,u=!1,d;function f(g){return g==null||isNaN(g=+g)?d:l(i===0?.5:(g=(o(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t]=g,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(l=g,f):l};function h(g){return function(y){var b,S;return arguments.length?([b,S]=y,l=g(b,S),f):[l(0),l(1)]}}return f.range=h(Gs),f.rangeRound=h(Px),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return o=g,n=g(e),r=g(t),i=n===r?0:1/(r-n),f}}function _a(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function RP(){var e=wa(Hh()(fn));return e.copy=function(){return _a(e,RP())},Ri.apply(e,arguments)}function PP(){var e=jx(Hh()).domain([1,10]);return e.copy=function(){return _a(e,PP()).base(e.base())},Ri.apply(e,arguments)}function OP(){var e=Lx(Hh());return e.copy=function(){return _a(e,OP()).constant(e.constant())},Ri.apply(e,arguments)}function Wx(){var e=Ux(Hh());return e.copy=function(){return _a(e,Wx()).exponent(e.exponent())},Ri.apply(e,arguments)}function V$(){return Wx.apply(null,arguments).exponent(.5)}function MP(){var e=[],t=fn;function n(r){if(r!=null&&!isNaN(r=+r))return t((Zu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(va),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>N7(e,o/r))},n.copy=function(){return MP(t).domain(e)},Ri.apply(n,arguments)}function Fh(){var e=0,t=.5,n=1,r=1,i,o,l,u,d,f=fn,h,g=!1,y;function b(E){return isNaN(E=+E)?y:(E=.5+((E=+h(E))-o)*(r*E<r*o?u:d),f(g?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([e,t,n]=E,i=h(e=+e),o=h(t=+t),l=h(n=+n),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),r=o<i?-1:1,b):[e,t,n]},b.clamp=function(E){return arguments.length?(g=!!E,b):g},b.interpolator=function(E){return arguments.length?(f=E,b):f};function S(E){return function(T){var A,N,k;return arguments.length?([A,N,k]=T,f=tB(E,[A,N,k]),b):[f(0),f(.5),f(1)]}}return b.range=S(Gs),b.rangeRound=S(Px),b.unknown=function(E){return arguments.length?(y=E,b):y},function(E){return h=E,i=E(e),o=E(t),l=E(n),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),r=o<i?-1:1,b}}function DP(){var e=wa(Fh()(fn));return e.copy=function(){return _a(e,DP())},Ri.apply(e,arguments)}function jP(){var e=jx(Fh()).domain([.1,1,10]);return e.copy=function(){return _a(e,jP()).base(e.base())},Ri.apply(e,arguments)}function LP(){var e=Lx(Fh());return e.copy=function(){return _a(e,LP()).constant(e.constant())},Ri.apply(e,arguments)}function Yx(){var e=Ux(Fh());return e.copy=function(){return _a(e,Yx()).exponent(e.exponent())},Ri.apply(e,arguments)}function G$(){return Yx.apply(null,arguments).exponent(.5)}const du=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ix,scaleDiverging:DP,scaleDivergingLog:jP,scaleDivergingPow:Yx,scaleDivergingSqrt:G$,scaleDivergingSymlog:LP,scaleIdentity:mP,scaleImplicit:py,scaleLinear:pP,scaleLog:vP,scaleOrdinal:Nx,scalePoint:R7,scalePow:Bx,scaleQuantile:bP,scaleQuantize:wP,scaleRadial:xP,scaleSequential:RP,scaleSequentialLog:PP,scaleSequentialPow:Wx,scaleSequentialQuantile:MP,scaleSequentialSqrt:V$,scaleSequentialSymlog:OP,scaleSqrt:EB,scaleSymlog:yP,scaleThreshold:_P,scaleTime:z$,scaleUtc:q$,tickFormat:hP},Symbol.toStringTag,{value:"Module"}));var Pi=e=>e.chartData,UP=te([Pi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Jx=(e,t,n,r)=>r?UP(e):Pi(e),H$=(e,t,n)=>n?UP(e):Pi(e);function Ei(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Ue(t)&&Ue(n))return!0}return!1}function xC(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function BP(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(Ue(n))i=n;else if(typeof n=="function")return;if(Ue(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(Ei(l))return l}}function F$(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Ei(r))return xC(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(ye(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&RT.test(i)){var d=RT.exec(i);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t==null?void 0:t[0];if(o==="auto")t!=null&&(u=Math.max(...t));else if(ye(o))u=o;else if(typeof o=="function")try{t!=null&&(u=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&PT.test(o)){var h=PT.exec(o);if(h==null||h[1]==null||t==null)u=void 0;else{var g=+h[1];u=t[1]+g}}else u=t==null?void 0:t[1];var y=[l,u];if(Ei(y))return t==null?y:xC(y,t,n)}}}var Hs=1e9,K$={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Zx,ct=!0,dr="[DecimalError] ",oo=dr+"Invalid argument: ",Xx=dr+"Exponent out of range: ",Fs=Math.floor,Wa=Math.pow,W$=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qn,Ut=1e7,st=7,$P=9007199254740991,Kf=Fs($P/st),ge={};ge.absoluteValue=ge.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ge.comparedTo=ge.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*st;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ge.dividedBy=ge.div=function(e){return xi(this,new this.constructor(e))};ge.dividedToIntegerBy=ge.idiv=function(e){var t=this,n=t.constructor;return tt(xi(t,new n(e),0,1),n.precision)};ge.equals=ge.eq=function(e){return!this.cmp(e)};ge.exponent=function(){return Nt(this)};ge.greaterThan=ge.gt=function(e){return this.cmp(e)>0};ge.greaterThanOrEqualTo=ge.gte=function(e){return this.cmp(e)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(e){return this.cmp(e)<0};ge.lessThanOrEqualTo=ge.lte=function(e){return this.cmp(e)<1};ge.logarithm=ge.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(qn))throw Error(dr+"NaN");if(n.s<1)throw Error(dr+(n.s?"NaN":"-Infinity"));return n.eq(qn)?new r(0):(ct=!1,t=xi(Pu(n,o),Pu(e,o),o),ct=!0,tt(t,i))};ge.minus=ge.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?VP(t,e):zP(t,(e.s=-e.s,e))};ge.modulo=ge.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(dr+"NaN");return n.s?(ct=!1,t=xi(n,e,0,1).times(e),ct=!0,n.minus(t)):tt(new r(n),i)};ge.naturalExponential=ge.exp=function(){return qP(this)};ge.naturalLogarithm=ge.ln=function(){return Pu(this)};ge.negated=ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ge.plus=ge.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zP(t,e):VP(t,(e.s=-e.s,e))};ge.precision=ge.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(oo+e);if(t=Nt(i)+1,r=i.d.length-1,n=r*st+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ge.squareRoot=ge.sqrt=function(){var e,t,n,r,i,o,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(dr+"NaN")}for(e=Nt(u),ct=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=qr(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Fs((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(o=r,r=o.plus(xi(u,o,l+2)).times(.5),qr(o.d).slice(0,l)===(t=qr(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(tt(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(t!="9999")break;l+=4}return ct=!0,tt(r,n)};ge.times=ge.mul=function(e){var t,n,r,i,o,l,u,d,f,h=this,g=h.constructor,y=h.d,b=(e=new g(e)).d;if(!h.s||!e.s)return new g(0);for(e.s*=h.s,n=h.e+e.e,d=y.length,f=b.length,d<f&&(o=y,y=b,b=o,l=d,d=f,f=l),o=[],l=d+f,r=l;r--;)o.push(0);for(r=f;--r>=0;){for(t=0,i=d+r;i>r;)u=o[i]+b[r]*y[i-r-1]+t,o[i--]=u%Ut|0,t=u/Ut|0;o[i]=(o[i]+t)%Ut|0}for(;!o[--l];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,ct?tt(e,g.precision):e};ge.toDecimalPlaces=ge.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Kr(e,0,Hs),t===void 0?t=r.rounding:Kr(t,0,8),tt(n,e+Nt(n)+1,t))};ge.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=ho(r,!0):(Kr(e,0,Hs),t===void 0?t=i.rounding:Kr(t,0,8),r=tt(new i(r),e+1,t),n=ho(r,!0,e+1)),n};ge.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?ho(i):(Kr(e,0,Hs),t===void 0?t=o.rounding:Kr(t,0,8),r=tt(new o(i),e+Nt(i)+1,t),n=ho(r.abs(),!1,e+Nt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ge.toInteger=ge.toint=function(){var e=this,t=e.constructor;return tt(new t(e),Nt(e)+1,t.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(e){var t,n,r,i,o,l,u=this,d=u.constructor,f=12,h=+(e=new d(e));if(!e.s)return new d(qn);if(u=new d(u),!u.s){if(e.s<1)throw Error(dr+"Infinity");return u}if(u.eq(qn))return u;if(r=d.precision,e.eq(qn))return tt(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,o=u.s,l){if((n=h<0?-h:h)<=$P){for(i=new d(qn),t=Math.ceil(r/st+4),ct=!1;n%2&&(i=i.times(u),wC(i.d,t)),n=Fs(n/2),n!==0;)u=u.times(u),wC(u.d,t);return ct=!0,e.s<0?new d(qn).div(i):tt(i,r)}}else if(o<0)throw Error(dr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,ct=!1,i=e.times(Pu(u,r+f)),ct=!0,i=qP(i),i.s=o,i};ge.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Nt(i),r=ho(i,n<=o.toExpNeg||n>=o.toExpPos)):(Kr(e,1,Hs),t===void 0?t=o.rounding:Kr(t,0,8),i=tt(new o(i),e,t),n=Nt(i),r=ho(i,e<=n||n<=o.toExpNeg,e)),r};ge.toSignificantDigits=ge.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Kr(e,1,Hs),t===void 0?t=r.rounding:Kr(t,0,8)),tt(new r(n),e,t)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Nt(e),n=e.constructor;return ho(e,t<=n.toExpNeg||t>=n.toExpPos)};function zP(e,t){var n,r,i,o,l,u,d,f,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),ct?tt(t,g):t;if(d=e.d,f=t.d,l=e.e,i=t.e,d=d.slice(),o=l-i,o){for(o<0?(r=d,o=-o,u=f.length):(r=f,i=l,u=d.length),l=Math.ceil(g/st),u=l>u?l+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=d.length,o=f.length,u-o<0&&(o=u,r=f,f=d,d=r),n=0;o;)n=(d[--o]=d[o]+f[o]+n)/Ut|0,d[o]%=Ut;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,ct?tt(t,g):t}function Kr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(oo+e)}function qr(e){var t,n,r,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)r=e[t]+"",n=st-r.length,n&&(o+=ca(n)),o+=r;l=e[t],r=l+"",n=st-r.length,n&&(o+=ca(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var xi=(function(){function e(r,i){var o,l=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+l,r[u]=o%Ut|0,l=o/Ut|0;return l&&r.unshift(l),r}function t(r,i,o,l){var u,d;if(o!=l)d=o>l?1:-1;else for(u=d=0;u<o;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*Ut+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var u,d,f,h,g,y,b,S,E,T,A,N,k,P,R,O,B,K,D=r.constructor,G=r.s==i.s?1:-1,$=r.d,M=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(dr+"Division by zero");for(d=r.e-i.e,B=M.length,R=$.length,b=new D(G),S=b.d=[],f=0;M[f]==($[f]||0);)++f;if(M[f]>($[f]||0)&&--d,o==null?N=o=D.precision:l?N=o+(Nt(r)-Nt(i))+1:N=o,N<0)return new D(0);if(N=N/st+2|0,f=0,B==1)for(h=0,M=M[0],N++;(f<R||h)&&N--;f++)k=h*Ut+($[f]||0),S[f]=k/M|0,h=k%M|0;else{for(h=Ut/(M[0]+1)|0,h>1&&(M=e(M,h),$=e($,h),B=M.length,R=$.length),P=B,E=$.slice(0,B),T=E.length;T<B;)E[T++]=0;K=M.slice(),K.unshift(0),O=M[0],M[1]>=Ut/2&&++O;do h=0,u=t(M,E,B,T),u<0?(A=E[0],B!=T&&(A=A*Ut+(E[1]||0)),h=A/O|0,h>1?(h>=Ut&&(h=Ut-1),g=e(M,h),y=g.length,T=E.length,u=t(g,E,y,T),u==1&&(h--,n(g,B<y?K:M,y))):(h==0&&(u=h=1),g=M.slice()),y=g.length,y<T&&g.unshift(0),n(E,g,T),u==-1&&(T=E.length,u=t(M,E,B,T),u<1&&(h++,n(E,B<T?K:M,T))),T=E.length):u===0&&(h++,E=[0]),S[f++]=h,u&&E[0]?E[T++]=$[P]||0:(E=[$[P]],T=1);while((P++<R||E[0]!==void 0)&&N--)}return S[0]||S.shift(),b.e=d,tt(b,l?o+Nt(b)+1:o)}})();function qP(e,t){var n,r,i,o,l,u,d=0,f=0,h=e.constructor,g=h.precision;if(Nt(e)>16)throw Error(Xx+Nt(e));if(!e.s)return new h(qn);for(ct=!1,u=g,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(r=Math.log(Wa(2,f))/Math.LN10*2+5|0,u+=r,n=i=o=new h(qn),h.precision=u;;){if(i=tt(i.times(e),u),n=n.times(++d),l=o.plus(xi(i,n,u)),qr(l.d).slice(0,u)===qr(o.d).slice(0,u)){for(;f--;)o=tt(o.times(o),u);return h.precision=g,t==null?(ct=!0,tt(o,g)):o}o=l}}function Nt(e){for(var t=e.e*st,n=e.d[0];n>=10;n/=10)t++;return t}function iv(e,t,n){if(t>e.LN10.sd())throw ct=!0,n&&(e.precision=n),Error(dr+"LN10 precision limit exceeded");return tt(new e(e.LN10),t)}function ca(e){for(var t="";e--;)t+="0";return t}function Pu(e,t){var n,r,i,o,l,u,d,f,h,g=1,y=10,b=e,S=b.d,E=b.constructor,T=E.precision;if(b.s<1)throw Error(dr+(b.s?"NaN":"-Infinity"));if(b.eq(qn))return new E(0);if(t==null?(ct=!1,f=T):f=t,b.eq(10))return t==null&&(ct=!0),iv(E,f);if(f+=y,E.precision=f,n=qr(S),r=n.charAt(0),o=Nt(b),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=qr(b.d),r=n.charAt(0),g++;o=Nt(b),r>1?(b=new E("0."+n),o++):b=new E(r+"."+n.slice(1))}else return d=iv(E,f+2,T).times(o+""),b=Pu(new E(r+"."+n.slice(1)),f-y).plus(d),E.precision=T,t==null?(ct=!0,tt(b,T)):b;for(u=l=b=xi(b.minus(qn),b.plus(qn),f),h=tt(b.times(b),f),i=3;;){if(l=tt(l.times(h),f),d=u.plus(xi(l,new E(i),f)),qr(d.d).slice(0,f)===qr(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(iv(E,f+2,T).times(o+""))),u=xi(u,new E(g),f),E.precision=T,t==null?(ct=!0,tt(u,T)):u;u=d,i+=2}}function bC(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Fs(n/st),e.d=[],r=(n+1)%st,n<0&&(r+=st),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=st;r<i;)e.d.push(+t.slice(r,r+=st));t=t.slice(r),r=st-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),ct&&(e.e>Kf||e.e<-Kf))throw Error(Xx+n)}else e.s=0,e.e=0,e.d=[0];return e}function tt(e,t,n){var r,i,o,l,u,d,f,h,g=e.d;for(l=1,o=g[0];o>=10;o/=10)l++;if(r=t-l,r<0)r+=st,i=t,f=g[h=0];else{if(h=Math.ceil((r+1)/st),o=g.length,h>=o)return e;for(f=o=g[h],l=1;o>=10;o/=10)l++;r%=st,i=r-st+l}if(n!==void 0&&(o=Wa(10,l-i-1),u=f/o%10|0,d=t<0||g[h+1]!==void 0||f%o,d=n<4?(u||d)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?f/Wa(10,l-i):0:g[h-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return d?(o=Nt(e),g.length=1,t=t-o-1,g[0]=Wa(10,(st-t%st)%st),e.e=Fs(-t/st)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=h,o=1,h--):(g.length=h+1,o=Wa(10,st-r),g[h]=i>0?(f/Wa(10,l-i)%Wa(10,i)|0)*o:0),d)for(;;)if(h==0){(g[0]+=o)==Ut&&(g[0]=1,++e.e);break}else{if(g[h]+=o,g[h]!=Ut)break;g[h--]=0,o=1}for(r=g.length;g[--r]===0;)g.pop();if(ct&&(e.e>Kf||e.e<-Kf))throw Error(Xx+Nt(e));return e}function VP(e,t){var n,r,i,o,l,u,d,f,h,g,y=e.constructor,b=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),ct?tt(t,b):t;if(d=e.d,g=t.d,r=t.e,f=e.e,d=d.slice(),l=f-r,l){for(h=l<0,h?(n=d,l=-l,u=g.length):(n=g,r=f,u=d.length),i=Math.max(Math.ceil(b/st),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=g.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(d[i]!=g[i]){h=d[i]<g[i];break}l=0}for(h&&(n=d,d=g,g=n,t.s=-t.s),u=d.length,i=g.length-u;i>0;--i)d[u++]=0;for(i=g.length;i>l;){if(d[--i]<g[i]){for(o=i;o&&d[--o]===0;)d[o]=Ut-1;--d[o],d[i]+=Ut}d[i]-=g[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,ct?tt(t,b):t):new y(0)}function ho(e,t,n){var r,i=Nt(e),o=qr(e.d),l=o.length;return t?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+ca(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ca(-i-1)+o,n&&(r=n-l)>0&&(o+=ca(r))):i>=l?(o+=ca(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+ca(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=ca(r))),e.s<0?"-"+o:o}function wC(e,t){if(e.length>t)return e.length=t,!0}function GP(e){var t,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(oo+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return bC(l,o.toString())}else if(typeof o!="string")throw Error(oo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,W$.test(o))bC(l,o);else throw Error(oo+o)}if(i.prototype=ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=GP,i.config=i.set=Y$,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Y$(e){if(!e||typeof e!="object")throw Error(dr+"Object expected");var t,n,r,i=["precision",1,Hs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Fs(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(oo+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(oo+n+": "+r);return this}var Zx=GP(K$);qn=new Zx(1);const Ke=Zx;function HP(e){var t;return e===0?t=1:t=Math.floor(new Ke(e).abs().log(10).toNumber())+1,t}function FP(e,t,n){for(var r=new Ke(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var KP=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},WP=(e,t,n)=>{if(e.lte(0))return new Ke(0);var r=HP(e.toNumber()),i=new Ke(10).pow(r),o=e.div(i),l=r!==1?.05:.1,u=new Ke(Math.ceil(o.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return t?new Ke(d.toNumber()):new Ke(Math.ceil(d.toNumber()))},J$=(e,t,n)=>{var r=new Ke(1),i=new Ke(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new Ke(10).pow(HP(e)-1),i=new Ke(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ke(Math.floor(e)))}else e===0?i=new Ke(Math.floor((t-1)/2)):n||(i=new Ke(Math.floor(e)));for(var l=Math.floor((t-1)/2),u=[],d=0;d<t;d++)u.push(i.add(new Ke(d-l).mul(r)).toNumber());return u},YP=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ke(0),tickMin:new Ke(0),tickMax:new Ke(0)};var l=WP(new Ke(n).sub(t).div(r-1),i,o),u;t<=0&&n>=0?u=new Ke(0):(u=new Ke(t).add(n).div(2),u=u.sub(new Ke(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),f=Math.ceil(new Ke(n).sub(u).div(l).toNumber()),h=d+f+1;return h>r?YP(t,n,r,i,o+1):(h<r&&(f=n>0?f+(r-h):f,d=n>0?d:d+(r-h)),{step:l,tickMin:u.sub(new Ke(d).mul(l)),tickMax:u.add(new Ke(f).mul(l))})},X$=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,d]=KP([n,r]);if(u===-1/0||d===1/0){var f=d===1/0?[u,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),d];return n>r?f.reverse():f}if(u===d)return J$(u,i,o);var{step:h,tickMin:g,tickMax:y}=YP(u,d,l,o,0),b=FP(g,y.add(new Ke(.1).mul(h)),h);return n>r?b.reverse():b},Z$=function(t,n){var[r,i]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=KP([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(n,2),f=WP(new Ke(u).sub(l).div(d-1),o,0),h=[...FP(new Ke(l),new Ke(u),f),u];return o===!1&&(h=h.map(g=>Math.round(g))),r>i?h.reverse():h},JP=e=>e.rootProps.maxBarSize,Q$=e=>e.rootProps.barGap,XP=e=>e.rootProps.barCategoryGap,ez=e=>e.rootProps.barSize,Kh=e=>e.rootProps.stackOffset,ZP=e=>e.rootProps.reverseStackOrder,Qx=e=>e.options.chartName,eb=e=>e.rootProps.syncId,QP=e=>e.rootProps.syncMethod,tb=e=>e.options.eventEmitter,Bt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Va={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Ur={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Wh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function nb(e,t,n){if(n!=="auto")return n;if(e!=null)return Ni(e,t)?"category":"number"}function _C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_C(Object(n),!0).forEach(function(r){tz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tz(e,t,n){return(t=nz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nz(e){var t=rz(e,"string");return typeof t=="symbol"?t:t+""}function rz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SC={allowDataOverflow:Va.allowDataOverflow,allowDecimals:Va.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Va.angleAxisId,includeHidden:!1,name:void 0,reversed:Va.reversed,scale:Va.scale,tick:Va.tick,tickCount:void 0,ticks:void 0,type:Va.type,unit:void 0},EC={allowDataOverflow:Ur.allowDataOverflow,allowDecimals:Ur.allowDecimals,allowDuplicatedCategory:Ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ur.radiusAxisId,includeHidden:Ur.includeHidden,name:void 0,reversed:Ur.reversed,scale:Ur.scale,tick:Ur.tick,tickCount:Ur.tickCount,ticks:void 0,type:Ur.type,unit:void 0},iz=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},rb=te([iz,$R],(e,t)=>{var n;if(e!=null)return e;var r=(n=nb(t,"angleAxis",SC.type))!==null&&n!==void 0?n:"category";return Wf(Wf({},SC),{},{type:r})}),az=(e,t)=>e.polarAxis.radiusAxis[t],ib=te([az,$R],(e,t)=>{var n;if(e!=null)return e;var r=(n=nb(t,"radiusAxis",EC.type))!==null&&n!==void 0?n:"category";return Wf(Wf({},EC),{},{type:r})}),Yh=e=>e.polarOptions,ab=te([Ii,ki,$t],n7),eO=te([Yh,ab],(e,t)=>{if(e!=null)return Nr(e.innerRadius,t,0)}),tO=te([Yh,ab],(e,t)=>{if(e!=null)return Nr(e.outerRadius,t,t*.8)}),oz=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},nO=te([Yh],oz);te([rb,nO],Wh);var rO=te([ab,eO,tO],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});te([ib,rO],Wh);var iO=te([We,Yh,eO,tO,Ii,ki],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:f}=t;return{cx:Nr(l,i,i/2),cy:Nr(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),qt=(e,t)=>t,Jh=(e,t,n)=>n;function ob(e){return e==null?void 0:e.id}function aO(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return e.forEach(u=>{var d,f=(d=u.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var h=ob(u);f.forEach((g,y)=>{var b=o==null||i?y:String(Ct(g,o,null)),S=Ct(g,u.dataKey,0),E;l.has(b)?E=l.get(b):E={},Object.assign(E,{[h]:S}),l.set(b,E)})}}),Array.from(l.values())}function Xh(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Zh=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Qh(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function sz(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Vt=e=>{var t=We(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ks=e=>e.tooltip.settings.axisId;function lz(e){if(e in du)return du[e]();var t="scale".concat(Fu(e));if(t in du)return du[t]()}function TC(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:(function(o){function l(){return o.apply(this,arguments)}return l.toString=function(){return o.toString()},l})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(o){var l=i[0],u=i[1];return l<=u?o>=l&&o<=u:o>=u&&o<=l},bandwidth:n?()=>n.call(e):void 0,ticks:t?o=>t.call(e,o):void 0,map:(o,l)=>{var u=e(o);if(u!=null){if(e.bandwidth&&l!==null&&l!==void 0&&l.position){var d=e.bandwidth();switch(l.position){case"middle":u+=d/2;break;case"end":u+=d;break}}return u}}}}function AC(e,t,n){if(typeof e=="function")return TC(e.copy().domain(t).range(n));if(e!=null){var r=lz(e);if(r!=null)return r.domain(t).range(n),TC(r)}}var uz=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Ei(t)){for(var n,r,i=0;i<t.length;i++){var o=t[i];Ue(o)&&((n===void 0||o<n)&&(n=o),(r===void 0||o>r)&&(r=o))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function CC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(n),!0).forEach(function(r){cz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cz(e,t,n){return(t=dz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dz(e){var t=fz(e,"string");return typeof t=="symbol"?t:t+""}function fz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yy=[0,"auto"],Lt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},oO=(e,t)=>e.cartesianAxis.xAxis[t],Oi=(e,t)=>{var n=oO(e,t);return n??Lt},sO={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:yy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Yu},hz=(e,t)=>e.cartesianAxis.yAxis[t],Mi=(e,t)=>{var n=hz(e,t);return n??sO},pz={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},sb=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??pz},vn=(e,t,n)=>{switch(t){case"xAxis":return Oi(e,n);case"yAxis":return Mi(e,n);case"zAxis":return sb(e,n);case"angleAxis":return rb(e,n);case"radiusAxis":return ib(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},mz=(e,t,n)=>{switch(t){case"xAxis":return Oi(e,n);case"yAxis":return Mi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},nc=(e,t,n)=>{switch(t){case"xAxis":return Oi(e,n);case"yAxis":return Mi(e,n);case"angleAxis":return rb(e,n);case"radiusAxis":return ib(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},lO=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function uO(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var ep=e=>e.graphicalItems.cartesianItems,gz=te([qt,Jh],uO),cO=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),rc=te([ep,vn,gz],cO,{memoizeOptions:{resultEqualityCheck:Qh}}),dO=te([rc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Xh)),fO=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),vz=te([rc],fO),hO=e=>e.map(t=>t.data).filter(Boolean).flat(1),yz=te([rc],hO,{memoizeOptions:{resultEqualityCheck:Qh}}),pO=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},lb=te([yz,Jx],pO),mO=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ct(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Ct(i,r)}))):e.map(r=>({value:r})),tp=te([lb,vn,rc],mO);function gO(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function sf(e){if(Hr(e)||e instanceof Date){var t=Number(e);if(Ue(t))return t}}function NC(e){if(Array.isArray(e)){var t=[sf(e[0]),sf(e[1])];return Ei(t)?t:void 0}var n=sf(e);if(n!=null)return[n,n]}function Ti(e){return e.map(sf).filter(An)}function xz(e,t,n){return!n||typeof t!="number"||Gr(t)?[]:n.length?Ti(n.flatMap(r=>{var i=Ct(e,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!Ue(o)||!Ue(l)))return[t-o,t+l]})):[]}var Mt=e=>{var t=Vt(e),n=Ks(e);return nc(e,t,n)},ic=te([Mt],e=>e==null?void 0:e.dataKey),bz=te([dO,Jx,Mt],aO),vO=(e,t,n,r)=>{var i={},o=t.reduce((l,u)=>{if(u.stackId==null)return l;var d=l[u.stackId];return d==null&&(d=[]),d.push(u),l[u.stackId]=d,l},i);return Object.fromEntries(Object.entries(o).map(l=>{var[u,d]=l,f=r?[...d].reverse():d,h=f.map(ob);return[u,{stackedData:FL(e,h,n),graphicalItems:f}]}))},xy=te([bz,dO,Kh,ZP],vO),yO=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var l=XL(e,i,o);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},wz=te([vn],e=>e.allowDataOverflow),ub=e=>{var t;if(e==null||!("domain"in e))return yy;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Ti(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:yy},xO=te([vn],ub),bO=te([xO,wz],BP),_z=te([xy,Pi,qt,bO],yO,{memoizeOptions:{resultEqualityCheck:Zh}}),cb=e=>e.errorBars,Sz=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>gO(n,r)),Jf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),u=Math.max(...o);return[l,u]}},wO=(e,t,n,r,i)=>{var o,l;if(n.length>0&&e.forEach(u=>{n.forEach(d=>{var f,h,g=(f=r[d.id])===null||f===void 0?void 0:f.filter(A=>gO(i,A)),y=Ct(u,(h=t.dataKey)!==null&&h!==void 0?h:d.dataKey),b=xz(u,y,g);if(b.length>=2){var S=Math.min(...b),E=Math.max(...b);(o==null||S<o)&&(o=S),(l==null||E>l)&&(l=E)}var T=NC(y);T!=null&&(o=o==null?T[0]:Math.min(o,T[0]),l=l==null?T[1]:Math.max(l,T[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(u=>{var d=NC(Ct(u,t.dataKey));d!=null&&(o=o==null?d[0]:Math.min(o,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),Ue(o)&&Ue(l))return[o,l]},Ez=te([lb,vn,vz,cb,qt],wO,{memoizeOptions:{resultEqualityCheck:Zh}});function Tz(e){var{value:t}=e;if(Hr(t)||t instanceof Date)return t}var Az=(e,t,n)=>{var r=e.map(Tz).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&jk(r))?iP(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},_O=e=>e.referenceElements.dots,Ws=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Cz=te([_O,qt,Jh],Ws),SO=e=>e.referenceElements.areas,Nz=te([SO,qt,Jh],Ws),EO=e=>e.referenceElements.lines,Iz=te([EO,qt,Jh],Ws),TO=(e,t)=>{if(e!=null){var n=Ti(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},kz=te(Cz,qt,TO),AO=(e,t)=>{if(e!=null){var n=Ti(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Rz=te([Nz,qt],AO);function Pz(e){var t;if(e.x!=null)return Ti([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Ti(n)}function Oz(e){var t;if(e.y!=null)return Ti([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Ti(n)}var CO=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?Pz(r):Oz(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Mz=te([Iz,qt],CO),Dz=te(kz,Mz,Rz,(e,t,n)=>Jf(e,n,t)),NO=(e,t,n,r,i,o,l,u)=>{if(n!=null)return n;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",f=d?Jf(r,o,i):Jf(o,i);return F$(t,f,e.allowDataOverflow)},jz=te([vn,xO,bO,_z,Ez,Dz,We,qt],NO,{memoizeOptions:{resultEqualityCheck:Zh}}),Lz=[0,1],IO=(e,t,n,r,i,o,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=e,f=Ni(t,o);if(f&&u==null){var h;return iP(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return d==="category"?Az(r,e,f):i==="expand"?Lz:l}},db=te([vn,We,lb,tp,Kh,qt,jz],IO);function Uz(e){return e in du}var kO=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var o="scale".concat(Fu(r));return Uz(o)?o:"point"}}},Ys=te([vn,lO,Qx],kO);function fb(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?AC(e.scale,n,r):AC(t,n,r)}var RO=(e,t,n)=>{var r=ub(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ei(e))return X$(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ei(e))return Z$(e,t.tickCount,t.allowDecimals)}},hb=te([db,nc,Ys],RO),PO=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ei(t)&&Array.isArray(n)&&n.length>0){var i,o,l=t[0],u=(i=n[0])!==null&&i!==void 0?i:0,d=t[1],f=(o=n[n.length-1])!==null&&o!==void 0?o:0;return[Math.min(l,u),Math.max(d,f)]}return t},Bz=te([vn,db,hb,qt],PO),$z=te(tp,vn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ti(e.map(g=>g.value))).sort((g,y)=>g-y),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var l=o-i;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var d=r[u],f=r[u+1];if(!(d==null||f==null)){var h=f-d;n=Math.min(n,h)}}return n/l}}),OO=te($z,We,XP,$t,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Ue(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var l=Nr(n,e*o),u=e*o/2;return u-l-(u-l)/o*l}return 0}),zz=(e,t,n)=>{var r=Oi(e,t);return r==null||typeof r.padding!="string"?0:OO(e,"xAxis",t,n,r.padding)},qz=(e,t,n)=>{var r=Mi(e,t);return r==null||typeof r.padding!="string"?0:OO(e,"yAxis",t,n,r.padding)},Vz=te(Oi,zz,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),Gz=te(Mi,qz,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),Hz=te([$t,Vz,Oh,Ph,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),Fz=te([$t,We,Gz,Oh,Ph,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),ac=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Hz(e,n,r);case"yAxis":return Fz(e,n,r);case"zAxis":return(i=sb(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return nO(e);case"radiusAxis":return rO(e,n);default:return}},MO=te([vn,ac],Wh),Kz=te([Ys,Bz],uz),np=te([vn,Ys,Kz,MO],fb);te([rc,cb,qt],Sz);function DO(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var rp=(e,t)=>t,ip=(e,t,n)=>n,Wz=te(kh,rp,ip,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(DO)),Yz=te(Rh,rp,ip,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(DO)),jO=(e,t)=>({width:e.width,height:t.height}),Jz=(e,t)=>{var n=typeof t.width=="number"?t.width:Yu;return{width:n,height:e.height}},LO=te($t,Oi,jO),Xz=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Zz=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Qz=te(ki,$t,Wz,rp,ip,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var d=jO(t,u);l==null&&(l=Xz(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;o[u.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),o}),eq=te(Ii,$t,Yz,rp,ip,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var d=Jz(t,u);l==null&&(l=Zz(t,r,e));var f=r==="left"&&!i||r==="right"&&i;o[u.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),o}),tq=(e,t)=>{var n=Oi(e,t);if(n!=null)return Qz(e,n.orientation,n.mirror)},nq=te([$t,Oi,tq,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),rq=(e,t)=>{var n=Mi(e,t);if(n!=null)return eq(e,n.orientation,n.mirror)};te([$t,Mi,rq,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}});var iq=te($t,Mi,(e,t)=>{var n=typeof t.width=="number"?t.width:Yu;return{width:n,height:e.height}}),IC=(e,t,n)=>{switch(t){case"xAxis":return LO(e,n).width;case"yAxis":return iq(e,n).height;default:return}},UO=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,u=Ni(e,r),d=t.map(f=>f.value);if(l&&u&&o==="category"&&i&&jk(d))return d}},pb=te([We,tp,vn,qt],UO),BO=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=Ni(e,r);if(l&&(i==="number"||o!=="auto"))return t.map(u=>u.value)}},mb=te([We,tp,nc,qt],BO),kC=te([We,mz,Ys,np,pb,mb,ac,hb,qt],(e,t,n,r,i,o,l,u,d)=>{if(t!=null){var f=Ni(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:u,range:l,realScaleType:n,scale:r}}}),aq=(e,t,n,r,i,o,l,u,d)=>{if(!(t==null||r==null)){var f=Ni(e,d),{type:h,ticks:g,tickCount:y}=t,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=h==="category"&&r.bandwidth?r.bandwidth()/b:0;S=d==="angleAxis"&&o!=null&&o.length>=2?Tn(o[0]-o[1])*2*S:S;var E=g||i;return E?E.map((T,A)=>{var N=l?l.indexOf(T):T,k=r.map(N);return Ue(k)?{index:A,coordinate:k+S,value:T,offset:S}:null}).filter(An):f&&u?u.map((T,A)=>{var N=r.map(T);return Ue(N)?{coordinate:N+S,value:T,index:A,offset:S}:null}).filter(An):r.ticks?r.ticks(y).map((T,A)=>{var N=r.map(T);return Ue(N)?{coordinate:N+S,value:T,index:A,offset:S}:null}).filter(An):r.domain().map((T,A)=>{var N=r.map(T);return Ue(N)?{coordinate:N+S,value:l?l[T]:T,index:A,offset:S}:null}).filter(An)}},oq=te([We,nc,Ys,np,hb,ac,pb,mb,qt],aq),sq=(e,t,n,r,i,o,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=Ni(e,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Tn(r[0]-r[1])*2*f:f,u&&o?o.map((h,g)=>{var y=n.map(h);return Ue(y)?{coordinate:y+f,value:h,index:g,offset:f}:null}).filter(An):n.ticks?n.ticks(d).map((h,g)=>{var y=n.map(h);return Ue(y)?{coordinate:y+f,value:h,index:g,offset:f}:null}).filter(An):n.domain().map((h,g)=>{var y=n.map(h);return Ue(y)?{coordinate:y+f,value:i?i[h]:h,index:g,offset:f}:null}).filter(An)}},xa=te([We,nc,np,ac,pb,mb,qt],sq),ba=te(vn,np,(e,t)=>{if(!(e==null||t==null))return Yf(Yf({},e),{},{scale:t})}),lq=te([vn,Ys,db,MO],fb);te((e,t,n)=>sb(e,n),lq,(e,t)=>{if(!(e==null||t==null))return Yf(Yf({},e),{},{scale:t})});var uq=te([We,kh,Rh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),$O=e=>e.options.defaultTooltipEventType,zO=e=>e.options.validateTooltipEventTypes;function qO(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function gb(e,t){var n=$O(e),r=zO(e);return qO(t,n,r)}function cq(e){return Ee(t=>gb(t,e))}var VO=(e,t)=>{var n,r=Number(t);if(!(Gr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},dq=e=>e.tooltip.settings,ha={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},fq={itemInteraction:{click:ha,hover:ha},axisInteraction:{click:ha,hover:ha},keyboardInteraction:ha,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},GO=kn({name:"tooltip",initialState:fq,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ut()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Er(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:ut()},removeTooltipEntrySettings:{reducer(e,t){var n=Er(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:ut()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:hq,replaceTooltipEntrySettings:pq,removeTooltipEntrySettings:mq,setTooltipSettingsState:gq,setActiveMouseOverItemIndex:HO,mouseLeaveItem:vq,mouseLeaveChart:FO,setActiveClickItemIndex:yq,setMouseOverAxisIndex:KO,setMouseClickAxisIndex:xq,setSyncInteraction:by,setKeyboardInteraction:wy}=GO.actions,bq=GO.reducer;function RC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(n),!0).forEach(function(r){wq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wq(e,t,n){return(t=_q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _q(e){var t=Sq(e,"string");return typeof t=="symbol"?t:t+""}function Sq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eq(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Tq(e){return e.index!=null}var WO=(e,t,n,r)=>{if(t==null)return ha;var i=Eq(e,t,n);if(i==null)return ha;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(Tq(i)){if(o)return $d($d({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return $d($d({},ha),{},{coordinate:i.coordinate})};function Aq(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function Cq(e,t){var n=Aq(e),r=t[0],i=t[1];if(n===void 0)return!1;var o=Math.min(r,i),l=Math.max(r,i);return n>=o&&n<=l}function Nq(e,t,n){if(n==null||t==null)return!0;var r=Ct(e,t);return r==null||!Ei(n)?!0:Cq(r,n)}var vb=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var o=Number(i);if(!Ue(o))return i;var l=0,u=1/0;t.length>0&&(u=t.length-1);var d=Math.max(l,Math.min(o,u)),f=t[d];return f==null||Nq(f,n,r)?String(d):null},YO=(e,t,n,r,i,o,l)=>{if(o!=null){var u=l[0],d=u==null?void 0:u.getPosition(o);if(d!=null)return d;var f=i==null?void 0:i[Number(o)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:f.coordinate}}}},JO=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},XO=e=>e.options.tooltipPayloadSearcher,Js=e=>e.tooltip;function PC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PC(Object(n),!0).forEach(function(r){Iq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iq(e,t,n){return(t=kq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kq(e){var t=Rq(e,"string");return typeof t=="symbol"?t:t+""}function Rq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pq(e,t){return e??t}var ZO=(e,t,n,r,i,o,l)=>{if(!(t==null||o==null)){var{chartData:u,computedData:d,dataStartIndex:f,dataEndIndex:h}=n,g=[];return e.reduce((y,b)=>{var S,{dataDefinedOnItem:E,settings:T}=b,A=Pq(E,u),N=Array.isArray(A)?NR(A,f,h):A,k=(S=T==null?void 0:T.dataKey)!==null&&S!==void 0?S:r,P=T==null?void 0:T.nameKey,R;if(r&&Array.isArray(N)&&!Array.isArray(N[0])&&l==="axis"?R=Lk(N,r,i):R=o(N,t,d,P),Array.isArray(R))R.forEach(B=>{var K=OC(OC({},T),{},{name:B.name,unit:B.unit,color:void 0,fill:void 0});y.push(OT({tooltipEntrySettings:K,dataKey:B.dataKey,payload:B.payload,value:Ct(B.payload,B.dataKey),name:B.name}))});else{var O;y.push(OT({tooltipEntrySettings:T,dataKey:k,payload:R,value:Ct(R,k),name:(O=Ct(R,P))!==null&&O!==void 0?O:T==null?void 0:T.name}))}return y},g)}},yb=te([Mt,lO,Qx],kO),Oq=te([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Mq=te([Vt,Ks],uO),Xs=te([Oq,Mt,Mq],cO,{memoizeOptions:{resultEqualityCheck:Qh}}),Dq=te([Xs],e=>e.filter(Xh)),jq=te([Xs],hO,{memoizeOptions:{resultEqualityCheck:Qh}}),Zs=te([jq,Pi],pO),Lq=te([Dq,Pi,Mt],aO),xb=te([Zs,Mt,Xs],mO),QO=te([Mt],ub),Uq=te([Mt],e=>e.allowDataOverflow),eM=te([QO,Uq],BP),Bq=te([Xs],e=>e.filter(Xh)),$q=te([Lq,Bq,Kh,ZP],vO),zq=te([$q,Pi,Vt,eM],yO),qq=te([Xs],fO),Vq=te([Zs,Mt,qq,cb,Vt],wO,{memoizeOptions:{resultEqualityCheck:Zh}}),Gq=te([_O,Vt,Ks],Ws),Hq=te([Gq,Vt],TO),Fq=te([SO,Vt,Ks],Ws),Kq=te([Fq,Vt],AO),Wq=te([EO,Vt,Ks],Ws),Yq=te([Wq,Vt],CO),Jq=te([Hq,Yq,Kq],Jf),Xq=te([Mt,QO,eM,zq,Vq,Jq,We,Vt],NO),oc=te([Mt,We,Zs,xb,Kh,Vt,Xq],IO),Zq=te([oc,Mt,yb],RO),Qq=te([Mt,oc,Zq,Vt],PO),tM=e=>{var t=Vt(e),n=Ks(e),r=!1;return ac(e,t,n,r)},nM=te([Mt,tM],Wh),rM=te([Mt,yb,Qq,nM],fb),eV=te([We,xb,Mt,Vt],UO),tV=te([We,xb,Mt,Vt],BO),nV=(e,t,n,r,i,o,l,u)=>{if(t){var{type:d}=t,f=Ni(e,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/h:0;return g=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Tn(i[0]-i[1])*2*g:g,f&&l?l.map((y,b)=>{var S=r.map(y);return Ue(S)?{coordinate:S+g,value:y,index:b,offset:g}:null}).filter(An):r.domain().map((y,b)=>{var S=r.map(y);return Ue(S)?{coordinate:S+g,value:o?o[y]:y,index:b,offset:g}:null}).filter(An)}}},Di=te([We,Mt,yb,rM,tM,eV,tV,Vt],nV),bb=te([$O,zO,dq],(e,t,n)=>qO(n.shared,e,t)),iM=e=>e.tooltip.settings.trigger,wb=e=>e.tooltip.settings.defaultIndex,sc=te([Js,bb,iM,wb],WO),po=te([sc,Zs,ic,oc],vb),aM=te([Di,po],VO),oM=te([sc],e=>{if(e)return e.dataKey});te([sc],e=>{if(e)return e.graphicalItemId});var sM=te([Js,bb,iM,wb],JO),rV=te([Ii,ki,We,$t,Di,wb,sM],YO),iV=te([sc,rV],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),aV=te([sc],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),oV=te([sM,po,Pi,ic,aM,XO,bb],ZO),sV=te([oV],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function MC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MC(Object(n),!0).forEach(function(r){lV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lV(e,t,n){return(t=uV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uV(e){var t=cV(e,"string");return typeof t=="symbol"?t:t+""}function cV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dV=()=>Ee(Mt),fV=()=>{var e=dV(),t=Ee(Di),n=Ee(rM);return Us(!e||!n?void 0:DC(DC({},e),{},{scale:n}),t)};function jC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function us(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(n),!0).forEach(function(r){hV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hV(e,t,n){return(t=pV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pV(e){var t=mV(e,"string");return typeof t=="symbol"?t:t+""}function mV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gV=(e,t,n,r)=>{var i=t.find(o=>o&&o.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},vV=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var o=i.coordinate,{radius:l}=r;return us(us(us({},r),rn(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,{angle:d}=r;return us(us(us({},r),rn(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function yV(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var lM=(e,t,n,r,i)=>{var o,l=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d,f,h,g,y,b=u>0?(d=n[u-1])===null||d===void 0?void 0:d.coordinate:(f=n[l-1])===null||f===void 0?void 0:f.coordinate,S=(h=n[u])===null||h===void 0?void 0:h.coordinate,E=u>=l-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(y=n[u+1])===null||y===void 0?void 0:y.coordinate,T=void 0;if(!(b==null||S==null||E==null))if(Tn(S-b)!==Tn(E-S)){var A=[];if(Tn(E-S)===Tn(i[1]-i[0])){T=E;var N=S+i[1]-i[0];A[0]=Math.min(N,(N+b)/2),A[1]=Math.max(N,(N+b)/2)}else{T=b;var k=E+i[1]-i[0];A[0]=Math.min(S,(k+S)/2),A[1]=Math.max(S,(k+S)/2)}var P=[Math.min(S,(T+S)/2),Math.max(S,(T+S)/2)];if(e>P[0]&&e<=P[1]||e>=A[0]&&e<=A[1]){var R;return(R=n[u])===null||R===void 0?void 0:R.index}}else{var O=Math.min(b,E),B=Math.max(b,E);if(e>(O+S)/2&&e<=(B+S)/2){var K;return(K=n[u])===null||K===void 0?void 0:K.index}}}else if(t)for(var D=0;D<l;D++){var G=t[D];if(G!=null){var $=t[D+1],M=t[D-1];if(D===0&&$!=null&&e<=(G.coordinate+$.coordinate)/2||D===l-1&&M!=null&&e>(G.coordinate+M.coordinate)/2||D>0&&D<l-1&&M!=null&&$!=null&&e>(G.coordinate+M.coordinate)/2&&e<=(G.coordinate+$.coordinate)/2)return G.index}}return-1},xV=()=>Ee(Qx),_b=(e,t)=>t,uM=(e,t,n)=>n,Sb=(e,t,n,r)=>r,bV=te(Di,e=>xh(e,t=>t.coordinate)),Eb=te([Js,_b,uM,Sb],WO),Tb=te([Eb,Zs,ic,oc],vb),wV=(e,t,n)=>{if(t!=null){var r=Js(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},cM=te([Js,_b,uM,Sb],JO),Xf=te([Ii,ki,We,$t,Di,Sb,cM],YO),_V=te([Eb,Xf],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),dM=te([Di,Tb],VO),SV=te([cM,Tb,Pi,ic,dM,XO,_b],ZO),EV=te([Eb,Tb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),TV=(e,t,n,r,i,o,l)=>{if(!(!e||!n||!r||!i)&&yV(e,l)){var u=ZL(e,t),d=lM(u,o,i,n,r),f=gV(t,i,d,e);return{activeIndex:String(d),activeCoordinate:f}}},AV=(e,t,n,r,i,o,l)=>{if(!(!e||!r||!i||!o||!n)){var u=s7(e,n);if(u){var d=QL(u,t),f=lM(d,l,o,r,i),h=vV(t,o,f,u);return{activeIndex:String(f),activeCoordinate:h}}}},CV=(e,t,n,r,i,o,l,u)=>{if(!(!e||!t||!r||!i||!o))return t==="horizontal"||t==="vertical"?TV(e,t,r,i,o,l,u):AV(e,t,n,r,i,o,l)},NV=te(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),IV=te(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Bt)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:sz}});function LC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(n),!0).forEach(function(r){kV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kV(e,t,n){return(t=RV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RV(e){var t=PV(e,"string");return typeof t=="symbol"?t:t+""}function PV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OV={},MV={zIndexMap:Object.values(Bt).reduce((e,t)=>UC(UC({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),OV)},DV=new Set(Object.values(Bt));function jV(e){return DV.has(e)}var fM=kn({name:"zIndex",initialState:MV,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:ut()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!jV(n)&&delete e.zIndexMap[n])},prepare:ut()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:ut()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:ut()}}}),{registerZIndexPortal:LV,unregisterZIndexPortal:UV,registerZIndexPortalElement:BV,unregisterZIndexPortalElement:$V}=fM.actions,zV=fM.reducer;function pr(e){var{zIndex:t,children:n}=e,r=PU(),i=r&&t!==void 0&&t!==0,o=gn(),l=Pt();C.useLayoutEffect(()=>i?(l(LV({zIndex:t})),()=>{l(UV({zIndex:t}))}):go,[l,t,i]);var u=Ee(d=>NV(d,t,o));return i?u?yk.createPortal(n,u):null:n}function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_y.apply(null,arguments)}function BC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BC(Object(n),!0).forEach(function(r){qV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qV(e,t,n){return(t=VV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VV(e){var t=GV(e,"string");return typeof t=="symbol"?t:t+""}function GV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HV(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return C.isValidElement(t)?C.cloneElement(t,r):C.createElement(n,r)}function FV(e){var t,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:f,chartName:h}=e,g=n,y=r,b=i;if(!d||!g||h!=="ScatterChart"&&f!=="axis")return null;var S,E,T;if(h==="ScatterChart")S=g,E=b9,T=Bt.cursorLine;else if(h==="BarChart")S=w9(u,g,o,l),E=eP,T=Bt.cursorRectangle;else if(u==="radial"&&$k(g)){var{cx:A,cy:N,radius:k,startAngle:P,endAngle:R}=tP(g);S={cx:A,cy:N,startAngle:P,endAngle:R,innerRadius:k,outerRadius:k},E=rP,T=Bt.cursorLine}else S={points:d7(u,g,o)},E=YR,T=Bt.cursorLine;var O=typeof d=="object"&&"className"in d?d.className:void 0,B=zd(zd(zd(zd({stroke:"#ccc",pointerEvents:"none"},o),S),Hu(d)),{},{payload:y,payloadIndex:b,className:nt("recharts-tooltip-cursor",O)});return C.createElement(pr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:T},C.createElement(HV,{cursor:d,cursorComp:E,cursorProps:B}))}function KV(e){var t=fV(),n=LR(),r=vo(),i=xV();return t==null||n==null||r==null||i==null?null:C.createElement(FV,_y({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var hM=C.createContext(null),WV=()=>C.useContext(hM),av={exports:{}},$C;function YV(){return $C||($C=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function o(d,f,h,g,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new i(h,g||d,y),S=n?n+f:f;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],b]:d._events[S].push(b):(d._events[S]=b,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,g;if(this._eventsCount===0)return f;for(g in h=this._events)t.call(h,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,b=g.length,S=new Array(b);y<b;y++)S[y]=g[y].fn;return S},u.prototype.listenerCount=function(f){var h=n?n+f:f,g=this._events[h];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,h,g,y,b,S){var E=n?n+f:f;if(!this._events[E])return!1;var T=this._events[E],A=arguments.length,N,k;if(T.fn){switch(T.once&&this.removeListener(f,T.fn,void 0,!0),A){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,g),!0;case 4:return T.fn.call(T.context,h,g,y),!0;case 5:return T.fn.call(T.context,h,g,y,b),!0;case 6:return T.fn.call(T.context,h,g,y,b,S),!0}for(k=1,N=new Array(A-1);k<A;k++)N[k-1]=arguments[k];T.fn.apply(T.context,N)}else{var P=T.length,R;for(k=0;k<P;k++)switch(T[k].once&&this.removeListener(f,T[k].fn,void 0,!0),A){case 1:T[k].fn.call(T[k].context);break;case 2:T[k].fn.call(T[k].context,h);break;case 3:T[k].fn.call(T[k].context,h,g);break;case 4:T[k].fn.call(T[k].context,h,g,y);break;default:if(!N)for(R=1,N=new Array(A-1);R<A;R++)N[R-1]=arguments[R];T[k].fn.apply(T[k].context,N)}}return!0},u.prototype.on=function(f,h,g){return o(this,f,h,g,!1)},u.prototype.once=function(f,h,g){return o(this,f,h,g,!0)},u.prototype.removeListener=function(f,h,g,y){var b=n?n+f:f;if(!this._events[b])return this;if(!h)return l(this,b),this;var S=this._events[b];if(S.fn)S.fn===h&&(!y||S.once)&&(!g||S.context===g)&&l(this,b);else{for(var E=0,T=[],A=S.length;E<A;E++)(S[E].fn!==h||y&&!S[E].once||g&&S[E].context!==g)&&T.push(S[E]);T.length?this._events[b]=T.length===1?T[0]:T:l(this,b)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(av)),av.exports}var JV=YV();const XV=kr(JV);var Ou=new XV,Sy="recharts.syncEvent.tooltip",zC="recharts.syncEvent.brush",ZV=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!Gr(n))return e[n]}},QV={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},pM=kn({name:"options",initialState:QV,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),eG=pM.reducer,{createEventEmitter:tG}=pM.actions;function nG(e){return e.tooltip.syncInteraction}var rG={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},mM=kn({name:"chartData",initialState:rG,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:qC,setDataStartEndIndexes:iG,setComputedData:Rse}=mM.actions,aG=mM.reducer,oG=["x","y"];function VC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(n),!0).forEach(function(r){sG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sG(e,t,n){return(t=lG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lG(e){var t=uG(e,"string");return typeof t=="symbol"?t:t+""}function uG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cG(e,t){if(e==null)return{};var n,r,i=dG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fG(){var e=Ee(eb),t=Ee(tb),n=Pt(),r=Ee(QP),i=Ee(Di),o=vo(),l=Mh(),u=Ee(d=>d.rootProps.className);C.useEffect(()=>{if(e==null)return go;var d=(f,h,g)=>{if(t!==g&&e===f){if(r==="index"){var y;if(l&&h!==null&&h!==void 0&&(y=h.payload)!==null&&y!==void 0&&y.coordinate&&h.payload.sourceViewBox){var b=h.payload.coordinate,{x:S,y:E}=b,T=cG(b,oG),{x:A,y:N,width:k,height:P}=h.payload.sourceViewBox,R=cs(cs({},T),{},{x:l.x+(k?(S-A)/k:0)*l.width,y:l.y+(P?(E-N)/P:0)*l.height});n(cs(cs({},h),{},{payload:cs(cs({},h.payload),{},{coordinate:R})}))}else n(h);return}if(i!=null){var O;if(typeof r=="function"){var B={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},K=r(i,B);O=i[K]}else r==="value"&&(O=i.find(z=>String(z.value)===h.payload.label));var{coordinate:D}=h.payload;if(O==null||h.payload.active===!1||D==null||l==null){n(by({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:G,y:$}=D,M=Math.min(G,l.x+l.width),U=Math.min($,l.y+l.height),L={x:o==="horizontal"?O.coordinate:M,y:o==="horizontal"?U:O.coordinate},q=by({active:h.payload.active,coordinate:L,dataKey:h.payload.dataKey,index:String(O.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(q)}}};return Ou.on(Sy,d),()=>{Ou.off(Sy,d)}},[u,n,t,e,r,i,o,l])}function hG(){var e=Ee(eb),t=Ee(tb),n=Pt();C.useEffect(()=>{if(e==null)return go;var r=(i,o,l)=>{t!==l&&e===i&&n(iG(o))};return Ou.on(zC,r),()=>{Ou.off(zC,r)}},[n,t,e])}function pG(){var e=Pt();C.useEffect(()=>{e(tG())},[e]),fG(),hG()}function mG(e,t,n,r,i,o){var l=Ee(b=>wV(b,e,t)),u=Ee(tb),d=Ee(eb),f=Ee(QP),h=Ee(nG),g=h==null?void 0:h.active,y=Mh();C.useEffect(()=>{if(!g&&d!=null&&u!=null){var b=by({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});Ou.emit(Sy,d,b,u)}},[g,n,l,i,r,u,d,f,o,y])}function GC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(n),!0).forEach(function(r){gG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gG(e,t,n){return(t=vG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vG(e){var t=yG(e,"string");return typeof t=="symbol"?t:t+""}function yG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xG(e){return e.dataKey}function bG(e,t){return C.isValidElement(e)?C.cloneElement(e,t):typeof e=="function"?C.createElement(e,t):C.createElement(QU,t)}var FC=[],wG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function gM(e){var t,n,r=In(e,wG),{active:i,allowEscapeViewBox:o,animationDuration:l,animationEasing:u,content:d,filterNull:f,isAnimationActive:h,offset:g,payloadUniqBy:y,position:b,reverseDirection:S,useTranslate3d:E,wrapperStyle:T,cursor:A,shared:N,trigger:k,defaultIndex:P,portal:R,axisId:O}=r,B=Pt(),K=typeof P=="number"?String(P):P;C.useEffect(()=>{B(gq({shared:N,trigger:k,axisId:O,active:i,defaultIndex:K}))},[B,N,k,O,i,K]);var D=Mh(),G=WR(),$=cq(N),{activeIndex:M,isActive:U}=(t=Ee(he=>EV(he,$,k,K)))!==null&&t!==void 0?t:{},L=Ee(he=>SV(he,$,k,K)),q=Ee(he=>dM(he,$,k,K)),z=Ee(he=>_V(he,$,k,K)),F=L,ne=WV(),X=(n=i??U)!==null&&n!==void 0?n:!1,[oe,V]=L8([F,X]),J=$==="axis"?q:void 0;mG($,k,z,J,M,X);var ce=R??ne;if(ce==null||D==null||$==null)return null;var pe=F??FC;X||(pe=FC),f&&pe.length&&(pe=u8(pe.filter(he=>he.value!=null&&(he.hide!==!0||r.includeHidden)),y,xG));var se=pe.length>0,de=C.createElement(o9,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:h,active:X,coordinate:z,hasPayload:se,offset:g,position:b,reverseDirection:S,useTranslate3d:E,viewBox:D,wrapperStyle:T,lastBoundingBox:oe,innerRef:V,hasPortalFromProps:!!R},bG(d,HC(HC({},r),{},{payload:pe,label:J,active:X,activeIndex:M,coordinate:z,accessibilityLayer:G})));return C.createElement(C.Fragment,null,yk.createPortal(de,ce),X&&C.createElement(KV,{cursor:A,tooltipEventType:$,coordinate:z,payload:pe,index:M}))}var ap=e=>null;ap.displayName="Cell";function _G(e,t,n){return(t=SG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SG(e){var t=EG(e,"string");return typeof t=="symbol"?t:t+""}function EG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class TG{constructor(t){_G(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function KC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function AG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KC(Object(n),!0).forEach(function(r){CG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CG(e,t,n){return(t=NG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NG(e){var t=IG(e,"string");return typeof t=="symbol"?t:t+""}function IG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kG={cacheSize:2e3,enableCache:!0},vM=AG({},kG),WC=new TG(vM.cacheSize),RG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},YC="recharts_measurement_span";function PG(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(u)}var JC=(e,t)=>{try{var n=document.getElementById(YC);n||(n=document.createElement("span"),n.setAttribute("id",YC),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,RG,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},gu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Uh.isSsr)return{width:0,height:0};if(!vM.enableCache)return JC(t,n);var r=PG(t,n),i=WC.get(r);if(i)return i;var o=JC(t,n);return WC.set(r,o),o},yM;function OG(e,t,n){return(t=MG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MG(e){var t=DG(e,"string");return typeof t=="symbol"?t:t+""}function DG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,LG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,UG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},BG=["cm","mm","pt","pc","in","Q","px"];function $G(e){return BG.includes(e)}var As="NaN";function zG(e,t){return e*UG[t]}class nn{static parse(t){var n,[,r,i]=(n=LG.exec(t))!==null&&n!==void 0?n:[];return r==null?nn.NaN:new nn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Gr(t)&&(this.unit=""),n!==""&&!jG.test(n)&&(this.num=NaN,this.unit=""),$G(n)&&(this.num=zG(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new nn(NaN,""):new nn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new nn(NaN,""):new nn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new nn(NaN,""):new nn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new nn(NaN,""):new nn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Gr(this.num)}}yM=nn;OG(nn,"NaN",new yM(NaN,""));function xM(e){if(e==null||e.includes(As))return As;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=XC.exec(t))!==null&&n!==void 0?n:[],l=nn.parse(r??""),u=nn.parse(o??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return As;t=t.replace(XC,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,g,y]=(f=ZC.exec(t))!==null&&f!==void 0?f:[],b=nn.parse(h??""),S=nn.parse(y??""),E=g==="+"?b.add(S):b.subtract(S);if(E.isNaN())return As;t=t.replace(ZC,E.toString())}return t}var QC=/\(([^()]*)\)/;function qG(e){for(var t=e,n;(n=QC.exec(t))!=null;){var[,r]=n;t=t.replace(QC,xM(r))}return t}function VG(e){var t=e.replace(/\s+/g,"");return t=qG(t),t=xM(t),t}function GG(e){try{return VG(e)}catch{return As}}function ov(e){var t=GG(e.slice(5,-1));return t===As?"":t}var HG=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],FG=["dx","dy","angle","className","breakAll"];function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ey.apply(null,arguments)}function e2(e,t){if(e==null)return{};var n,r,i=KG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bM=/[ \f\n\r\t\v\u2028\u2029]+/,wM=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];ft(t)||(n?i=t.toString().split(""):i=t.toString().split(bM));var o=i.map(u=>({word:u,width:gu(u,r).width})),l=n?0:gu("",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}};function WG(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var _M=(e,t,n,r)=>e.reduce((i,o)=>{var{word:l,width:u}=o,d=i[i.length-1];if(d&&u!=null&&(t==null||r||d.width+u+n<Number(t)))d.words.push(l),d.width+=u+n;else{var f={words:[l],width:u};i.push(f)}return i},[]),SM=e=>e.reduce((t,n)=>t.width>n.width?t:n),YG="",t2=(e,t,n,r,i,o,l,u)=>{var d=e.slice(0,t),f=wM({breakAll:n,style:r,children:d+YG});if(!f)return[!1,[]];var h=_M(f.wordsWithComputedWidth,o,l,u),g=h.length>i||SM(h).width>Number(o);return[g,h]},JG=(e,t,n,r,i)=>{var{maxLines:o,children:l,style:u,breakAll:d}=e,f=ye(o),h=String(l),g=_M(t,r,n,i);if(!f||i)return g;var y=g.length>o||SM(g).width>Number(r);if(!y)return g;for(var b=0,S=h.length-1,E=0,T;b<=S&&E<=h.length-1;){var A=Math.floor((b+S)/2),N=A-1,[k,P]=t2(h,N,d,u,o,r,n,i),[R]=t2(h,A,d,u,o,r,n,i);if(!k&&!R&&(b=A+1),k&&R&&(S=A-1),!k&&R){T=P;break}E++}return T||g},n2=e=>{var t=ft(e)?[]:e.toString().split(bM);return[{words:t,width:void 0}]},XG=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=e;if((t||n)&&!Uh.isSsr){var u,d,f=wM({breakAll:o,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:g}=f;u=h,d=g}else return n2(r);return JG({breakAll:o,children:r,maxLines:l,style:i},u,d,t,!!n)}return n2(r)},EM="#808080",ZG={angle:0,breakAll:!1,capHeight:"0.71em",fill:EM,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ab=C.forwardRef((e,t)=>{var n=In(e,ZG),{x:r,y:i,lineHeight:o,capHeight:l,fill:u,scaleToFit:d,textAnchor:f,verticalAnchor:h}=n,g=e2(n,HG),y=C.useMemo(()=>XG({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),{dx:b,dy:S,angle:E,className:T,breakAll:A}=g,N=e2(g,FG);if(!Hr(r)||!Hr(i)||y.length===0)return null;var k=Number(r)+(ye(b)?b:0),P=Number(i)+(ye(S)?S:0);if(!Ue(k)||!Ue(P))return null;var R;switch(h){case"start":R=ov("calc(".concat(l,")"));break;case"middle":R=ov("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:R=ov("calc(".concat(y.length-1," * -").concat(o,")"));break}var O=[],B=y[0];if(d&&B!=null){var K=B.width,{width:D}=g;O.push("scale(".concat(ye(D)&&ye(K)?D/K:1,")"))}return E&&O.push("rotate(".concat(E,", ").concat(k,", ").concat(P,")")),O.length&&(N.transform=O.join(" ")),C.createElement("text",Ey({},hn(N),{ref:t,x:k,y:P,className:nt("recharts-text",T),textAnchor:f,fill:u.includes("url")?EM:u}),y.map((G,$)=>{var M=G.words.join(A?"":" ");return C.createElement("tspan",{x:k,dy:$===0?R:o,key:"".concat(M,"-").concat($)},M)}))});Ab.displayName="Text";function r2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(n),!0).forEach(function(r){QG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QG(e,t,n){return(t=eH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eH(e){var t=tH(e,"string");return typeof t=="symbol"?t:t+""}function tH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nH=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i}=e,{x:o,y:l,height:u,upperWidth:d,lowerWidth:f}=Ex(t),h=o,g=o+(d-f)/2,y=(h+g)/2,b=(d+f)/2,S=h+d/2,E=u>=0?1:-1,T=E*r,A=E>0?"end":"start",N=E>0?"start":"end",k=d>=0?1:-1,P=k*r,R=k>0?"end":"start",O=k>0?"start":"end",B=i;if(n==="top"){var K={x:h+d/2,y:l-T,horizontalAnchor:"middle",verticalAnchor:A};return B&&(K.height=Math.max(l-B.y,0),K.width=d),K}if(n==="bottom"){var D={x:g+f/2,y:l+u+T,horizontalAnchor:"middle",verticalAnchor:N};return B&&(D.height=Math.max(B.y+B.height-(l+u),0),D.width=f),D}if(n==="left"){var G={x:y-P,y:l+u/2,horizontalAnchor:R,verticalAnchor:"middle"};return B&&(G.width=Math.max(G.x-B.x,0),G.height=u),G}if(n==="right"){var $={x:y+b+P,y:l+u/2,horizontalAnchor:O,verticalAnchor:"middle"};return B&&($.width=Math.max(B.x+B.width-$.x,0),$.height=u),$}var M=B?{width:b,height:u}:{};return n==="insideLeft"?Br({x:y+P,y:l+u/2,horizontalAnchor:O,verticalAnchor:"middle"},M):n==="insideRight"?Br({x:y+b-P,y:l+u/2,horizontalAnchor:R,verticalAnchor:"middle"},M):n==="insideTop"?Br({x:h+d/2,y:l+T,horizontalAnchor:"middle",verticalAnchor:N},M):n==="insideBottom"?Br({x:g+f/2,y:l+u-T,horizontalAnchor:"middle",verticalAnchor:A},M):n==="insideTopLeft"?Br({x:h+P,y:l+T,horizontalAnchor:O,verticalAnchor:N},M):n==="insideTopRight"?Br({x:h+d-P,y:l+T,horizontalAnchor:R,verticalAnchor:N},M):n==="insideBottomLeft"?Br({x:g+P,y:l+u-T,horizontalAnchor:O,verticalAnchor:A},M):n==="insideBottomRight"?Br({x:g+f-P,y:l+u-T,horizontalAnchor:R,verticalAnchor:A},M):n&&typeof n=="object"&&(ye(n.x)||lo(n.x))&&(ye(n.y)||lo(n.y))?Br({x:o+Nr(n.x,b),y:l+Nr(n.y,u),horizontalAnchor:"end",verticalAnchor:"end"},M):Br({x:S,y:l+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},M)},rH=["labelRef"],iH=["content"];function i2(e,t){if(e==null)return{};var n,r,i=aH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function a2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(n),!0).forEach(function(r){oH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oH(e,t,n){return(t=sH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sH(e){var t=lH(e,"string");return typeof t=="symbol"?t:t+""}function lH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gi.apply(null,arguments)}var TM=C.createContext(null),uH=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:l,children:u}=e,d=C.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:l}),[t,n,r,i,o,l]);return C.createElement(TM.Provider,{value:d},u)},AM=()=>{var e=C.useContext(TM),t=Mh();return e||(t?Ex(t):void 0)},cH=C.createContext(null),dH=()=>{var e=C.useContext(cH),t=Ee(iO);return e||t},fH=e=>{var{value:t,formatter:n}=e,r=ft(e.children)?t:e.children;return typeof n=="function"?n(r):r},CM=e=>e!=null&&typeof e=="function",hH=(e,t)=>{var n=Tn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},pH=(e,t,n,r,i)=>{var{offset:o,className:l}=e,{cx:u,cy:d,innerRadius:f,outerRadius:h,startAngle:g,endAngle:y,clockWise:b}=i,S=(f+h)/2,E=hH(g,y),T=E>=0?1:-1,A,N;switch(t){case"insideStart":A=g+T*o,N=b;break;case"insideEnd":A=y-T*o,N=!b;break;case"end":A=y+T*o,N=b;break;default:throw new Error("Unsupported position ".concat(t))}N=E<=0?N:!N;var k=rn(u,d,S,A),P=rn(u,d,S,A+(N?1:-1)*359),R="M".concat(k.x,",").concat(k.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(N?0:1,`,
    `).concat(P.x,",").concat(P.y),O=ft(e.id)?bu("recharts-radial-line-"):e.id;return C.createElement("text",gi({},r,{dominantBaseline:"central",className:nt("recharts-radial-bar-label",l)}),C.createElement("defs",null,C.createElement("path",{id:O,d:R})),C.createElement("textPath",{xlinkHref:"#".concat(O)},n))},mH=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:u,endAngle:d}=e,f=(u+d)/2;if(n==="outside"){var{x:h,y:g}=rn(r,i,l+t,f);return{x:h,y:g,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(o+l)/2,{x:b,y:S}=rn(r,i,y,f);return{x:b,y:S,textAnchor:"middle",verticalAnchor:"middle"}},lf=e=>e!=null&&"cx"in e&&ye(e.cx),gH={angle:0,offset:5,zIndex:Bt.label,position:"middle",textBreakAll:!1};function vH(e){if(!lf(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function da(e){var t=In(e,gH),{viewBox:n,parentViewBox:r,position:i,value:o,children:l,content:u,className:d="",textBreakAll:f,labelRef:h}=t,g=dH(),y=AM(),b=i==="center"?y:g??y,S,E,T;n==null?S=b:lf(n)?S=n:S=Ex(n);var A=vH(S);if(!S||ft(o)&&ft(l)&&!C.isValidElement(u)&&typeof u!="function")return null;var N=fu(fu({},t),{},{viewBox:S});if(C.isValidElement(u)){var{labelRef:k}=N,P=i2(N,rH);return C.cloneElement(u,P)}if(typeof u=="function"){var{content:R}=N,O=i2(N,iH);if(E=C.createElement(u,O),C.isValidElement(E))return E}else E=fH(t);var B=hn(t);if(lf(S)){if(i==="insideStart"||i==="insideEnd"||i==="end")return pH(t,i,E,B,S);T=mH(S,t.offset,t.position)}else{if(!A)return null;var K=nH({viewBox:A,position:i,offset:t.offset,parentViewBox:lf(r)?void 0:r});T=fu(fu({x:K.x,y:K.y,textAnchor:K.horizontalAnchor,verticalAnchor:K.verticalAnchor},K.width!==void 0?{width:K.width}:{}),K.height!==void 0?{height:K.height}:{})}return C.createElement(pr,{zIndex:t.zIndex},C.createElement(Ab,gi({ref:h,className:nt("recharts-label",d)},B,T,{textAnchor:WG(B.textAnchor)?B.textAnchor:T.textAnchor,breakAll:f}),E))}da.displayName="Label";var yH=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?C.createElement(da,gi({key:"label-implicit"},r)):Hr(e)?C.createElement(da,gi({key:"label-implicit",value:e},r)):C.isValidElement(e)?e.type===da?C.cloneElement(e,fu({key:"label-implicit"},r)):C.createElement(da,gi({key:"label-implicit",content:e},r)):CM(e)?C.createElement(da,gi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?C.createElement(da,gi({},e,{key:"label-implicit"},r)):null};function xH(e){var{label:t,labelRef:n}=e,r=AM();return yH(t,r,n)||null}var sv={},lv={},o2;function bH(){return o2||(o2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(lv)),lv}var uv={},s2;function wH(){return s2||(s2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(uv)),uv}var l2;function _H(){return l2||(l2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bH(),n=wH(),r=px();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(sv)),sv}var cv,u2;function SH(){return u2||(u2=1,cv=_H().last),cv}var EH=SH();const TH=kr(EH);var AH=["valueAccessor"],CH=["dataKey","clockWise","id","textBreakAll","zIndex"];function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zf.apply(null,arguments)}function c2(e,t){if(e==null)return{};var n,r,i=NH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function NH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var IH=e=>Array.isArray(e.value)?TH(e.value):e.value,NM=C.createContext(void 0),IM=NM.Provider,kM=C.createContext(void 0);kM.Provider;function kH(){return C.useContext(NM)}function RH(){return C.useContext(kM)}function uf(e){var{valueAccessor:t=IH}=e,n=c2(e,AH),{dataKey:r,clockWise:i,id:o,textBreakAll:l,zIndex:u}=n,d=c2(n,CH),f=kH(),h=RH(),g=f||h;return!g||!g.length?null:C.createElement(pr,{zIndex:u??Bt.label},C.createElement(ur,{className:"recharts-label-list"},g.map((y,b)=>{var S,E=ft(r)?t(y,b):Ct(y.payload,r),T=ft(o)?{}:{id:"".concat(o,"-").concat(b)};return C.createElement(da,Zf({key:"label-".concat(b)},hn(y),d,T,{fill:(S=n.fill)!==null&&S!==void 0?S:y.fill,parentViewBox:y.parentViewBox,value:E,textBreakAll:l,viewBox:y.viewBox,index:b,zIndex:0}))})))}uf.displayName="LabelList";function RM(e){var{label:t}=e;return t?t===!0?C.createElement(uf,{key:"labelList-implicit"}):C.isValidElement(t)||CM(t)?C.createElement(uf,{key:"labelList-implicit",content:t}):typeof t=="object"?C.createElement(uf,Zf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ty.apply(null,arguments)}var PM=e=>{var{cx:t,cy:n,r,className:i}=e,o=nt("recharts-dot",i);return ye(t)&&ye(n)&&ye(r)?C.createElement("circle",Ty({},Cr(e),fx(e),{className:o,cx:t,cy:n,r})):null},PH={radiusAxis:{},angleAxis:{}},OM=kn({name:"polarAxis",initialState:PH,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Pse,removeRadiusAxis:Ose,addAngleAxis:Mse,removeAngleAxis:Dse}=OM.actions,OH=OM.reducer;function MH(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var dv={exports:{}},Ze={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2;function DH(){if(d2)return Ze;d2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var T=E.$$typeof;switch(T){case e:switch(E=E.type,E){case n:case i:case r:case d:case f:case y:return E;default:switch(E=E&&E.$$typeof,E){case l:case u:case g:case h:return E;case o:return E;default:return T}}case t:return T}}}return Ze.ContextConsumer=o,Ze.ContextProvider=l,Ze.Element=e,Ze.ForwardRef=u,Ze.Fragment=n,Ze.Lazy=g,Ze.Memo=h,Ze.Portal=t,Ze.Profiler=i,Ze.StrictMode=r,Ze.Suspense=d,Ze.SuspenseList=f,Ze.isContextConsumer=function(E){return S(E)===o},Ze.isContextProvider=function(E){return S(E)===l},Ze.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},Ze.isForwardRef=function(E){return S(E)===u},Ze.isFragment=function(E){return S(E)===n},Ze.isLazy=function(E){return S(E)===g},Ze.isMemo=function(E){return S(E)===h},Ze.isPortal=function(E){return S(E)===t},Ze.isProfiler=function(E){return S(E)===i},Ze.isStrictMode=function(E){return S(E)===r},Ze.isSuspense=function(E){return S(E)===d},Ze.isSuspenseList=function(E){return S(E)===f},Ze.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===d||E===f||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===h||E.$$typeof===l||E.$$typeof===o||E.$$typeof===u||E.$$typeof===b||E.getModuleId!==void 0)},Ze.typeOf=S,Ze}var f2;function jH(){return f2||(f2=1,dv.exports=DH()),dv.exports}var LH=jH(),h2=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",p2=null,fv=null,MM=e=>{if(e===p2&&Array.isArray(fv))return fv;var t=[];return C.Children.forEach(e,n=>{ft(n)||(LH.isFragment(n)?t=t.concat(MM(n.props.children)):t.push(n))}),fv=t,p2=e,t};function UH(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>h2(i)):r=[h2(t)],MM(e).forEach(i=>{var o=js(i,"type.displayName")||js(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var DM=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,hv={},m2;function BH(){return m2||(m2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(hv)),hv}var pv,g2;function $H(){return g2||(g2=1,pv=BH().isPlainObject),pv}var zH=$H();const qH=kr(zH);var v2,y2,x2,b2,w2;function _2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function S2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(n),!0).forEach(function(r){VH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VH(e,t,n){return(t=GH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GH(e){var t=HH(e,"string");return typeof t=="symbol"?t:t+""}function HH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qf(){return Qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qf.apply(null,arguments)}function ou(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var E2=(e,t,n,r,i)=>{var o=n-r,l;return l=vt(v2||(v2=ou(["M ",",",""])),e,t),l+=vt(y2||(y2=ou(["L ",",",""])),e+n,t),l+=vt(x2||(x2=ou(["L ",",",""])),e+n-o/2,t+i),l+=vt(b2||(b2=ou(["L ",",",""])),e+n-o/2-r,t+i),l+=vt(w2||(w2=ou(["L ",","," Z"])),e,t),l},FH={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KH=e=>{var t=In(e,FH),{x:n,y:r,upperWidth:i,lowerWidth:o,height:l,className:u}=t,{animationEasing:d,animationDuration:f,animationBegin:h,isUpdateAnimationActive:g}=t,y=C.useRef(null),[b,S]=C.useState(-1),E=C.useRef(i),T=C.useRef(o),A=C.useRef(l),N=C.useRef(n),k=C.useRef(r),P=$h(e,"trapezoid-");if(C.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var L=y.current.getTotalLength();L&&S(L)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||l!==+l||i===0&&o===0||l===0)return null;var R=nt("recharts-trapezoid",u);if(!g)return C.createElement("g",null,C.createElement("path",Qf({},hn(t),{className:R,d:E2(n,r,i,o,l)})));var O=E.current,B=T.current,K=A.current,D=N.current,G=k.current,$="0px ".concat(b===-1?1:b,"px"),M="".concat(b,"px 0px"),U=JR(["strokeDasharray"],f,d);return C.createElement(Bh,{animationId:P,key:P,canBegin:b>0,duration:f,easing:d,isActive:g,begin:h},L=>{var q=yt(O,i,L),z=yt(B,o,L),F=yt(K,l,L),ne=yt(D,n,L),X=yt(G,r,L);y.current&&(E.current=q,T.current=z,A.current=F,N.current=ne,k.current=X);var oe=L>0?{transition:U,strokeDasharray:M}:{strokeDasharray:$};return C.createElement("path",Qf({},hn(t),{className:R,d:E2(ne,X,q,z,F),ref:y,style:S2(S2({},oe),t.style)}))})},WH=["option","shapeType","activeClassName"];function YH(e,t){if(e==null)return{};var n,r,i=JH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function T2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T2(Object(n),!0).forEach(function(r){XH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XH(e,t,n){return(t=ZH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZH(e){var t=QH(e,"string");return typeof t=="symbol"?t:t+""}function QH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eF(e,t){return eh(eh({},t),e)}function tF(e,t){return e==="symbols"}function A2(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return C.createElement(eP,n);case"trapezoid":return C.createElement(KH,n);case"sector":return C.createElement(rP,n);case"symbols":if(tF(t))return C.createElement(Bk,n);break;case"curve":return C.createElement(YR,n);default:return null}}function nF(e){return C.isValidElement(e)?e.props:e}function jM(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=YH(e,WH),o;if(C.isValidElement(t))o=C.cloneElement(t,eh(eh({},i),nF(t)));else if(typeof t=="function")o=t(i,i.index);else if(qH(t)&&typeof t!="boolean"){var l=eF(t,i);o=C.createElement(A2,{shapeType:n,elementProps:l})}else{var u=i;o=C.createElement(A2,{shapeType:n,elementProps:u})}return i.isActive?C.createElement(ur,{className:r},o):o}var LM=(e,t,n)=>{var r=Pt();return(i,o)=>l=>{e==null||e(i,o,l),r(HO({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},UM=e=>{var t=Pt();return(n,r)=>i=>{e==null||e(n,r,i),t(vq())}},BM=(e,t,n)=>{var r=Pt();return(i,o)=>l=>{e==null||e(i,o,l),r(yq({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function $M(e){var{tooltipEntrySettings:t}=e,n=Pt(),r=gn(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(hq(t)):i.current!==t&&n(pq({prev:i.current,next:t})),i.current=t)},[t,n,r]),C.useLayoutEffect(()=>()=>{i.current&&(n(mq(i.current)),i.current=null)},[n]),null}function zM(e){var{legendPayload:t}=e,n=Pt(),r=gn(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(HU(t)):i.current!==t&&n(FU({prev:i.current,next:t})),i.current=t)},[n,r,t]),C.useLayoutEffect(()=>()=>{i.current&&(n(KU(i.current)),i.current=null)},[n]),null}var mv,rF=()=>{var[e]=C.useState(()=>bu("uid-"));return e},iF=(mv=d5.useId)!==null&&mv!==void 0?mv:rF;function aF(e,t){var n=iF();return t||(e?"".concat(e,"-").concat(n):n)}var oF=C.createContext(void 0),qM=e=>{var{id:t,type:n,children:r}=e,i=aF("recharts-".concat(n),t);return C.createElement(oF.Provider,{value:i},r(i))},sF={cartesianItems:[],polarItems:[]},VM=kn({name:"graphicalItems",initialState:sF,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ut()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Er(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:ut()},removeCartesianGraphicalItem:{reducer(e,t){var n=Er(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:ut()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ut()},removePolarGraphicalItem:{reducer(e,t){var n=Er(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:ut()}}}),{addCartesianGraphicalItem:lF,replaceCartesianGraphicalItem:uF,removeCartesianGraphicalItem:cF,addPolarGraphicalItem:jse,removePolarGraphicalItem:Lse}=VM.actions,dF=VM.reducer,fF=e=>{var t=Pt(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?t(lF(e)):n.current!==e&&t(uF({prev:n.current,next:e})),n.current=e},[t,e]),C.useLayoutEffect(()=>()=>{n.current&&(t(cF(n.current)),n.current=null)},[t]),null},GM=C.memo(fF),hF=["points"];function C2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(n),!0).forEach(function(r){pF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pF(e,t,n){return(t=mF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mF(e){var t=gF(e,"string");return typeof t=="symbol"?t:t+""}function gF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},th.apply(null,arguments)}function vF(e,t){if(e==null)return{};var n,r,i=yF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xF(e){var{option:t,dotProps:n,className:r}=e;if(C.isValidElement(t))return C.cloneElement(t,n);if(typeof t=="function")return t(n);var i=nt(r,typeof t!="boolean"?t.className:""),o=n??{},{points:l}=o,u=vF(o,hF);return C.createElement(PM,th({},u,{className:i}))}function bF(e,t){return e==null?!1:t?!0:e.length===1}function wF(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:l,needClip:u,clipPathId:d,zIndex:f=Bt.scatter}=e;if(!bF(t,n))return null;var h=DM(n),g=D5(n),y=t.map((S,E)=>{var T,A,N=gv(gv(gv({r:3},l),g),{},{index:E,cx:(T=S.x)!==null&&T!==void 0?T:void 0,cy:(A=S.y)!==null&&A!==void 0?A:void 0,dataKey:o,value:S.value,payload:S.payload,points:t});return C.createElement(xF,{key:"dot-".concat(E),option:n,dotProps:N,className:i})}),b={};return u&&d!=null&&(b.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(d,")")),C.createElement(pr,{zIndex:f},C.createElement(ur,th({className:r},b),y))}function N2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function I2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N2(Object(n),!0).forEach(function(r){_F(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _F(e,t,n){return(t=SF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SF(e){var t=EF(e,"string");return typeof t=="symbol"?t:t+""}function EF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HM=0,TF={xAxis:{},yAxis:{},zAxis:{}},FM=kn({name:"cartesianAxis",initialState:TF,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ut()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:ut()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ut()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ut()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:ut()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ut()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ut()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:ut()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ut()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o,l=i.widthHistory||[];if(l.length===3&&l[0]===l[2]&&r===l[1]&&r!==i.width&&Math.abs(r-((o=l[0])!==null&&o!==void 0?o:0))<=1)return;var u=[...l,r].slice(-3);e.yAxis[n]=I2(I2({},i),{},{width:r,widthHistory:u})}}}}),{addXAxis:AF,replaceXAxis:CF,removeXAxis:NF,addYAxis:Use,replaceYAxis:Bse,removeYAxis:$se,addZAxis:zse,replaceZAxis:qse,removeZAxis:Vse,updateYAxisWidth:Gse}=FM.actions,IF=FM.reducer,kF=te([$t],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),RF=te([kF,Ii,ki],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Cb=()=>Ee(RF),PF=()=>Ee(sV);function k2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k2(Object(n),!0).forEach(function(r){OF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OF(e,t,n){return(t=MF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MF(e){var t=DF(e,"string");return typeof t=="symbol"?t:t+""}function DF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jF=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:l}=e;if(i===!1||t.x==null||t.y==null)return null;var u={index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=vv(vv(vv({},u),Hu(i)),fx(i)),f;return C.isValidElement(i)?f=C.cloneElement(i,d):typeof i=="function"?f=i(d):f=C.createElement(PM,d),C.createElement(ur,{className:"recharts-active-dot",clipPath:l},f)};function LF(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:l=Bt.activeDot}=e,u=Ee(po),d=PF();if(t==null||d==null)return null;var f=t.find(h=>d.includes(h.payload));return ft(f)?null:C.createElement(pr,{zIndex:l},C.createElement(jF,{point:f,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}var R2=(e,t,n)=>{var r=n??e;if(!ft(r))return Nr(r,t,0)},UF=(e,t,n)=>{var r={},i=e.filter(Xh),o=e.filter(f=>f.stackId==null),l=i.reduce((f,h)=>{var g=f[h.stackId];return g==null&&(g=[]),g.push(h),f[h.stackId]=g,f},r),u=Object.entries(l).map(f=>{var h,[g,y]=f,b=y.map(E=>E.dataKey),S=R2(t,n,(h=y[0])===null||h===void 0?void 0:h.barSize);return{stackId:g,dataKeys:b,barSize:S}}),d=o.map(f=>{var h=[f.dataKey].filter(y=>y!=null),g=R2(t,n,f.barSize);return{stackId:void 0,dataKeys:h,barSize:g}});return[...u,...d]};function P2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(n),!0).forEach(function(r){BF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BF(e,t,n){return(t=$F(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $F(e){var t=zF(e,"string");return typeof t=="symbol"?t:t+""}function zF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qF(e,t,n,r,i){var o,l=r.length;if(!(l<1)){var u=Nr(e,n,0,!0),d,f=[];if(Ue((o=r[0])===null||o===void 0?void 0:o.barSize)){var h=!1,g=n/l,y=r.reduce((N,k)=>N+(k.barSize||0),0);y+=(l-1)*u,y>=n&&(y-=(l-1)*u,u=0),y>=n&&g>0&&(h=!0,g*=.9,y=l*g);var b=(n-y)/2>>0,S={offset:b-u,size:0};d=r.reduce((N,k)=>{var P,R={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:S.offset+S.size+u,size:h?g:(P=k.barSize)!==null&&P!==void 0?P:0}},O=[...N,R];return S=R.position,O},f)}else{var E=Nr(t,n,0,!0);n-2*E-(l-1)*u<=0&&(u=0);var T=(n-2*E-(l-1)*u)/l;T>1&&(T>>=0);var A=Ue(i)?Math.min(T,i):T;d=r.reduce((N,k,P)=>[...N,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:E+(T+u)*P+(T-A)/2,size:A}}],f)}return d}}var VF=(e,t,n,r,i,o,l)=>{var u=ft(l)?t:l,d=qF(n,r,i!==o?i:o,e,u);return i!==o&&d!=null&&(d=d.map(f=>qd(qd({},f),{},{position:qd(qd({},f.position),{},{offset:f.position.offset-i/2})}))),d},GF=(e,t)=>{var n=ob(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:o}=i;if(o)return o.find(l=>l.key===n)}}}},HF=(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}};function FF(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Ue(e.zIndex)?e.zIndex:t}var KF=e=>{var{chartData:t}=e,n=Pt(),r=gn();return C.useEffect(()=>r?()=>{}:(n(qC(t)),()=>{n(qC(void 0))}),[t,n,r]),null},O2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},KM=kn({name:"brush",initialState:O2,reducers:{setBrushSettings(e,t){return t.payload==null?O2:t.payload}}}),{setBrushSettings:Hse}=KM.actions,WF=KM.reducer;function YF(e){return(e%180+180)%180}var JF=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=YF(i),l=o*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},XF={dots:[],areas:[],lines:[]},WM=kn({name:"referenceElements",initialState:XF,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Er(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Er(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Er(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Fse,removeDot:Kse,addArea:Wse,removeArea:Yse,addLine:Jse,removeLine:Xse}=WM.actions,ZF=WM.reducer,QF=C.createContext(void 0),eK=e=>{var{children:t}=e,[n]=C.useState("".concat(bu("recharts"),"-clip")),r=Cb();if(r==null)return null;var{x:i,y:o,width:l,height:u}=r;return C.createElement(QF.Provider,{value:n},C.createElement("defs",null,C.createElement("clipPath",{id:n},C.createElement("rect",{x:i,y:o,height:u,width:l}))),t)};function YM(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function tK(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return JF(r,n)}function nK(e,t,n){var r=n==="width",{x:i,y:o,width:l,height:u}=e;return t===1?{start:r?i:o,end:r?i+l:o+u}:{start:r?i+l:o+u,end:r?i:o}}function Mu(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function rK(e,t){return YM(e,t+1)}function iK(e,t,n,r,i){for(var o=(r||[]).slice(),{start:l,end:u}=t,d=0,f=1,h=l,g=function(){var S=r==null?void 0:r[d];if(S===void 0)return{v:YM(r,f)};var E=d,T,A=()=>(T===void 0&&(T=n(S,E)),T),N=S.coordinate,k=d===0||Mu(e,N,A,h,u);k||(d=0,h=l,f+=1),k&&(h=N+e*(A()/2+i),d+=f)},y;f<=o.length;)if(y=g(),y)return y.v;return[]}function aK(e,t,n,r,i){var o=(r||[]).slice(),l=o.length;if(l===0)return[];for(var{start:u,end:d}=t,f=1;f<=l;f++){for(var h=(l-1)%f,g=u,y=!0,b=function(){var P=r[E];if(P==null)return 0;var R=E,O,B=()=>(O===void 0&&(O=n(P,R)),O),K=P.coordinate,D=E===h||Mu(e,K,B,g,d);if(!D)return y=!1,1;D&&(g=K+e*(B()/2+i))},S,E=h;E<l&&(S=b(),!(S!==0&&S===1));E+=f);if(y){for(var T=[],A=h;A<l;A+=f){var N=r[A];N!=null&&T.push(N)}return T}}return[]}function M2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M2(Object(n),!0).forEach(function(r){oK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oK(e,t,n){return(t=sK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sK(e){var t=lK(e,"string");return typeof t=="symbol"?t:t+""}function lK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uK(e,t,n,r,i){for(var o=(r||[]).slice(),l=o.length,{start:u}=t,{end:d}=t,f=function(y){var b=o[y];if(b==null)return 1;var S=b,E,T=()=>(E===void 0&&(E=n(b,y)),E);if(y===l-1){var A=e*(S.coordinate+e*T()/2-d);o[y]=S=on(on({},S),{},{tickCoord:A>0?S.coordinate-A*e:S.coordinate})}else o[y]=S=on(on({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var N=Mu(e,S.tickCoord,T,u,d);N&&(d=S.tickCoord-e*(T()/2+i),o[y]=on(on({},S),{},{isShow:!0}))}},h=l-1;h>=0;h--)f(h);return o}function cK(e,t,n,r,i,o){var l=(r||[]).slice(),u=l.length,{start:d,end:f}=t;if(o){var h=r[u-1];if(h!=null){var g=n(h,u-1),y=e*(h.coordinate+e*g/2-f);if(l[u-1]=h=on(on({},h),{},{tickCoord:y>0?h.coordinate-y*e:h.coordinate}),h.tickCoord!=null){var b=Mu(e,h.tickCoord,()=>g,d,f);b&&(f=h.tickCoord-e*(g/2+i),l[u-1]=on(on({},h),{},{isShow:!0}))}}}for(var S=o?u-1:u,E=function(N){var k=l[N];if(k==null)return 1;var P=k,R,O=()=>(R===void 0&&(R=n(k,N)),R);if(N===0){var B=e*(P.coordinate-e*O()/2-d);l[N]=P=on(on({},P),{},{tickCoord:B<0?P.coordinate-B*e:P.coordinate})}else l[N]=P=on(on({},P),{},{tickCoord:P.coordinate});if(P.tickCoord!=null){var K=Mu(e,P.tickCoord,O,d,f);K&&(d=P.tickCoord+e*(O()/2+i),l[N]=on(on({},P),{},{isShow:!0}))}},T=0;T<S;T++)E(T);return l}function Nb(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:l,orientation:u,interval:d,tickFormatter:f,unit:h,angle:g}=e;if(!i||!i.length||!r)return[];if(ye(d)||Uh.isSsr){var y;return(y=rK(i,ye(d)?d:0))!==null&&y!==void 0?y:[]}var b=[],S=u==="top"||u==="bottom"?"width":"height",E=h&&S==="width"?gu(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},T=(R,O)=>{var B=typeof f=="function"?f(R.value,O):R.value;return S==="width"?tK(gu(B,{fontSize:t,letterSpacing:n}),E,g):gu(B,{fontSize:t,letterSpacing:n})[S]},A=i[0],N=i[1],k=i.length>=2&&A!=null&&N!=null?Tn(N.coordinate-A.coordinate):1,P=nK(o,k,S);return d==="equidistantPreserveStart"?iK(k,P,T,i,l):d==="equidistantPreserveEnd"?aK(k,P,T,i,l):(d==="preserveStart"||d==="preserveStartEnd"?b=cK(k,P,T,i,l,d==="preserveStartEnd"):b=uK(k,P,T,i,l),b.filter(R=>R.isShow))}var dK=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,l=0;if(t){Array.from(t).forEach(h=>{if(h){var g=h.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+o,f=l+d+u+(n?r:0);return Math.round(f)}return 0},fK=["axisLine","width","height","className","hide","ticks","axisType"];function hK(e,t){if(e==null)return{};var n,r,i=pK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mo.apply(null,arguments)}function D2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(n),!0).forEach(function(r){mK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mK(e,t,n){return(t=gK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gK(e){var t=vK(e,"string");return typeof t=="symbol"?t:t+""}function vK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ps={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Bt.axis};function yK(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:l,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var f=mt(mt(mt({},d),Cr(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var h=+(o==="top"&&!l||o==="bottom"&&l);f=mt(mt({},f),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var g=+(o==="left"&&!l||o==="right"&&l);f=mt(mt({},f),{},{x1:t+g*r,y1:n,x2:t+g*r,y2:n+i})}return C.createElement("line",mo({},f,{className:nt("recharts-cartesian-axis-line",js(u,"className"))}))}function xK(e,t,n,r,i,o,l,u,d){var f,h,g,y,b,S,E=u?-1:1,T=e.tickSize||l,A=ye(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":f=h=e.coordinate,y=n+ +!u*i,g=y-E*T,S=g-E*d,b=A;break;case"left":g=y=e.coordinate,h=t+ +!u*r,f=h-E*T,b=f-E*d,S=A;break;case"right":g=y=e.coordinate,h=t+ +u*r,f=h+E*T,b=f+E*d,S=A;break;default:f=h=e.coordinate,y=n+ +u*i,g=y+E*T,S=g+E*d,b=A;break}return{line:{x1:f,y1:g,x2:h,y2:y},tick:{x:b,y:S}}}function bK(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function wK(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function _K(e){var{option:t,tickProps:n,value:r}=e,i,o=nt(n.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(t))i=C.cloneElement(t,mt(mt({},n),{},{className:o}));else if(typeof t=="function")i=t(mt(mt({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=nt(l,MH(t))),i=C.createElement(Ab,mo({},n,{className:l}),r)}return i}var SK=C.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:l,unit:u,padding:d,tickTextProps:f,orientation:h,mirror:g,x:y,y:b,width:S,height:E,tickSize:T,tickMargin:A,fontSize:N,letterSpacing:k,getTicksConfig:P,events:R,axisType:O}=e,B=Nb(mt(mt({},P),{},{ticks:n}),N,k),K=bK(h,g),D=wK(h,g),G=Cr(P),$=Hu(r),M={};typeof i=="object"&&(M=i);var U=mt(mt({},G),{},{fill:"none"},M),L=B.map(F=>mt({entry:F},xK(F,y,b,S,E,h,T,g,A))),q=L.map(F=>{var{entry:ne,line:X}=F;return C.createElement(ur,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ne.value,"-").concat(ne.coordinate,"-").concat(ne.tickCoord)},i&&C.createElement("line",mo({},U,X,{className:nt("recharts-cartesian-axis-tick-line",js(i,"className"))})))}),z=L.map((F,ne)=>{var X,oe,{entry:V,tick:J}=F,ce=mt(mt(mt(mt({verticalAnchor:D},G),{},{textAnchor:K,stroke:"none",fill:o},J),{},{index:ne,payload:V,visibleTicksCount:B.length,tickFormatter:l,padding:d},f),{},{angle:(X=(oe=f==null?void 0:f.angle)!==null&&oe!==void 0?oe:G.angle)!==null&&X!==void 0?X:0}),pe=mt(mt({},ce),$);return C.createElement(ur,mo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},hx(R,V,ne)),r&&C.createElement(_K,{option:r,tickProps:pe,value:"".concat(typeof l=="function"?l(V.value,ne):V.value).concat(u||"")}))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},z.length>0&&C.createElement(pr,{zIndex:Bt.label},C.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},z)),q.length>0&&C.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},q))}),EK=C.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:l,ticks:u,axisType:d}=e,f=hK(e,fK),[h,g]=C.useState(""),[y,b]=C.useState(""),S=C.useRef(null);C.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var T;return dK({ticks:S.current,label:(T=e.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var E=C.useCallback(T=>{if(T){var A=T.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=A;var N=A[0];if(N){var k=window.getComputedStyle(N),P=k.fontSize,R=k.letterSpacing;(P!==h||R!==y)&&(g(P),b(R))}}},[h,y]);return l||r!=null&&r<=0||i!=null&&i<=0?null:C.createElement(pr,{zIndex:e.zIndex},C.createElement(ur,{className:nt("recharts-cartesian-axis",o)},C.createElement(yK,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Cr(e)}),C.createElement(SK,{ref:E,axisType:d,events:f,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),C.createElement(uH,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},C.createElement(xH,{label:e.label,labelRef:e.labelRef}),e.children)))}),JM=C.forwardRef((e,t)=>{var n=In(e,Ps);return C.createElement(EK,mo({},n,{ref:t}))});JM.displayName="CartesianAxis";var TK=["x1","y1","x2","y2","key"],AK=["offset"],CK=["xAxisId","yAxisId"],NK=["xAxisId","yAxisId"];function j2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(n),!0).forEach(function(r){IK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IK(e,t,n){return(t=kK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kK(e){var t=RK(e,"string");return typeof t=="symbol"?t:t+""}function RK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function no(){return no=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},no.apply(null,arguments)}function nh(e,t){if(e==null)return{};var n,r,i=PK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function PK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var OK=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:l,ry:u}=e;return C.createElement("rect",{x:r,y:i,ry:u,width:o,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function XM(e){var{option:t,lineItemProps:n}=e,r;if(C.isValidElement(t))r=C.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:o,y1:l,x2:u,y2:d,key:f}=n,h=nh(n,TK),g=(i=Cr(h))!==null&&i!==void 0?i:{},{offset:y}=g,b=nh(g,AK);r=C.createElement("line",no({},b,{x1:o,y1:l,x2:u,y2:d,fill:"none",key:f}))}return r}function MK(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=nh(e,CK),d=i.map((f,h)=>{var g=sn(sn({},u),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(h),index:h});return C.createElement(XM,{key:"line-".concat(h),option:r,lineItemProps:g})});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function DK(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=nh(e,NK),d=i.map((f,h)=>{var g=sn(sn({},u),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(h),index:h});return C.createElement(XM,{option:r,lineItemProps:g,key:"line-".concat(h)})});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function jK(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:l,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length||u==null)return null;var f=u.map(g=>Math.round(g+i-i)).sort((g,y)=>g-y);i!==f[0]&&f.unshift(0);var h=f.map((g,y)=>{var b=f[y+1],S=b==null,E=S?i+l-g:b-g;if(E<=0)return null;var T=y%t.length;return C.createElement("rect",{key:"react-".concat(y),y:g,x:r,height:E,width:o,stroke:"none",fill:t[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function LK(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:l,height:u,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var f=d.map(g=>Math.round(g+i-i)).sort((g,y)=>g-y);i!==f[0]&&f.unshift(0);var h=f.map((g,y)=>{var b=f[y+1],S=b==null,E=S?i+l-g:b-g;if(E<=0)return null;var T=y%n.length;return C.createElement("rect",{key:"react-".concat(y),x:g,y:o,width:E,height:u,stroke:"none",fill:n[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var UK=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return IR(Nb(sn(sn(sn({},Ps),n),{},{ticks:kR(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},BK=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return IR(Nb(sn(sn(sn({},Ps),n),{},{ticks:kR(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},$K={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Bt.grid};function Ib(e){var t=UR(),n=BR(),r=LR(),i=sn(sn({},In(e,$K)),{},{x:ye(e.x)?e.x:r.left,y:ye(e.y)?e.y:r.top,width:ye(e.width)?e.width:r.width,height:ye(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:l,x:u,y:d,width:f,height:h,syncWithTicks:g,horizontalValues:y,verticalValues:b}=i,S=gn(),E=Ee(D=>kC(D,"xAxis",o,S)),T=Ee(D=>kC(D,"yAxis",l,S));if(!Fr(f)||!Fr(h)||!ye(u)||!ye(d))return null;var A=i.verticalCoordinatesGenerator||UK,N=i.horizontalCoordinatesGenerator||BK,{horizontalPoints:k,verticalPoints:P}=i;if((!k||!k.length)&&typeof N=="function"){var R=y&&y.length,O=N({yAxis:T?sn(sn({},T),{},{ticks:R?y:T.ticks}):void 0,width:t??f,height:n??h,offset:r},R?!0:g);Nf(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(k=O)}if((!P||!P.length)&&typeof A=="function"){var B=b&&b.length,K=A({xAxis:E?sn(sn({},E),{},{ticks:B?b:E.ticks}):void 0,width:t??f,height:n??h,offset:r},B?!0:g);Nf(Array.isArray(K),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof K,"]")),Array.isArray(K)&&(P=K)}return C.createElement(pr,{zIndex:i.zIndex},C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(OK,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),C.createElement(jK,no({},i,{horizontalPoints:k})),C.createElement(LK,no({},i,{verticalPoints:P})),C.createElement(MK,no({},i,{offset:r,horizontalPoints:k,xAxis:E,yAxis:T})),C.createElement(DK,no({},i,{offset:r,verticalPoints:P,xAxis:E,yAxis:T}))))}Ib.displayName="CartesianGrid";var zK={},ZM=kn({name:"errorBars",initialState:zK,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Zse,replaceErrorBar:Qse,removeErrorBar:ele}=ZM.actions,qK=ZM.reducer,VK=["children"];function GK(e,t){if(e==null)return{};var n,r,i=HK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function HK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var FK={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},KK=C.createContext(FK);function QM(e){var{children:t}=e,n=GK(e,VK);return C.createElement(KK.Provider,{value:n},t)}function kb(e,t){var n,r,i=Ee(f=>Oi(f,e)),o=Ee(f=>Mi(f,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Lt.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:sO.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function e4(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=Cb(),{needClipX:o,needClipY:l,needClip:u}=kb(t,n);if(!u||!i)return null;var{x:d,y:f,width:h,height:g}=i;return C.createElement("clipPath",{id:"clipPath-".concat(r)},C.createElement("rect",{x:o?d:d-h/2,y:l?f:f-g/2,width:o?h:h*2,height:l?g:g*2}))}var t4=(e,t,n,r)=>ba(e,"xAxis",t,r),n4=(e,t,n,r)=>xa(e,"xAxis",t,r),r4=(e,t,n,r)=>ba(e,"yAxis",n,r),i4=(e,t,n,r)=>xa(e,"yAxis",n,r),WK=te([We,t4,r4,n4,i4],(e,t,n,r,i)=>Ni(e,"xAxis")?Us(t,r,!1):Us(n,i,!1)),YK=(e,t,n,r,i)=>i;function JK(e){return e.type==="line"}var XK=te([ep,YK],(e,t)=>e.filter(JK).find(n=>n.id===t)),ZK=te([We,t4,r4,n4,i4,XK,WK,Jx],(e,t,n,r,i,o,l,u)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:h}=u;if(!(o==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:g,data:y}=o,b;if(y!=null&&y.length>0?b=y:b=d==null?void 0:d.slice(f,h+1),b!=null)return LW({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:b})}});function QK(e){var t=Hu(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:o}=t,l=Number(i),u=Number(o);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var yv={exports:{}},xv={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L2;function eW(){if(L2)return xv;L2=1;var e=Vs();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return xv.useSyncExternalStoreWithSelector=function(d,f,h,g,y){var b=i(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=l(function(){function T(R){if(!A){if(A=!0,N=R,R=g(R),y!==void 0&&S.hasValue){var O=S.value;if(y(O,R))return k=O}return k=R}if(O=k,n(N,R))return O;var B=g(R);return y!==void 0&&y(O,B)?(N=R,O):(N=R,k=B)}var A=!1,N,k,P=h===void 0?null:h;return[function(){return T(f())},P===null?void 0:function(){return T(P())}]},[f,h,g,y]);var E=r(d,b[0],b[1]);return o(function(){S.hasValue=!0,S.value=E},[E]),u(E),E},xv}var U2;function tW(){return U2||(U2=1,yv.exports=eW()),yv.exports}tW();function nW(e){e()}function rW(){let e=null,t=null;return{clear(){e=null,t=null},notify(){nW(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var B2={notify(){},get:()=>[]};function iW(e,t){let n,r=B2,i=0,o=!1;function l(E){h();const T=r.subscribe(E);let A=!1;return()=>{A||(A=!0,T(),g())}}function u(){r.notify()}function d(){S.onStateChange&&S.onStateChange()}function f(){return o}function h(){i++,n||(n=e.subscribe(d),r=rW())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=B2)}function y(){o||(o=!0,h())}function b(){o&&(o=!1,g())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return S}var aW=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oW=aW(),sW=()=>typeof navigator<"u"&&navigator.product==="ReactNative",lW=sW(),uW=()=>oW||lW?C.useLayoutEffect:C.useEffect,cW=uW();function $2(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function dW(e,t){if($2(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!$2(e[n[i]],t[n[i]]))return!1;return!0}var bv=Symbol.for("react-redux-context"),wv=typeof globalThis<"u"?globalThis:{};function fW(){if(!C.createContext)return{};const e=wv[bv]??(wv[bv]=new Map);let t=e.get(C.createContext);return t||(t=C.createContext(null),e.set(C.createContext,t)),t}var hW=fW();function pW(e){const{children:t,context:n,serverState:r,store:i}=e,o=C.useMemo(()=>{const d=iW(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=C.useMemo(()=>i.getState(),[i]);cW(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const u=n||hW;return C.createElement(u.Provider,{value:o},t)}var mW=pW,gW=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function vW(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function op(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(gW.has(r)){if(e[r]==null&&t[r]==null)continue;if(!dW(e[r],t[r]))return!1}else if(!vW(e[r],t[r]))return!1;return!0}var yW=["id"],xW=["type","layout","connectNulls","needClip","shape"],bW=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Du.apply(null,arguments)}function z2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(n),!0).forEach(function(r){wW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wW(e,t,n){return(t=_W(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _W(e){var t=SW(e,"string");return typeof t=="symbol"?t:t+""}function SW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rb(e,t){if(e==null)return{};var n,r,i=EW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TW=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:Ih(n,t),payload:e}]},AW=C.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:o,name:l,hide:u,unit:d,tooltipType:f,id:h}=e,g={dataDefinedOnItem:n,getPosition:go,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:Ih(l,t),hide:u,type:f,color:r,unit:d,graphicalItemId:h}};return C.createElement($M,{tooltipEntrySettings:g})}),a4=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function CW(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var NW=(e,t,n)=>{var r=n.reduce((b,S)=>b+S);if(!r)return a4(t,e);for(var i=Math.floor(e/r),o=e%r,l=t-e,u=[],d=0,f=0;d<n.length;f+=(h=n[d])!==null&&h!==void 0?h:0,++d){var h,g=n[d];if(g!=null&&f+g>o){u=[...n.slice(0,d),o-f];break}}var y=u.length%2===0?[0,l]:[l];return[...CW(n,i),...u,...y].map(b=>"".concat(b,"px")).join(", ")};function IW(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:o,needClip:l}=r,{id:u}=r,d=Rb(r,yW),f=Cr(d);return C.createElement(wF,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:f,needClip:l,clipPathId:t})}function kW(e){var{showLabels:t,children:n,points:r}=e,i=C.useMemo(()=>r==null?void 0:r.map(o=>{var l,u,d={x:(l=o.x)!==null&&l!==void 0?l:0,y:(u=o.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return $r($r({},d),{},{value:o.value,payload:o.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[r]);return C.createElement(IM,{value:t?i:void 0},n)}function q2(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:o}=e,{type:l,layout:u,connectNulls:d,needClip:f,shape:h}=o,g=Rb(o,xW),y=$r($r({},hn(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:r,type:l,layout:u,connectNulls:d,strokeDasharray:i??o.strokeDasharray});return C.createElement(C.Fragment,null,(r==null?void 0:r.length)>1&&C.createElement(jM,Du({shapeType:"curve",option:h},y,{pathRef:n})),C.createElement(IW,{points:r,clipPathId:t,props:o}))}function RW(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function PW(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:o}=e,{points:l,strokeDasharray:u,isAnimationActive:d,animationBegin:f,animationDuration:h,animationEasing:g,animateNewValues:y,width:b,height:S,onAnimationEnd:E,onAnimationStart:T}=n,A=i.current,N=$h(l,"recharts-line-"),k=C.useRef(N),[P,R]=C.useState(!1),O=!P,B=C.useCallback(()=>{typeof E=="function"&&E(),R(!1)},[E]),K=C.useCallback(()=>{typeof T=="function"&&T(),R(!0)},[T]),D=RW(r.current),G=C.useRef(0);k.current!==N&&(G.current=o.current,k.current=N);var $=G.current;return C.createElement(kW,{points:l,showLabels:O},n.children,C.createElement(Bh,{animationId:N,begin:f,duration:h,isActive:d,easing:g,onAnimationEnd:B,onAnimationStart:K,key:N},M=>{var U=yt($,D+$,M),L=Math.min(U,D),q;if(d)if(u){var z="".concat(u).split(/[,\s]+/gim).map(X=>parseFloat(X));q=NW(L,D,z)}else q=a4(D,L);else q=u==null?void 0:String(u);if(M>0&&D>0&&(i.current=l,o.current=Math.max(o.current,L)),A){var F=A.length/l.length,ne=M===1?l:l.map((X,oe)=>{var V=Math.floor(oe*F);if(A[V]){var J=A[V];return $r($r({},X),{},{x:yt(J.x,X.x,M),y:yt(J.y,X.y,M)})}return y?$r($r({},X),{},{x:yt(b*2,X.x,M),y:yt(S/2,X.y,M)}):$r($r({},X),{},{x:X.x,y:X.y})});return i.current=ne,C.createElement(q2,{props:n,points:ne,clipPathId:t,pathRef:r,strokeDasharray:q})}return C.createElement(q2,{props:n,points:l,clipPathId:t,pathRef:r,strokeDasharray:q})}),C.createElement(RM,{label:n.label}))}function OW(e){var{clipPathId:t,props:n}=e,r=C.useRef(null),i=C.useRef(0),o=C.useRef(null);return C.createElement(PW,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:o})}var MW=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Ct(e.payload,t)}};class DW extends C.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:o,yAxisId:l,top:u,left:d,width:f,height:h,id:g,needClip:y,zIndex:b}=this.props;if(t)return null;var S=nt("recharts-line",i),E=g,{r:T,strokeWidth:A}=QK(n),N=DM(n),k=T*2+A,P=y?"url(#clipPath-".concat(N?"":"dots-").concat(E,")"):void 0;return C.createElement(pr,{zIndex:b},C.createElement(ur,{className:S},y&&C.createElement("defs",null,C.createElement(e4,{clipPathId:E,xAxisId:o,yAxisId:l}),!N&&C.createElement("clipPath",{id:"clipPath-dots-".concat(E)},C.createElement("rect",{x:d-k/2,y:u-k/2,width:f+k,height:h+k}))),C.createElement(QM,{xAxisId:o,yAxisId:l,data:r,dataPointFormatter:MW,errorBarOffset:0},C.createElement(OW,{props:this.props,clipPathId:E}))),C.createElement(LF,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:P}))}}var o4={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Bt.line,type:"linear"};function jW(e){var t=In(e,o4),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:l,connectNulls:u,dot:d,hide:f,isAnimationActive:h,label:g,legendType:y,xAxisId:b,yAxisId:S,id:E}=t,T=Rb(t,bW),{needClip:A}=kb(b,S),N=Cb(),k=vo(),P=gn(),R=Ee(G=>ZK(G,b,S,P,E));if(k!=="horizontal"&&k!=="vertical"||R==null||N==null)return null;var{height:O,width:B,x:K,y:D}=N;return C.createElement(DW,Du({},T,{id:E,connectNulls:u,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:l,isAnimationActive:h,hide:f,label:g,legendType:y,xAxisId:b,yAxisId:S,points:R,layout:k,height:O,width:B,left:K,top:D,needClip:A}))}function LW(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,dataKey:l,bandSize:u,displayedData:d}=e;return d.map((f,h)=>{var g=Ct(f,l);if(t==="horizontal"){var y=IT({axis:n,ticks:i,bandSize:u,entry:f,index:h}),b=ft(g)?null:r.scale.map(g);return{x:y,y:b??null,value:g,payload:f}}var S=ft(g)?null:n.scale.map(g),E=IT({axis:r,ticks:o,bandSize:u,entry:f,index:h});return S==null||E==null?null:{x:S,y:E,value:g,payload:f}}).filter(Boolean)}function UW(e){var t=In(e,o4),n=gn();return C.createElement(qM,{id:t.id,type:"line"},r=>C.createElement(C.Fragment,null,C.createElement(zM,{legendPayload:TW(t)}),C.createElement(AW,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),C.createElement(GM,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),C.createElement(jW,Du({},t,{id:r}))))}var ju=C.memo(UW,op);ju.displayName="Line";function bo(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:HM}function wo(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:HM}var BW="Invariant failed";function $W(e,t){throw new Error(BW)}function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ay.apply(null,arguments)}function rh(e){return C.createElement(jM,Ay({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var zW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ye(t))return t;var o=ye(r)||ft(r);return o?t(r,i):(o||$W(),n)}},qW=(e,t,n)=>n,VW=(e,t)=>t,lc=te([ep,VW],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),GW=te([lc],e=>e==null?void 0:e.maxBarSize),HW=(e,t,n,r)=>r,FW=te([We,ep,bo,wo,qW],(e,t,n,r,i)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),KW=(e,t,n)=>{var r=We(e),i=bo(e,t),o=wo(e,t);if(!(i==null||o==null))return r==="horizontal"?xy(e,"yAxis",o,n):xy(e,"xAxis",i,n)},WW=(e,t)=>{var n=We(e),r=bo(e,t),i=wo(e,t);if(!(r==null||i==null))return n==="horizontal"?IC(e,"xAxis",r):IC(e,"yAxis",i)},YW=te([FW,ez,WW],UF),JW=(e,t,n)=>{var r,i,o=lc(e,t);if(o==null)return 0;var l=bo(e,t),u=wo(e,t);if(l==null||u==null)return 0;var d=We(e),f=JP(e),{maxBarSize:h}=o,g=ft(h)?f:h,y,b;return d==="horizontal"?(y=ba(e,"xAxis",l,n),b=xa(e,"xAxis",l,n)):(y=ba(e,"yAxis",u,n),b=xa(e,"yAxis",u,n)),(r=(i=Us(y,b,!0))!==null&&i!==void 0?i:g)!==null&&r!==void 0?r:0},s4=(e,t,n)=>{var r=We(e),i=bo(e,t),o=wo(e,t);if(!(i==null||o==null)){var l,u;return r==="horizontal"?(l=ba(e,"xAxis",i,n),u=xa(e,"xAxis",i,n)):(l=ba(e,"yAxis",o,n),u=xa(e,"yAxis",o,n)),Us(l,u)}},XW=te([YW,JP,Q$,XP,JW,s4,GW],VF),ZW=(e,t,n)=>{var r=bo(e,t);if(r!=null)return ba(e,"xAxis",r,n)},QW=(e,t,n)=>{var r=wo(e,t);if(r!=null)return ba(e,"yAxis",r,n)},eY=(e,t,n)=>{var r=bo(e,t);if(r!=null)return xa(e,"xAxis",r,n)},tY=(e,t,n)=>{var r=wo(e,t);if(r!=null)return xa(e,"yAxis",r,n)},nY=te([XW,lc],HF),rY=te([KW,lc],GF),iY=te([$t,PR,ZW,QW,eY,tY,nY,We,H$,s4,rY,lc,HW],(e,t,n,r,i,o,l,u,d,f,h,g,y)=>{var{chartData:b,dataStartIndex:S,dataEndIndex:E}=d;if(!(g==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||o==null||f==null)){var{data:T}=g,A;if(T!=null&&T.length>0?A=T:A=b==null?void 0:b.slice(S,E+1),A!=null)return PY({layout:u,barSettings:g,pos:l,parentViewBox:t,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:h,displayedData:A,offset:e,cells:y,dataStartIndex:S})}}),aY=["index"];function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cy.apply(null,arguments)}function oY(e,t){if(e==null)return{};var n,r,i=sY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var l4=C.createContext(void 0),lY=e=>{var t=C.useContext(l4);if(t!=null)return t.stackId;if(e!=null)return KL(e)},uY=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),cY=e=>{var t=C.useContext(l4);if(t!=null){var{stackId:n}=t;return"url(#".concat(uY(n,e),")")}},u4=e=>{var{index:t}=e,n=oY(e,aY),r=cY(t);return C.createElement(ur,Cy({className:"recharts-bar-stack-layer",clipPath:r},n))},dY=["onMouseEnter","onMouseLeave","onClick"],fY=["value","background","tooltipPosition"],hY=["id"],pY=["onMouseEnter","onClick","onMouseLeave"];function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ai.apply(null,arguments)}function V2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V2(Object(n),!0).forEach(function(r){mY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mY(e,t,n){return(t=gY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gY(e){var t=vY(e,"string");return typeof t=="symbol"?t:t+""}function vY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ih(e,t){if(e==null)return{};var n,r,i=yY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xY=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:Ih(n,t),payload:e}]},bY=C.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:l,unit:u,tooltipType:d,id:f}=e,h={dataDefinedOnItem:void 0,getPosition:go,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Ih(o,t),hide:l,type:d,color:i,unit:u,graphicalItemId:f}};return C.createElement($M,{tooltipEntrySettings:h})});function wY(e){var t=Ee(po),{data:n,dataKey:r,background:i,allOtherBarProps:o}=e,{onMouseEnter:l,onMouseLeave:u,onClick:d}=o,f=ih(o,dY),h=LM(l,r,o.id),g=UM(u),y=BM(d,r,o.id);if(!i||n==null)return null;var b=Hu(i);return C.createElement(pr,{zIndex:FF(i,Bt.barBackground)},n.map((S,E)=>{var{value:T,background:A,tooltipPosition:N}=S,k=ih(S,fY);if(!A)return null;var P=h(S,E),R=g(S,E),O=y(S,E),B=dn(dn(dn(dn(dn({option:i,isActive:String(E)===t},k),{},{fill:"#eee"},A),b),hx(f,S,E)),{},{onMouseEnter:P,onMouseLeave:R,onClick:O,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return C.createElement(rh,Ai({key:"background-bar-".concat(E)},B))}))}function _Y(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(o=>{var l={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return dn(dn({},l),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:l,fill:o.fill})});return C.createElement(IM,{value:t?i:void 0},n)}function SY(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:o,dataKey:l}=e,u=Ee(po),d=Ee(oM),f=n&&String(o)===u&&(d==null||l===d),h=f?n:t;return f?C.createElement(pr,{zIndex:Bt.activeBar},C.createElement(u4,{index:o},C.createElement(rh,Ai({},r,{name:String(r.name)},i,{isActive:f,option:h,index:o,dataKey:l})))):C.createElement(rh,Ai({},r,{name:String(r.name)},i,{isActive:f,option:h,index:o,dataKey:l}))}function EY(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:o}=e;return C.createElement(rh,Ai({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:o}))}function TY(e){var t,{data:n,props:r}=e,i=(t=Cr(r))!==null&&t!==void 0?t:{},{id:o}=i,l=ih(i,hY),{shape:u,dataKey:d,activeBar:f}=r,{onMouseEnter:h,onClick:g,onMouseLeave:y}=r,b=ih(r,pY),S=LM(h,d,o),E=UM(y),T=BM(g,d,o);return n?C.createElement(C.Fragment,null,n.map((A,N)=>C.createElement(u4,Ai({index:N,key:"rectangle-".concat(A==null?void 0:A.x,"-").concat(A==null?void 0:A.y,"-").concat(A==null?void 0:A.value,"-").concat(N),className:"recharts-bar-rectangle"},hx(b,A,N),{onMouseEnter:S(A,N),onMouseLeave:E(A,N),onClick:T(A,N)}),f?C.createElement(SY,{shape:u,activeBar:f,baseProps:l,entry:A,index:N,dataKey:d}):C.createElement(EY,{shape:u,baseProps:l,entry:A,index:N,dataKey:d})))):null}function AY(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:o,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:f,onAnimationStart:h}=t,g=n.current,y=$h(t,"recharts-bar-"),[b,S]=C.useState(!1),E=!b,T=C.useCallback(()=>{typeof f=="function"&&f(),S(!1)},[f]),A=C.useCallback(()=>{typeof h=="function"&&h(),S(!0)},[h]);return C.createElement(_Y,{showLabels:E,rects:r},C.createElement(Bh,{animationId:y,begin:l,duration:u,isActive:o,easing:d,onAnimationEnd:T,onAnimationStart:A,key:y},N=>{var k=N===1?r:r==null?void 0:r.map((P,R)=>{var O=g&&g[R];if(O)return dn(dn({},P),{},{x:yt(O.x,P.x,N),y:yt(O.y,P.y,N),width:yt(O.width,P.width,N),height:yt(O.height,P.height,N)});if(i==="horizontal"){var B=yt(0,P.height,N),K=yt(P.stackedBarStart,P.y,N);return dn(dn({},P),{},{y:K,height:B})}var D=yt(0,P.width,N),G=yt(P.stackedBarStart,P.x,N);return dn(dn({},P),{},{width:D,x:G})});return N>0&&(n.current=k??null),k==null?null:C.createElement(ur,null,C.createElement(TY,{props:t,data:k}))}),C.createElement(RM,{label:t.label}),t.children)}function CY(e){var t=C.useRef(null);return C.createElement(AY,{previousRectanglesRef:t,props:e})}var c4=0,NY=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Ct(e,t)}};class IY extends C.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:l,needClip:u,background:d,id:f}=this.props;if(t||n==null)return null;var h=nt("recharts-bar",i),g=f;return C.createElement(ur,{className:h,id:f},u&&C.createElement("defs",null,C.createElement(e4,{clipPathId:g,xAxisId:o,yAxisId:l})),C.createElement(ur,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},C.createElement(wY,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),C.createElement(CY,this.props)))}}var kY={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:c4,xAxisId:0,yAxisId:0,zIndex:Bt.bar};function RY(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:h}=e,{needClip:g}=kb(t,n),y=vo(),b=gn(),S=UH(e.children,ap),E=Ee(N=>iY(N,e.id,b,S));if(y!=="vertical"&&y!=="horizontal")return null;var T,A=E==null?void 0:E[0];return A==null||A.height==null||A.width==null?T=0:T=y==="vertical"?A.height/2:A.width/2,C.createElement(QM,{xAxisId:t,yAxisId:n,data:E,dataPointFormatter:NY,errorBarOffset:T},C.createElement(IY,Ai({},e,{layout:y,needClip:g,data:E,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:h})))}function PY(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:f,stackedData:h,displayedData:g,offset:y,cells:b,parentViewBox:S,dataStartIndex:E}=e,T=t==="horizontal"?u:l,A=h?T.scale.domain():null,N=WL({numericAxis:T}),k=T.scale.map(N);return g.map((P,R)=>{var O,B,K,D,G,$;if(h){var M=h[R+E];if(M==null)return null;O=qL(M,A)}else O=Ct(P,n),Array.isArray(O)||(O=[N,O]);var U=zW(r,c4)(O[1],R);if(t==="horizontal"){var L,q=u.scale.map(O[0]),z=u.scale.map(O[1]);if(q==null||z==null)return null;B=kT({axis:l,ticks:d,bandSize:o,offset:i.offset,entry:P,index:R}),K=(L=z??q)!==null&&L!==void 0?L:void 0,D=i.size;var F=q-z;if(G=Gr(F)?0:F,$={x:B,y:y.top,width:D,height:y.height},Math.abs(U)>0&&Math.abs(G)<Math.abs(U)){var ne=Tn(G||U)*(Math.abs(U)-Math.abs(G));K-=ne,G+=ne}}else{var X=l.scale.map(O[0]),oe=l.scale.map(O[1]);if(X==null||oe==null)return null;if(B=X,K=kT({axis:u,ticks:f,bandSize:o,offset:i.offset,entry:P,index:R}),D=oe-X,G=i.size,$={x:y.left,y:K,width:y.width,height:G},Math.abs(U)>0&&Math.abs(D)<Math.abs(U)){var V=Tn(D||U)*(Math.abs(U)-Math.abs(D));D+=V}}if(B==null||K==null||D==null||G==null)return null;var J=dn(dn({},P),{},{stackedBarStart:k,x:B,y:K,width:D,height:G,value:h?O:O[1],payload:P,background:$,tooltipPosition:{x:B+D/2,y:K+G/2},parentViewBox:S},b&&b[R]&&b[R].props);return J}).filter(Boolean)}function OY(e){var t=In(e,kY),n=lY(t.stackId),r=gn();return C.createElement(qM,{id:t.id,type:"bar"},i=>C.createElement(C.Fragment,null,C.createElement(zM,{legendPayload:xY(t)}),C.createElement(bY,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),C.createElement(GM,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),C.createElement(pr,{zIndex:t.zIndex},C.createElement(RY,Ai({},t,{id:i})))))}var Pb=C.memo(OY,op);Pb.displayName="Bar";var MY=["domain","range"],DY=["domain","range"];function G2(e,t){if(e==null)return{};var n,r,i=jY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function H2(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function LY(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=G2(e,MY),{domain:o,range:l}=t,u=G2(t,DY);return!H2(n,o)||!H2(r,l)?!1:op(i,u)}var UY=["type"],BY=["dangerouslySetInnerHTML","ticks","scale"],$Y=["id","scale"];function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ny.apply(null,arguments)}function F2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(n),!0).forEach(function(r){zY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zY(e,t,n){return(t=qY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qY(e){var t=VY(e,"string");return typeof t=="symbol"?t:t+""}function VY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iy(e,t){if(e==null)return{};var n,r,i=GY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function HY(e){var t=Pt(),n=C.useRef(null),r=RU(),{type:i}=e,o=Iy(e,UY),l=nb(r,"xAxis",i),u=C.useMemo(()=>{if(l!=null)return K2(K2({},o),{},{type:l})},[o,l]);return C.useLayoutEffect(()=>{u!=null&&(n.current===null?t(AF(u)):n.current!==u&&t(CF({prev:n.current,next:u})),n.current=u)},[u,t]),C.useLayoutEffect(()=>()=>{n.current&&(t(NF(n.current)),n.current=null)},[t]),null}var FY=e=>{var{xAxisId:t,className:n}=e,r=Ee(PR),i=gn(),o="xAxis",l=Ee(A=>oq(A,o,t,i)),u=Ee(A=>LO(A,t)),d=Ee(A=>nq(A,t)),f=Ee(A=>oO(A,t));if(u==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:g,scale:y}=e,b=Iy(e,BY),{id:S,scale:E}=f,T=Iy(f,$Y);return C.createElement(JM,Ny({},b,T,{x:d.x,y:d.y,width:u.width,height:u.height,className:nt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:l,axisType:o}))},KY={allowDataOverflow:Lt.allowDataOverflow,allowDecimals:Lt.allowDecimals,allowDuplicatedCategory:Lt.allowDuplicatedCategory,angle:Lt.angle,axisLine:Ps.axisLine,height:Lt.height,hide:!1,includeHidden:Lt.includeHidden,interval:Lt.interval,label:!1,minTickGap:Lt.minTickGap,mirror:Lt.mirror,orientation:Lt.orientation,padding:Lt.padding,reversed:Lt.reversed,scale:Lt.scale,tick:Lt.tick,tickCount:Lt.tickCount,tickLine:Ps.tickLine,tickSize:Ps.tickSize,type:Lt.type,xAxisId:0},WY=e=>{var t=In(e,KY);return C.createElement(C.Fragment,null,C.createElement(HY,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),C.createElement(FY,t))},Ob=C.memo(WY,LY);Ob.displayName="XAxis";var YY=(e,t)=>t,Mb=te([YY,We,iO,Vt,nM,Di,bV,$t],CV),Db=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},d4=cr("mouseClick"),f4=Wu();f4.startListening({actionCreator:d4,effect:(e,t)=>{var n=e.payload,r=Mb(t.getState(),Db(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(xq({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var ky=cr("mouseMove"),h4=Wu(),Vd=null;h4.startListening({actionCreator:ky,effect:(e,t)=>{var n=e.payload;Vd!==null&&cancelAnimationFrame(Vd);var r=Db(n);Vd=requestAnimationFrame(()=>{var i=t.getState(),o=gb(i,i.tooltip.settings.shared);if(o==="axis"){var l=Mb(i,r);(l==null?void 0:l.activeIndex)!=null?t.dispatch(KO({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(FO())}Vd=null})}});function JY(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var W2={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},p4=kn({name:"rootProps",initialState:W2,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:W2.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),XY=p4.reducer,{updateOptions:ZY}=p4.actions,QY=null,eJ={updatePolarOptions:(e,t)=>t.payload},m4=kn({name:"polarOptions",initialState:QY,reducers:eJ}),{updatePolarOptions:tle}=m4.actions,tJ=m4.reducer,g4=cr("keyDown"),v4=cr("focus"),jb=Wu();jb.startListening({actionCreator:g4,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=vb(i,Zs(n),ic(n),oc(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=Di(n);if(o==="Enter"){var f=Xf(n,"axis","hover",String(i.index));t.dispatch(wy({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var h=uq(n),g=h==="left-to-right"?1:-1,y=o==="ArrowRight"?1:-1,b=u+y*g;if(!(d==null||b>=d.length||b<0)){var S=Xf(n,"axis","hover",String(b));t.dispatch(wy({active:!0,activeIndex:b.toString(),activeCoordinate:S}))}}}}}});jb.startListening({actionCreator:v4,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=Xf(n,"axis","hover",String(o));t.dispatch(wy({active:!0,activeIndex:o,activeCoordinate:l}))}}}});var or=cr("externalEvent"),y4=Wu(),_v=new Map;y4.startListening({actionCreator:or,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,o=_v.get(i);o!==void 0&&cancelAnimationFrame(o);var l=requestAnimationFrame(()=>{try{var u=t.getState(),d={activeCoordinate:iV(u),activeDataKey:oM(u),activeIndex:po(u),activeLabel:aM(u),activeTooltipIndex:po(u),isTooltipActive:aV(u)};n(d,r)}finally{_v.delete(i)}});_v.set(i,l)}}});var nJ=te([Js],e=>e.tooltipItemPayloads),rJ=te([nJ,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(o=>o.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),x4=cr("touchMove"),b4=Wu();b4.startListening({actionCreator:x4,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=gb(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var l=Mb(r,Db({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(KO({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var u,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(tU),g=(u=f.getAttribute(nU))!==null&&u!==void 0?u:void 0,y=Xs(r).find(E=>E.id===g);if(h==null||y==null||g==null)return;var{dataKey:b}=y,S=rJ(r,h,g);t.dispatch(HO({activeDataKey:b,activeIndex:h,activeCoordinate:S,activeGraphicalItemId:g}))}}}});var iJ=eR({brush:WF,cartesianAxis:IF,chartData:aG,errorBars:qK,graphicalItems:dF,layout:LL,legend:WU,options:eG,polarAxis:OH,polarOptions:tJ,referenceElements:ZF,rootProps:XY,tooltip:bq,zIndex:zV}),aJ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return lL({reducer:iJ,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([f4.middleware,h4.middleware,jb.middleware,y4.middleware,b4.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(mR({type:"raf"}))},devTools:{serialize:{replacer:JY},name:"recharts-".concat(n)}})};function oJ(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=gn(),o=C.useRef(null);if(i)return n;o.current==null&&(o.current=aJ(t,r));var l=gx;return C.createElement(mW,{context:l,store:o.current},n)}function sJ(e){var{layout:t,margin:n}=e,r=Pt(),i=gn();return C.useEffect(()=>{i||(r(ML(t)),r(OL(n)))},[r,i,t,n]),null}var lJ=C.memo(sJ,op);function uJ(e){var t=Pt();return C.useEffect(()=>{t(ZY(e))},[t,e]),null}function Y2(e){var{zIndex:t,isPanorama:n}=e,r=C.useRef(null),i=Pt();return C.useLayoutEffect(()=>(r.current&&i(BV({zIndex:t,element:r.current,isPanorama:n})),()=>{i($V({zIndex:t,isPanorama:n}))}),[i,t,n]),C.createElement("g",{tabIndex:-1,ref:r})}function J2(e){var{children:t,isPanorama:n}=e,r=Ee(IV);if(!r||r.length===0)return t;var i=r.filter(l=>l<0),o=r.filter(l=>l>0);return C.createElement(C.Fragment,null,i.map(l=>C.createElement(Y2,{key:l,zIndex:l,isPanorama:n})),t,o.map(l=>C.createElement(Y2,{key:l,zIndex:l,isPanorama:n})))}var cJ=["children"];function dJ(e,t){if(e==null)return{};var n,r,i=fJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ah.apply(null,arguments)}var hJ={width:"100%",height:"100%",display:"block"},pJ=C.forwardRef((e,t)=>{var n=UR(),r=BR(),i=WR();if(!Fr(n)||!Fr(r))return null;var{children:o,otherAttributes:l,title:u,desc:d}=e,f,h;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0),C.createElement(vk,ah({},l,{title:u,desc:d,role:h,tabIndex:f,width:n,height:r,style:hJ,ref:t}),o)}),mJ=e=>{var{children:t}=e,n=Ee(Oh);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return C.createElement(vk,{width:r,height:i,x:l,y:o},t)},X2=C.forwardRef((e,t)=>{var{children:n}=e,r=dJ(e,cJ),i=gn();return i?C.createElement(mJ,null,C.createElement(J2,{isPanorama:!0},n)):C.createElement(pJ,ah({ref:t},r),C.createElement(J2,{isPanorama:!1},n))});function gJ(){var e=Pt(),[t,n]=C.useState(null),r=Ee(eU);return C.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;Ue(o)&&o!==r&&e(jL(o))}},[t,e,r]),n}function Z2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z2(Object(n),!0).forEach(function(r){yJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yJ(e,t,n){return(t=xJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xJ(e){var t=bJ(e,"string");return typeof t=="symbol"?t:t+""}function bJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ya(){return ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ya.apply(null,arguments)}var wJ=()=>(pG(),null);function oh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var _J=C.forwardRef((e,t)=>{var n,r,i=C.useRef(null),[o,l]=C.useState({containerWidth:oh((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:oh((r=e.style)===null||r===void 0?void 0:r.height)}),u=C.useCallback((f,h)=>{l(g=>{var y=Math.round(f),b=Math.round(h);return g.containerWidth===y&&g.containerHeight===b?g:{containerWidth:y,containerHeight:b}})},[]),d=C.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:g}=f.getBoundingClientRect();u(h,g);var y=S=>{var E=S[0];if(E!=null){var{width:T,height:A}=E.contentRect;u(T,A)}},b=new ResizeObserver(y);b.observe(f),i.current=b}},[t,u]);return C.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[u]),C.createElement(C.Fragment,null,C.createElement(Ju,{width:o.containerWidth,height:o.containerHeight}),C.createElement("div",ya({ref:d},e)))}),SJ=C.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=C.useState({containerWidth:oh(n),containerHeight:oh(r)}),l=C.useCallback((d,f)=>{o(h=>{var g=Math.round(d),y=Math.round(f);return h.containerWidth===g&&h.containerHeight===y?h:{containerWidth:g,containerHeight:y}})},[]),u=C.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:h}=d.getBoundingClientRect();l(f,h)}},[t,l]);return C.createElement(C.Fragment,null,C.createElement(Ju,{width:i.containerWidth,height:i.containerHeight}),C.createElement("div",ya({ref:u},e)))}),EJ=C.forwardRef((e,t)=>{var{width:n,height:r}=e;return C.createElement(C.Fragment,null,C.createElement(Ju,{width:n,height:r}),C.createElement("div",ya({ref:t},e)))}),TJ=C.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?C.createElement(SJ,ya({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?C.createElement(EJ,ya({},e,{width:n,height:r,ref:t})):C.createElement(C.Fragment,null,C.createElement(Ju,{width:n,height:r}),C.createElement("div",ya({ref:t},e)))});function AJ(e){return e?_J:TJ}var CJ=C.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:f,onMouseLeave:h,onMouseMove:g,onMouseUp:y,onTouchEnd:b,onTouchMove:S,onTouchStart:E,style:T,width:A,responsive:N,dispatchTouchEvents:k=!0}=e,P=C.useRef(null),R=Pt(),[O,B]=C.useState(null),[K,D]=C.useState(null),G=gJ(),$=Sx(),M=($==null?void 0:$.width)>0?$.width:A,U=($==null?void 0:$.height)>0?$.height:i,L=C.useCallback(ie=>{G(ie),typeof t=="function"&&t(ie),B(ie),D(ie),ie!=null&&(P.current=ie)},[G,t,B,D]),q=C.useCallback(ie=>{R(d4(ie)),R(or({handler:o,reactEvent:ie}))},[R,o]),z=C.useCallback(ie=>{R(ky(ie)),R(or({handler:f,reactEvent:ie}))},[R,f]),F=C.useCallback(ie=>{R(FO()),R(or({handler:h,reactEvent:ie}))},[R,h]),ne=C.useCallback(ie=>{R(ky(ie)),R(or({handler:g,reactEvent:ie}))},[R,g]),X=C.useCallback(()=>{R(v4())},[R]),oe=C.useCallback(ie=>{R(g4(ie.key))},[R]),V=C.useCallback(ie=>{R(or({handler:l,reactEvent:ie}))},[R,l]),J=C.useCallback(ie=>{R(or({handler:u,reactEvent:ie}))},[R,u]),ce=C.useCallback(ie=>{R(or({handler:d,reactEvent:ie}))},[R,d]),pe=C.useCallback(ie=>{R(or({handler:y,reactEvent:ie}))},[R,y]),se=C.useCallback(ie=>{R(or({handler:E,reactEvent:ie}))},[R,E]),de=C.useCallback(ie=>{k&&R(x4(ie)),R(or({handler:S,reactEvent:ie}))},[R,k,S]),he=C.useCallback(ie=>{R(or({handler:b,reactEvent:ie}))},[R,b]),Ie=AJ(N);return C.createElement(hM.Provider,{value:O},C.createElement(q5.Provider,{value:K},C.createElement(Ie,{width:M??(T==null?void 0:T.width),height:U??(T==null?void 0:T.height),className:nt("recharts-wrapper",r),style:vJ({position:"relative",cursor:"default",width:M,height:U},T),onClick:q,onContextMenu:V,onDoubleClick:J,onFocus:X,onKeyDown:oe,onMouseDown:ce,onMouseEnter:z,onMouseLeave:F,onMouseMove:ne,onMouseUp:pe,onTouchEnd:he,onTouchMove:de,onTouchStart:se,ref:L},C.createElement(wJ,null),n)))}),NJ=["width","height","responsive","children","className","style","compact","title","desc"];function IJ(e,t){if(e==null)return{};var n,r,i=kJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var RJ=C.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:l,style:u,compact:d,title:f,desc:h}=e,g=IJ(e,NJ),y=Cr(g);return d?C.createElement(C.Fragment,null,C.createElement(Ju,{width:n,height:r}),C.createElement(X2,{otherAttributes:y,title:f,desc:h},o)):C.createElement(CJ,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},C.createElement(X2,{otherAttributes:y,title:f,desc:h,ref:t},C.createElement(eK,null,o)))});function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ry.apply(null,arguments)}var PJ={top:5,right:5,bottom:5,left:5},OJ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:PJ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},MJ=C.forwardRef(function(t,n){var r,i=In(t.categoricalChartProps,OJ),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,h={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return C.createElement(oJ,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:o},C.createElement(KF,{chartData:f.data}),C.createElement(lJ,{layout:i.layout,margin:i.margin}),C.createElement(uJ,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),C.createElement(RJ,Ry({},i,{ref:n})))}),DJ=["axis"],w4=C.forwardRef((e,t)=>C.createElement(MJ,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:DJ,tooltipPayloadSearcher:ZV,categoricalChartProps:e,ref:t})),jJ={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let LJ,UJ;function BJ(){return{geminiUrl:LJ,vertexUrl:UJ}}function $J(e,t,n,r){var i,o;if(!(e!=null&&e.baseUrl)){const l=BJ();return t?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ji{}function me(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function x(e,t,n){for(let o=0;o<t.length-1;o++){const l=t[o];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const d=e[u];if(Array.isArray(n))for(let f=0;f<d.length;f++){const h=d[f];x(h,t.slice(o+1),n[f])}else for(const f of d)x(f,t.slice(o+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const d=e[u];x(d[0],t.slice(o+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function v(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const l=e[o];return Array.isArray(l)?l.map(u=>v(u,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function zJ(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),o=r.split("."),l=new Set;let u=-1;for(let d=0;d<i.length;d++)if(i[d]==="*"){u=d;break}if(u!==-1&&o.length>u)for(let d=u;d<o.length;d++){const f=o[d];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&l.add(f)}Py(e,i,o,0,l)}}function Py(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const o=t[r];if(o.endsWith("[]")){const l=o.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const d of u[l])Py(d,t,n,r+1,i)}else if(o==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(f=>!f.startsWith("_")&&!i.has(f)),d={};for(const f of u)d[f]=l[f];for(const[f,h]of Object.entries(d)){const g=[];for(const y of n.slice(r))y==="*"?g.push(f):g.push(y);x(l,g,h)}for(const f of u)delete l[f]}}else{const l=e;o in l&&Py(l[o],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lb(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qJ(e){const t={},n=v(e,["operationName"]);n!=null&&x(t,["operationName"],n);const r=v(e,["resourceName"]);return r!=null&&x(t,["_url","resourceName"],r),t}function VJ(e){const t={},n=v(e,["name"]);n!=null&&x(t,["name"],n);const r=v(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=v(e,["done"]);i!=null&&x(t,["done"],i);const o=v(e,["error"]);o!=null&&x(t,["error"],o);const l=v(e,["response","generateVideoResponse"]);return l!=null&&x(t,["response"],HJ(l)),t}function GJ(e){const t={},n=v(e,["name"]);n!=null&&x(t,["name"],n);const r=v(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=v(e,["done"]);i!=null&&x(t,["done"],i);const o=v(e,["error"]);o!=null&&x(t,["error"],o);const l=v(e,["response"]);return l!=null&&x(t,["response"],FJ(l)),t}function HJ(e){const t={},n=v(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>KJ(l))),x(t,["generatedVideos"],o)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&x(t,["raiMediaFilteredCount"],r);const i=v(e,["raiMediaFilteredReasons"]);return i!=null&&x(t,["raiMediaFilteredReasons"],i),t}function FJ(e){const t={},n=v(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>WJ(l))),x(t,["generatedVideos"],o)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&x(t,["raiMediaFilteredCount"],r);const i=v(e,["raiMediaFilteredReasons"]);return i!=null&&x(t,["raiMediaFilteredReasons"],i),t}function KJ(e){const t={},n=v(e,["video"]);return n!=null&&x(t,["video"],eX(n)),t}function WJ(e){const t={},n=v(e,["_self"]);return n!=null&&x(t,["video"],tX(n)),t}function YJ(e){const t={},n=v(e,["operationName"]);return n!=null&&x(t,["_url","operationName"],n),t}function JJ(e){const t={},n=v(e,["operationName"]);return n!=null&&x(t,["_url","operationName"],n),t}function XJ(e){const t={},n=v(e,["name"]);n!=null&&x(t,["name"],n);const r=v(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=v(e,["done"]);i!=null&&x(t,["done"],i);const o=v(e,["error"]);o!=null&&x(t,["error"],o);const l=v(e,["response"]);return l!=null&&x(t,["response"],ZJ(l)),t}function ZJ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["parent"]);r!=null&&x(t,["parent"],r);const i=v(e,["documentName"]);return i!=null&&x(t,["documentName"],i),t}function _4(e){const t={},n=v(e,["name"]);n!=null&&x(t,["name"],n);const r=v(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=v(e,["done"]);i!=null&&x(t,["done"],i);const o=v(e,["error"]);o!=null&&x(t,["error"],o);const l=v(e,["response"]);return l!=null&&x(t,["response"],QJ(l)),t}function QJ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["parent"]);r!=null&&x(t,["parent"],r);const i=v(e,["documentName"]);return i!=null&&x(t,["documentName"],i),t}function eX(e){const t={},n=v(e,["uri"]);n!=null&&x(t,["uri"],n);const r=v(e,["encodedVideo"]);r!=null&&x(t,["videoBytes"],Lb(r));const i=v(e,["encoding"]);return i!=null&&x(t,["mimeType"],i),t}function tX(e){const t={},n=v(e,["gcsUri"]);n!=null&&x(t,["uri"],n);const r=v(e,["bytesBase64Encoded"]);r!=null&&x(t,["videoBytes"],Lb(r));const i=v(e,["mimeType"]);return i!=null&&x(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Q2;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Q2||(Q2={}));var eN;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(eN||(eN={}));var tN;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(tN||(tN={}));var ga;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(ga||(ga={}));var nN;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(nN||(nN={}));var rN;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(rN||(rN={}));var iN;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(iN||(iN={}));var aN;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(aN||(aN={}));var oN;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(oN||(oN={}));var sN;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(sN||(sN={}));var lN;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(lN||(lN={}));var uN;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(uN||(uN={}));var cN;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(cN||(cN={}));var dN;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(dN||(dN={}));var fN;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(fN||(fN={}));var hN;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(hN||(hN={}));var pN;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(pN||(pN={}));var mN;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(mN||(mN={}));var gN;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(gN||(gN={}));var vN;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(vN||(vN={}));var yN;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(yN||(yN={}));var sh;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(sh||(sh={}));var xN;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(xN||(xN={}));var bN;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(bN||(bN={}));var wN;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(wN||(wN={}));var Oy;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Oy||(Oy={}));var _N;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(_N||(_N={}));var SN;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(SN||(SN={}));var My;(function(e){e.COLLECTION="COLLECTION"})(My||(My={}));var EN;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(EN||(EN={}));var TN;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(TN||(TN={}));var AN;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(AN||(AN={}));var CN;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(CN||(CN={}));var NN;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(NN||(NN={}));var IN;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(IN||(IN={}));var kN;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(kN||(kN={}));var RN;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(RN||(RN={}));var PN;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(PN||(PN={}));var ON;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(ON||(ON={}));var MN;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(MN||(MN={}));var DN;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(DN||(DN={}));var jN;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(jN||(jN={}));var LN;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(LN||(LN={}));var UN;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(UN||(UN={}));var BN;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(BN||(BN={}));var $N;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})($N||($N={}));var zN;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(zN||(zN={}));var qN;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(qN||(qN={}));var VN;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(VN||(VN={}));var GN;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(GN||(GN={}));var HN;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(HN||(HN={}));var FN;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(FN||(FN={}));var KN;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(KN||(KN={}));var WN;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(WN||(WN={}));var YN;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(YN||(YN={}));var JN;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(JN||(JN={}));var Cs;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Cs||(Cs={}));class Dy{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class su{get text(){var t,n,r,i,o,l,u,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const g=[];for(const y of(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[b,S]of Object.entries(y))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(S!==null||S!==void 0)&&g.push(b);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;h=!0,f+=y.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var t,n,r,i,o,l,u,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const g of(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[y,b]of Object.entries(g))y!=="inlineData"&&(b!==null||b!==void 0)&&h.push(y);g.inlineData&&typeof g.inlineData.data=="string"&&(f+=atob(g.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,r,i,o,l,u,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,r,i,o,l,u,d,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,r,i,o,l,u,d,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class XN{}class ZN{}class nX{}class rX{}class iX{}class aX{}class QN{}class eI{}class tI{}class oX{}class lh{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new lh;let i;const o=t;return n?i=GJ(o):i=VJ(o),Object.assign(r,i),r}}class nI{}class rI{}class iI{}class aI{}class sX{}class lX{}class uX{}class Ub{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Ub,o=XJ(t);return Object.assign(r,o),r}}class cX{}class dX{}class fX{}class oI{}class hX{get text(){var t,n,r;let i="",o=!1;const l=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,f]of Object.entries(u))d!=="text"&&d!=="thought"&&f!==null&&l.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var t,n,r;let i="";const o=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(l))u!=="inlineData"&&d!==null&&o.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class pX{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Bb{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Bb,o=_4(t);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ve(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function S4(e,t){const n=Ve(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function E4(e){return Array.isArray(e)?e.map(t=>uh(t)):[uh(e)]}function uh(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function T4(e){const t=uh(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function A4(e){const t=uh(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function sI(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function C4(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>sI(t)):[sI(e)]}function jy(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function lI(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function uI(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function ln(e){if(e==null)throw new Error("ContentUnion is required");return jy(e)?e:{role:"user",parts:C4(e)}}function $b(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=ln(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=ln(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>ln(n)):[ln(t)]}function lr(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(lI(e)||uI(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ln(e)]}const t=[],n=[],r=jy(e[0]);for(const i of e){const o=jy(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(i);else{if(lI(i)||uI(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:C4(n)}),t}function mX(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(ga).includes(n[0].toUpperCase())?n[0].toUpperCase():ga.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(ga).includes(r.toUpperCase())?r.toUpperCase():ga.TYPE_UNSPECIFIED})}}function Os(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(t.nullable=!0,e=o[1]):o[1].type==="null"&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&mX(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(ga).includes(u.toUpperCase())?u.toUpperCase():ga.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Os(u);else if(r.includes(l)){const d=[];for(const f of u){if(f.type=="null"){t.nullable=!0;continue}d.push(Os(f))}t[l]=d}else if(i.includes(l)){const d={};for(const[f,h]of Object.entries(u))d[f]=Os(h);t[l]=d}else{if(l==="additionalProperties")continue;t[l]=u}return t}function zb(e){return Os(e)}function qb(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Vb(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Qs(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Os(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Os(t.response));return e}function el(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function gX(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function Li(e,t){if(typeof t!="string")throw new Error("name must be a string");return gX(e,t,"cachedContents")}function N4(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Sa(e){return Lb(e)}function vX(e){return e!=null&&typeof e=="object"&&"name"in e}function yX(e){return e!=null&&typeof e=="object"&&"video"in e}function xX(e){return e!=null&&typeof e=="object"&&"uri"in e}function I4(e){var t;let n;if(vX(e)&&(n=e.name),!(xX(e)&&(n=e.uri,n===void 0))&&!(yX(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function k4(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function R4(e){for(const t of["models","tunedModels","publisherModels"])if(bX(e,t))return e[t];return[]}function bX(e,t){return e!==null&&typeof e=="object"&&t in e}function wX(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function _X(e,t={}){const n=[],r=new Set;for(const i of e){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=wX(i,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function P4(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function SX(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function O4(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let o=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function tl(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function M4(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EX(e){const t={},n=v(e,["responsesFile"]);n!=null&&x(t,["fileName"],n);const r=v(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>iZ(l))),x(t,["inlinedResponses"],o)}const i=v(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["inlinedEmbedContentResponses"],o)}return t}function TX(e){const t={},n=v(e,["predictionsFormat"]);n!=null&&x(t,["format"],n);const r=v(e,["gcsDestination","outputUriPrefix"]);r!=null&&x(t,["gcsUri"],r);const i=v(e,["bigqueryDestination","outputUri"]);return i!=null&&x(t,["bigqueryUri"],i),t}function AX(e){const t={},n=v(e,["format"]);n!=null&&x(t,["predictionsFormat"],n);const r=v(e,["gcsUri"]);r!=null&&x(t,["gcsDestination","outputUriPrefix"],r);const i=v(e,["bigqueryUri"]);if(i!=null&&x(t,["bigqueryDestination","outputUri"],i),v(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function cf(e){const t={},n=v(e,["name"]);n!=null&&x(t,["name"],n);const r=v(e,["metadata","displayName"]);r!=null&&x(t,["displayName"],r);const i=v(e,["metadata","state"]);i!=null&&x(t,["state"],M4(i));const o=v(e,["metadata","createTime"]);o!=null&&x(t,["createTime"],o);const l=v(e,["metadata","endTime"]);l!=null&&x(t,["endTime"],l);const u=v(e,["metadata","updateTime"]);u!=null&&x(t,["updateTime"],u);const d=v(e,["metadata","model"]);d!=null&&x(t,["model"],d);const f=v(e,["metadata","output"]);return f!=null&&x(t,["dest"],EX(O4(f))),t}function Ly(e){const t={},n=v(e,["name"]);n!=null&&x(t,["name"],n);const r=v(e,["displayName"]);r!=null&&x(t,["displayName"],r);const i=v(e,["state"]);i!=null&&x(t,["state"],M4(i));const o=v(e,["error"]);o!=null&&x(t,["error"],o);const l=v(e,["createTime"]);l!=null&&x(t,["createTime"],l);const u=v(e,["startTime"]);u!=null&&x(t,["startTime"],u);const d=v(e,["endTime"]);d!=null&&x(t,["endTime"],d);const f=v(e,["updateTime"]);f!=null&&x(t,["updateTime"],f);const h=v(e,["model"]);h!=null&&x(t,["model"],h);const g=v(e,["inputConfig"]);g!=null&&x(t,["src"],CX(g));const y=v(e,["outputConfig"]);y!=null&&x(t,["dest"],TX(O4(y)));const b=v(e,["completionStats"]);return b!=null&&x(t,["completionStats"],b),t}function CX(e){const t={},n=v(e,["instancesFormat"]);n!=null&&x(t,["format"],n);const r=v(e,["gcsSource","uris"]);r!=null&&x(t,["gcsUri"],r);const i=v(e,["bigquerySource","inputUri"]);return i!=null&&x(t,["bigqueryUri"],i),t}function NX(e,t){const n={};if(v(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(t,["fileName"]);r!=null&&x(n,["fileName"],r);const i=v(t,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>rZ(e,l))),x(n,["requests","requests"],o)}return n}function IX(e){const t={},n=v(e,["format"]);n!=null&&x(t,["instancesFormat"],n);const r=v(e,["gcsUri"]);r!=null&&x(t,["gcsSource","uris"],r);const i=v(e,["bigqueryUri"]);if(i!=null&&x(t,["bigquerySource","inputUri"],i),v(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function kX(e){const t={},n=v(e,["data"]);if(n!=null&&x(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function RX(e,t){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],tl(e,r)),n}function PX(e,t){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],tl(e,r)),n}function OX(e){const t={},n=v(e,["content"]);n!=null&&x(t,["content"],n);const r=v(e,["citationMetadata"]);r!=null&&x(t,["citationMetadata"],MX(r));const i=v(e,["tokenCount"]);i!=null&&x(t,["tokenCount"],i);const o=v(e,["finishReason"]);o!=null&&x(t,["finishReason"],o);const l=v(e,["avgLogprobs"]);l!=null&&x(t,["avgLogprobs"],l);const u=v(e,["groundingMetadata"]);u!=null&&x(t,["groundingMetadata"],u);const d=v(e,["index"]);d!=null&&x(t,["index"],d);const f=v(e,["logprobsResult"]);f!=null&&x(t,["logprobsResult"],f);const h=v(e,["safetyRatings"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(b=>b)),x(t,["safetyRatings"],y)}const g=v(e,["urlContextMetadata"]);return g!=null&&x(t,["urlContextMetadata"],g),t}function MX(e){const t={},n=v(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(t,["citations"],r)}return t}function D4(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>dZ(o))),x(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&x(t,["role"],r),t}function DX(e,t){const n={},r=v(e,["displayName"]);if(t!==void 0&&r!=null&&x(t,["batch","displayName"],r),v(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function jX(e,t){const n={},r=v(e,["displayName"]);t!==void 0&&r!=null&&x(t,["displayName"],r);const i=v(e,["dest"]);return t!==void 0&&i!=null&&x(t,["outputConfig"],AX(SX(i))),n}function cI(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["_url","model"],Ve(e,r));const i=v(t,["src"]);i!=null&&x(n,["batch","inputConfig"],NX(e,P4(e,i)));const o=v(t,["config"]);return o!=null&&DX(o,n),n}function LX(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["model"],Ve(e,r));const i=v(t,["src"]);i!=null&&x(n,["inputConfig"],IX(P4(e,i)));const o=v(t,["config"]);return o!=null&&jX(o,n),n}function UX(e,t){const n={},r=v(e,["displayName"]);return t!==void 0&&r!=null&&x(t,["batch","displayName"],r),n}function BX(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["_url","model"],Ve(e,r));const i=v(t,["src"]);i!=null&&x(n,["batch","inputConfig"],FX(e,i));const o=v(t,["config"]);return o!=null&&UX(o,n),n}function $X(e,t){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],tl(e,r)),n}function zX(e,t){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],tl(e,r)),n}function qX(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["name"]);r!=null&&x(t,["name"],r);const i=v(e,["done"]);i!=null&&x(t,["done"],i);const o=v(e,["error"]);return o!=null&&x(t,["error"],o),t}function VX(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["name"]);r!=null&&x(t,["name"],r);const i=v(e,["done"]);i!=null&&x(t,["done"],i);const o=v(e,["error"]);return o!=null&&x(t,["error"],o),t}function GX(e,t){const n={},r=v(t,["contents"]);if(r!=null){let o=$b(e,r);Array.isArray(o)&&(o=o.map(l=>l)),x(n,["requests[]","request","content"],o)}const i=v(t,["config"]);return i!=null&&(x(n,["_self"],HX(i,n)),zJ(n,{"requests[].*":"requests[].request.*"})),n}function HX(e,t){const n={},r=v(e,["taskType"]);t!==void 0&&r!=null&&x(t,["requests[]","taskType"],r);const i=v(e,["title"]);t!==void 0&&i!=null&&x(t,["requests[]","title"],i);const o=v(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&x(t,["requests[]","outputDimensionality"],o),v(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function FX(e,t){const n={},r=v(t,["fileName"]);r!=null&&x(n,["file_name"],r);const i=v(t,["inlinedRequests"]);return i!=null&&x(n,["requests"],GX(e,i)),n}function KX(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function WX(e){const t={},n=v(e,["id"]);n!=null&&x(t,["id"],n);const r=v(e,["args"]);r!=null&&x(t,["args"],r);const i=v(e,["name"]);if(i!=null&&x(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function YX(e){const t={},n=v(e,["allowedFunctionNames"]);n!=null&&x(t,["allowedFunctionNames"],n);const r=v(e,["mode"]);if(r!=null&&x(t,["mode"],r),v(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function JX(e,t,n){const r={},i=v(t,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],D4(ln(i)));const o=v(t,["temperature"]);o!=null&&x(r,["temperature"],o);const l=v(t,["topP"]);l!=null&&x(r,["topP"],l);const u=v(t,["topK"]);u!=null&&x(r,["topK"],u);const d=v(t,["candidateCount"]);d!=null&&x(r,["candidateCount"],d);const f=v(t,["maxOutputTokens"]);f!=null&&x(r,["maxOutputTokens"],f);const h=v(t,["stopSequences"]);h!=null&&x(r,["stopSequences"],h);const g=v(t,["responseLogprobs"]);g!=null&&x(r,["responseLogprobs"],g);const y=v(t,["logprobs"]);y!=null&&x(r,["logprobs"],y);const b=v(t,["presencePenalty"]);b!=null&&x(r,["presencePenalty"],b);const S=v(t,["frequencyPenalty"]);S!=null&&x(r,["frequencyPenalty"],S);const E=v(t,["seed"]);E!=null&&x(r,["seed"],E);const T=v(t,["responseMimeType"]);T!=null&&x(r,["responseMimeType"],T);const A=v(t,["responseSchema"]);A!=null&&x(r,["responseSchema"],zb(A));const N=v(t,["responseJsonSchema"]);if(N!=null&&x(r,["responseJsonSchema"],N),v(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=v(t,["safetySettings"]);if(n!==void 0&&k!=null){let U=k;Array.isArray(U)&&(U=U.map(L=>fZ(L))),x(n,["safetySettings"],U)}const P=v(t,["tools"]);if(n!==void 0&&P!=null){let U=el(P);Array.isArray(U)&&(U=U.map(L=>pZ(Qs(L)))),x(n,["tools"],U)}const R=v(t,["toolConfig"]);if(n!==void 0&&R!=null&&x(n,["toolConfig"],hZ(R)),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=v(t,["cachedContent"]);n!==void 0&&O!=null&&x(n,["cachedContent"],Li(e,O));const B=v(t,["responseModalities"]);B!=null&&x(r,["responseModalities"],B);const K=v(t,["mediaResolution"]);K!=null&&x(r,["mediaResolution"],K);const D=v(t,["speechConfig"]);if(D!=null&&x(r,["speechConfig"],qb(D)),v(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=v(t,["thinkingConfig"]);G!=null&&x(r,["thinkingConfig"],G);const $=v(t,["imageConfig"]);$!=null&&x(r,["imageConfig"],nZ($));const M=v(t,["enableEnhancedCivicAnswers"]);if(M!=null&&x(r,["enableEnhancedCivicAnswers"],M),v(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function XX(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>OX(f))),x(t,["candidates"],d)}const i=v(e,["modelVersion"]);i!=null&&x(t,["modelVersion"],i);const o=v(e,["promptFeedback"]);o!=null&&x(t,["promptFeedback"],o);const l=v(e,["responseId"]);l!=null&&x(t,["responseId"],l);const u=v(e,["usageMetadata"]);return u!=null&&x(t,["usageMetadata"],u),t}function ZX(e,t){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],tl(e,r)),n}function QX(e,t){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],tl(e,r)),n}function eZ(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function tZ(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&x(t,["timeRangeFilter"],n),t}function nZ(e){const t={},n=v(e,["aspectRatio"]);n!=null&&x(t,["aspectRatio"],n);const r=v(e,["imageSize"]);if(r!=null&&x(t,["imageSize"],r),v(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(v(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function rZ(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["request","model"],Ve(e,r));const i=v(t,["contents"]);if(i!=null){let u=lr(i);Array.isArray(u)&&(u=u.map(d=>D4(d))),x(n,["request","contents"],u)}const o=v(t,["metadata"]);o!=null&&x(n,["metadata"],o);const l=v(t,["config"]);return l!=null&&x(n,["request","generationConfig"],JX(e,l,v(n,["request"],{}))),n}function iZ(e){const t={},n=v(e,["response"]);n!=null&&x(t,["response"],XX(n));const r=v(e,["error"]);return r!=null&&x(t,["error"],r),t}function aZ(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);if(t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),v(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function oZ(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);t!==void 0&&i!=null&&x(t,["_query","pageToken"],i);const o=v(e,["filter"]);return t!==void 0&&o!=null&&x(t,["_query","filter"],o),n}function sZ(e){const t={},n=v(e,["config"]);return n!=null&&aZ(n,t),t}function lZ(e){const t={},n=v(e,["config"]);return n!=null&&oZ(n,t),t}function uZ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=v(e,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>cf(l))),x(t,["batchJobs"],o)}return t}function cZ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=v(e,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Ly(l))),x(t,["batchJobs"],o)}return t}function dZ(e){const t={},n=v(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&x(t,["fileData"],KX(o));const l=v(e,["functionCall"]);l!=null&&x(t,["functionCall"],WX(l));const u=v(e,["functionResponse"]);u!=null&&x(t,["functionResponse"],u);const d=v(e,["inlineData"]);d!=null&&x(t,["inlineData"],kX(d));const f=v(e,["text"]);f!=null&&x(t,["text"],f);const h=v(e,["thought"]);h!=null&&x(t,["thought"],h);const g=v(e,["thoughtSignature"]);g!=null&&x(t,["thoughtSignature"],g);const y=v(e,["videoMetadata"]);return y!=null&&x(t,["videoMetadata"],y),t}function fZ(e){const t={},n=v(e,["category"]);if(n!=null&&x(t,["category"],n),v(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(e,["threshold"]);return r!=null&&x(t,["threshold"],r),t}function hZ(e){const t={},n=v(e,["retrievalConfig"]);n!=null&&x(t,["retrievalConfig"],n);const r=v(e,["functionCallingConfig"]);return r!=null&&x(t,["functionCallingConfig"],YX(r)),t}function pZ(e){const t={};if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(e,["computerUse"]);n!=null&&x(t,["computerUse"],n);const r=v(e,["fileSearch"]);r!=null&&x(t,["fileSearch"],r);const i=v(e,["codeExecution"]);if(i!=null&&x(t,["codeExecution"],i),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(e,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(g=>g)),x(t,["functionDeclarations"],h)}const l=v(e,["googleMaps"]);l!=null&&x(t,["googleMaps"],eZ(l));const u=v(e,["googleSearch"]);u!=null&&x(t,["googleSearch"],tZ(u));const d=v(e,["googleSearchRetrieval"]);d!=null&&x(t,["googleSearchRetrieval"],d);const f=v(e,["urlContext"]);return f!=null&&x(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ci;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Ci||(Ci={}));class _o{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mZ extends ji{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new _o(Ci.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=cI(this.apiClient,t),r=n._url,i=me("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,d=u.requests,f=[];for(const h of d){const g=Object.assign({},h);if(g.systemInstruction){const y=g.systemInstruction;delete g.systemInstruction;const b=g.request;b.systemInstruction=y,g.request=b}f.push(g)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(t),l=this.getBigqueryUri(t);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=LX(this.apiClient,t);return u=me("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>Ly(h))}else{const f=cI(this.apiClient,t);return u=me("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>cf(h))}}async createEmbeddingsInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=BX(this.apiClient,t);return o=me("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>cf(d))}}async get(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=QX(this.apiClient,t);return u=me("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>Ly(h))}else{const f=ZX(this.apiClient,t);return u=me("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>cf(h))}}async cancel(t){var n,r,i,o;let l="",u={};if(this.apiClient.isVertexAI()){const d=PX(this.apiClient,t);l=me("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=RX(this.apiClient,t);l=me("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=lZ(t);return u=me("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const g=cZ(h),y=new oI;return Object.assign(y,g),y})}else{const f=sZ(t);return u=me("batches",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const g=uZ(h),y=new oI;return Object.assign(y,g),y})}}async delete(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=zX(this.apiClient,t);return u=me("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>VX(h))}else{const f=$X(this.apiClient,t);return u=me("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>qX(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gZ(e){const t={},n=v(e,["data"]);if(n!=null&&x(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function dI(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>BZ(o))),x(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&x(t,["role"],r),t}function vZ(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&x(t,["ttl"],r);const i=v(e,["expireTime"]);t!==void 0&&i!=null&&x(t,["expireTime"],i);const o=v(e,["displayName"]);t!==void 0&&o!=null&&x(t,["displayName"],o);const l=v(e,["contents"]);if(t!==void 0&&l!=null){let h=lr(l);Array.isArray(h)&&(h=h.map(g=>dI(g))),x(t,["contents"],h)}const u=v(e,["systemInstruction"]);t!==void 0&&u!=null&&x(t,["systemInstruction"],dI(ln(u)));const d=v(e,["tools"]);if(t!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>zZ(g))),x(t,["tools"],h)}const f=v(e,["toolConfig"]);if(t!==void 0&&f!=null&&x(t,["toolConfig"],$Z(f)),v(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function yZ(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&x(t,["ttl"],r);const i=v(e,["expireTime"]);t!==void 0&&i!=null&&x(t,["expireTime"],i);const o=v(e,["displayName"]);t!==void 0&&o!=null&&x(t,["displayName"],o);const l=v(e,["contents"]);if(t!==void 0&&l!=null){let g=lr(l);Array.isArray(g)&&(g=g.map(y=>y)),x(t,["contents"],g)}const u=v(e,["systemInstruction"]);t!==void 0&&u!=null&&x(t,["systemInstruction"],ln(u));const d=v(e,["tools"]);if(t!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>qZ(y))),x(t,["tools"],g)}const f=v(e,["toolConfig"]);t!==void 0&&f!=null&&x(t,["toolConfig"],f);const h=v(e,["kmsKeyName"]);return t!==void 0&&h!=null&&x(t,["encryption_spec","kmsKeyName"],h),n}function xZ(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["model"],S4(e,r));const i=v(t,["config"]);return i!=null&&vZ(i,n),n}function bZ(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["model"],S4(e,r));const i=v(t,["config"]);return i!=null&&yZ(i,n),n}function wZ(e,t){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],Li(e,r)),n}function _Z(e,t){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],Li(e,r)),n}function SZ(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function EZ(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function TZ(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function AZ(e){const t={},n=v(e,["id"]);n!=null&&x(t,["id"],n);const r=v(e,["args"]);r!=null&&x(t,["args"],r);const i=v(e,["name"]);if(i!=null&&x(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function CZ(e){const t={},n=v(e,["allowedFunctionNames"]);n!=null&&x(t,["allowedFunctionNames"],n);const r=v(e,["mode"]);if(r!=null&&x(t,["mode"],r),v(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function NZ(e){const t={},n=v(e,["description"]);n!=null&&x(t,["description"],n);const r=v(e,["name"]);r!=null&&x(t,["name"],r);const i=v(e,["parameters"]);i!=null&&x(t,["parameters"],i);const o=v(e,["parametersJsonSchema"]);o!=null&&x(t,["parametersJsonSchema"],o);const l=v(e,["response"]);l!=null&&x(t,["response"],l);const u=v(e,["responseJsonSchema"]);if(u!=null&&x(t,["responseJsonSchema"],u),v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function IZ(e,t){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],Li(e,r)),n}function kZ(e,t){const n={},r=v(t,["name"]);return r!=null&&x(n,["_url","name"],Li(e,r)),n}function RZ(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function PZ(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&x(t,["timeRangeFilter"],n),t}function OZ(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function MZ(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function DZ(e){const t={},n=v(e,["config"]);return n!=null&&OZ(n,t),t}function jZ(e){const t={},n=v(e,["config"]);return n!=null&&MZ(n,t),t}function LZ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=v(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["cachedContents"],o)}return t}function UZ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=v(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["cachedContents"],o)}return t}function BZ(e){const t={},n=v(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&x(t,["fileData"],TZ(o));const l=v(e,["functionCall"]);l!=null&&x(t,["functionCall"],AZ(l));const u=v(e,["functionResponse"]);u!=null&&x(t,["functionResponse"],u);const d=v(e,["inlineData"]);d!=null&&x(t,["inlineData"],gZ(d));const f=v(e,["text"]);f!=null&&x(t,["text"],f);const h=v(e,["thought"]);h!=null&&x(t,["thought"],h);const g=v(e,["thoughtSignature"]);g!=null&&x(t,["thoughtSignature"],g);const y=v(e,["videoMetadata"]);return y!=null&&x(t,["videoMetadata"],y),t}function $Z(e){const t={},n=v(e,["retrievalConfig"]);n!=null&&x(t,["retrievalConfig"],n);const r=v(e,["functionCallingConfig"]);return r!=null&&x(t,["functionCallingConfig"],CZ(r)),t}function zZ(e){const t={};if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(e,["computerUse"]);n!=null&&x(t,["computerUse"],n);const r=v(e,["fileSearch"]);r!=null&&x(t,["fileSearch"],r);const i=v(e,["codeExecution"]);if(i!=null&&x(t,["codeExecution"],i),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(e,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(g=>g)),x(t,["functionDeclarations"],h)}const l=v(e,["googleMaps"]);l!=null&&x(t,["googleMaps"],RZ(l));const u=v(e,["googleSearch"]);u!=null&&x(t,["googleSearch"],PZ(u));const d=v(e,["googleSearchRetrieval"]);d!=null&&x(t,["googleSearchRetrieval"],d);const f=v(e,["urlContext"]);return f!=null&&x(t,["urlContext"],f),t}function qZ(e){const t={},n=v(e,["retrieval"]);n!=null&&x(t,["retrieval"],n);const r=v(e,["computerUse"]);if(r!=null&&x(t,["computerUse"],r),v(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=v(e,["codeExecution"]);i!=null&&x(t,["codeExecution"],i);const o=v(e,["enterpriseWebSearch"]);o!=null&&x(t,["enterpriseWebSearch"],o);const l=v(e,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>NZ(y))),x(t,["functionDeclarations"],g)}const u=v(e,["googleMaps"]);u!=null&&x(t,["googleMaps"],u);const d=v(e,["googleSearch"]);d!=null&&x(t,["googleSearch"],d);const f=v(e,["googleSearchRetrieval"]);f!=null&&x(t,["googleSearchRetrieval"],f);const h=v(e,["urlContext"]);return h!=null&&x(t,["urlContext"],h),t}function VZ(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&x(t,["ttl"],r);const i=v(e,["expireTime"]);return t!==void 0&&i!=null&&x(t,["expireTime"],i),n}function GZ(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&x(t,["ttl"],r);const i=v(e,["expireTime"]);return t!==void 0&&i!=null&&x(t,["expireTime"],i),n}function HZ(e,t){const n={},r=v(t,["name"]);r!=null&&x(n,["_url","name"],Li(e,r));const i=v(t,["config"]);return i!=null&&VZ(i,n),n}function FZ(e,t){const n={},r=v(t,["name"]);r!=null&&x(n,["_url","name"],Li(e,r));const i=v(t,["config"]);return i!=null&&GZ(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KZ extends ji{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new _o(Ci.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=bZ(this.apiClient,t);return u=me("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=xZ(this.apiClient,t);return u=me("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=kZ(this.apiClient,t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=IZ(this.apiClient,t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=_Z(this.apiClient,t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const g=EZ(h),y=new iI;return Object.assign(y,g),y})}else{const f=wZ(this.apiClient,t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const g=SZ(h),y=new iI;return Object.assign(y,g),y})}}async update(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=FZ(this.apiClient,t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=HZ(this.apiClient,t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=jZ(t);return u=me("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const g=UZ(h),y=new aI;return Object.assign(y,g),y})}else{const f=DZ(t);return u=me("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const g=LZ(h),y=new aI;return Object.assign(y,g),y})}}}function ch(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function fI(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(e){return this instanceof Ne?(this.v=e,this):new Ne(e)}function Tr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(b){return function(S){return Promise.resolve(S).then(b,g)}}function u(b,S){r[b]&&(i[b]=function(E){return new Promise(function(T,A){o.push([b,E,T,A])>1||d(b,E)})},S&&(i[b]=S(i[b])))}function d(b,S){try{f(r[b](S))}catch(E){y(o[0][3],E)}}function f(b){b.value instanceof Ne?Promise.resolve(b.value.v).then(h,g):y(o[0][2],b)}function h(b){d("next",b)}function g(b){d("throw",b)}function y(b,S){b(S),o.shift(),o.length&&d(o[0][0],o[0][1])}}function Ar(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof fI=="function"?fI(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(l){return new Promise(function(u,d){l=e[o](l),i(u,d,l.done,l.value)})}}function i(o,l,u,d){Promise.resolve(d).then(function(f){o({value:f,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WZ(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:j4(n)}function j4(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function YZ(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function hI(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let o=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),o&&!j4(e[r])&&(o=!1),r++;o?t.push(...i):t.pop()}return t}class JZ{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new XZ(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class XZ{constructor(t,n,r,i={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),YZ(o)}async sendMessage(t){var n;await this.sendPromise;const r=ln(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l,u;const d=await i,f=(l=(o=d.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,h=d.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let y=[];h!=null&&(y=(u=h.slice(g))!==null&&u!==void 0?u:[]);const b=f?[f]:[];this.recordHistory(r,b,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=ln(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(t=!1){const n=t?hI(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Tr(this,arguments,function*(){var i,o,l,u,d,f;const h=[];try{for(var g=!0,y=Ar(t),b;b=yield Ne(y.next()),i=b.done,!i;g=!0){u=b.value,g=!1;const S=u;if(WZ(S)){const E=(f=(d=S.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content;E!==void 0&&h.push(E)}yield yield Ne(S)}}catch(S){o={error:S}}finally{try{!g&&!i&&(l=y.return)&&(yield Ne(l.call(y)))}finally{if(o)throw o.error}}this.recordHistory(n,h)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...hI(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lu extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Lu.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZZ(e){const t={},n=v(e,["file"]);return n!=null&&x(t,["file"],n),t}function QZ(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function eQ(e){const t={},n=v(e,["name"]);return n!=null&&x(t,["_url","file"],I4(n)),t}function tQ(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function nQ(e){const t={},n=v(e,["name"]);return n!=null&&x(t,["_url","file"],I4(n)),t}function rQ(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function iQ(e){const t={},n=v(e,["config"]);return n!=null&&rQ(n,t),t}function aQ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=v(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["files"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oQ extends ji{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new _o(Ci.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=iQ(t);return o=me("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=aQ(d),h=new cX;return Object.assign(h,f),h})}}async createInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ZZ(t);return o=me("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=QZ(d),h=new dX;return Object.assign(h,f),h})}}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=nQ(t);return o=me("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=eQ(t);return o=me("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=tQ(d),h=new fX;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function df(e){const t={},n=v(e,["data"]);if(n!=null&&x(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function sQ(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>SQ(o))),x(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&x(t,["role"],r),t}function lQ(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function uQ(e){const t={},n=v(e,["id"]);n!=null&&x(t,["id"],n);const r=v(e,["args"]);r!=null&&x(t,["args"],r);const i=v(e,["name"]);if(i!=null&&x(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function cQ(e){const t={},n=v(e,["description"]);n!=null&&x(t,["description"],n);const r=v(e,["name"]);r!=null&&x(t,["name"],r);const i=v(e,["parameters"]);i!=null&&x(t,["parameters"],i);const o=v(e,["parametersJsonSchema"]);o!=null&&x(t,["parametersJsonSchema"],o);const l=v(e,["response"]);l!=null&&x(t,["response"],l);const u=v(e,["responseJsonSchema"]);if(u!=null&&x(t,["responseJsonSchema"],u),v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function dQ(e){const t={},n=v(e,["modelSelectionConfig"]);n!=null&&x(t,["modelConfig"],n);const r=v(e,["responseJsonSchema"]);r!=null&&x(t,["responseJsonSchema"],r);const i=v(e,["audioTimestamp"]);i!=null&&x(t,["audioTimestamp"],i);const o=v(e,["candidateCount"]);o!=null&&x(t,["candidateCount"],o);const l=v(e,["enableAffectiveDialog"]);l!=null&&x(t,["enableAffectiveDialog"],l);const u=v(e,["frequencyPenalty"]);u!=null&&x(t,["frequencyPenalty"],u);const d=v(e,["logprobs"]);d!=null&&x(t,["logprobs"],d);const f=v(e,["maxOutputTokens"]);f!=null&&x(t,["maxOutputTokens"],f);const h=v(e,["mediaResolution"]);h!=null&&x(t,["mediaResolution"],h);const g=v(e,["presencePenalty"]);g!=null&&x(t,["presencePenalty"],g);const y=v(e,["responseLogprobs"]);y!=null&&x(t,["responseLogprobs"],y);const b=v(e,["responseMimeType"]);b!=null&&x(t,["responseMimeType"],b);const S=v(e,["responseModalities"]);S!=null&&x(t,["responseModalities"],S);const E=v(e,["responseSchema"]);E!=null&&x(t,["responseSchema"],E);const T=v(e,["routingConfig"]);T!=null&&x(t,["routingConfig"],T);const A=v(e,["seed"]);A!=null&&x(t,["seed"],A);const N=v(e,["speechConfig"]);N!=null&&x(t,["speechConfig"],N);const k=v(e,["stopSequences"]);k!=null&&x(t,["stopSequences"],k);const P=v(e,["temperature"]);P!=null&&x(t,["temperature"],P);const R=v(e,["thinkingConfig"]);R!=null&&x(t,["thinkingConfig"],R);const O=v(e,["topK"]);O!=null&&x(t,["topK"],O);const B=v(e,["topP"]);if(B!=null&&x(t,["topP"],B),v(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function fQ(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function hQ(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&x(t,["timeRangeFilter"],n),t}function pQ(e,t){const n={},r=v(e,["generationConfig"]);t!==void 0&&r!=null&&x(t,["setup","generationConfig"],r);const i=v(e,["responseModalities"]);t!==void 0&&i!=null&&x(t,["setup","generationConfig","responseModalities"],i);const o=v(e,["temperature"]);t!==void 0&&o!=null&&x(t,["setup","generationConfig","temperature"],o);const l=v(e,["topP"]);t!==void 0&&l!=null&&x(t,["setup","generationConfig","topP"],l);const u=v(e,["topK"]);t!==void 0&&u!=null&&x(t,["setup","generationConfig","topK"],u);const d=v(e,["maxOutputTokens"]);t!==void 0&&d!=null&&x(t,["setup","generationConfig","maxOutputTokens"],d);const f=v(e,["mediaResolution"]);t!==void 0&&f!=null&&x(t,["setup","generationConfig","mediaResolution"],f);const h=v(e,["seed"]);t!==void 0&&h!=null&&x(t,["setup","generationConfig","seed"],h);const g=v(e,["speechConfig"]);t!==void 0&&g!=null&&x(t,["setup","generationConfig","speechConfig"],Vb(g));const y=v(e,["thinkingConfig"]);t!==void 0&&y!=null&&x(t,["setup","generationConfig","thinkingConfig"],y);const b=v(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&x(t,["setup","generationConfig","enableAffectiveDialog"],b);const S=v(e,["systemInstruction"]);t!==void 0&&S!=null&&x(t,["setup","systemInstruction"],sQ(ln(S)));const E=v(e,["tools"]);if(t!==void 0&&E!=null){let O=el(E);Array.isArray(O)&&(O=O.map(B=>TQ(Qs(B)))),x(t,["setup","tools"],O)}const T=v(e,["sessionResumption"]);t!==void 0&&T!=null&&x(t,["setup","sessionResumption"],EQ(T));const A=v(e,["inputAudioTranscription"]);t!==void 0&&A!=null&&x(t,["setup","inputAudioTranscription"],A);const N=v(e,["outputAudioTranscription"]);t!==void 0&&N!=null&&x(t,["setup","outputAudioTranscription"],N);const k=v(e,["realtimeInputConfig"]);t!==void 0&&k!=null&&x(t,["setup","realtimeInputConfig"],k);const P=v(e,["contextWindowCompression"]);t!==void 0&&P!=null&&x(t,["setup","contextWindowCompression"],P);const R=v(e,["proactivity"]);if(t!==void 0&&R!=null&&x(t,["setup","proactivity"],R),v(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function mQ(e,t){const n={},r=v(e,["generationConfig"]);t!==void 0&&r!=null&&x(t,["setup","generationConfig"],dQ(r));const i=v(e,["responseModalities"]);t!==void 0&&i!=null&&x(t,["setup","generationConfig","responseModalities"],i);const o=v(e,["temperature"]);t!==void 0&&o!=null&&x(t,["setup","generationConfig","temperature"],o);const l=v(e,["topP"]);t!==void 0&&l!=null&&x(t,["setup","generationConfig","topP"],l);const u=v(e,["topK"]);t!==void 0&&u!=null&&x(t,["setup","generationConfig","topK"],u);const d=v(e,["maxOutputTokens"]);t!==void 0&&d!=null&&x(t,["setup","generationConfig","maxOutputTokens"],d);const f=v(e,["mediaResolution"]);t!==void 0&&f!=null&&x(t,["setup","generationConfig","mediaResolution"],f);const h=v(e,["seed"]);t!==void 0&&h!=null&&x(t,["setup","generationConfig","seed"],h);const g=v(e,["speechConfig"]);t!==void 0&&g!=null&&x(t,["setup","generationConfig","speechConfig"],Vb(g));const y=v(e,["thinkingConfig"]);t!==void 0&&y!=null&&x(t,["setup","generationConfig","thinkingConfig"],y);const b=v(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&x(t,["setup","generationConfig","enableAffectiveDialog"],b);const S=v(e,["systemInstruction"]);t!==void 0&&S!=null&&x(t,["setup","systemInstruction"],ln(S));const E=v(e,["tools"]);if(t!==void 0&&E!=null){let B=el(E);Array.isArray(B)&&(B=B.map(K=>AQ(Qs(K)))),x(t,["setup","tools"],B)}const T=v(e,["sessionResumption"]);t!==void 0&&T!=null&&x(t,["setup","sessionResumption"],T);const A=v(e,["inputAudioTranscription"]);t!==void 0&&A!=null&&x(t,["setup","inputAudioTranscription"],A);const N=v(e,["outputAudioTranscription"]);t!==void 0&&N!=null&&x(t,["setup","outputAudioTranscription"],N);const k=v(e,["realtimeInputConfig"]);t!==void 0&&k!=null&&x(t,["setup","realtimeInputConfig"],k);const P=v(e,["contextWindowCompression"]);t!==void 0&&P!=null&&x(t,["setup","contextWindowCompression"],P);const R=v(e,["proactivity"]);t!==void 0&&R!=null&&x(t,["setup","proactivity"],R);const O=v(e,["explicitVadSignal"]);return t!==void 0&&O!=null&&x(t,["setup","explicitVadSignal"],O),n}function gQ(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["setup","model"],Ve(e,r));const i=v(t,["config"]);return i!=null&&x(n,["config"],pQ(i,n)),n}function vQ(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["setup","model"],Ve(e,r));const i=v(t,["config"]);return i!=null&&x(n,["config"],mQ(i,n)),n}function yQ(e){const t={},n=v(e,["musicGenerationConfig"]);return n!=null&&x(t,["musicGenerationConfig"],n),t}function xQ(e){const t={},n=v(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(t,["weightedPrompts"],r)}return t}function bQ(e){const t={},n=v(e,["media"]);if(n!=null){let f=E4(n);Array.isArray(f)&&(f=f.map(h=>df(h))),x(t,["mediaChunks"],f)}const r=v(e,["audio"]);r!=null&&x(t,["audio"],df(A4(r)));const i=v(e,["audioStreamEnd"]);i!=null&&x(t,["audioStreamEnd"],i);const o=v(e,["video"]);o!=null&&x(t,["video"],df(T4(o)));const l=v(e,["text"]);l!=null&&x(t,["text"],l);const u=v(e,["activityStart"]);u!=null&&x(t,["activityStart"],u);const d=v(e,["activityEnd"]);return d!=null&&x(t,["activityEnd"],d),t}function wQ(e){const t={},n=v(e,["media"]);if(n!=null){let f=E4(n);Array.isArray(f)&&(f=f.map(h=>h)),x(t,["mediaChunks"],f)}const r=v(e,["audio"]);r!=null&&x(t,["audio"],A4(r));const i=v(e,["audioStreamEnd"]);i!=null&&x(t,["audioStreamEnd"],i);const o=v(e,["video"]);o!=null&&x(t,["video"],T4(o));const l=v(e,["text"]);l!=null&&x(t,["text"],l);const u=v(e,["activityStart"]);u!=null&&x(t,["activityStart"],u);const d=v(e,["activityEnd"]);return d!=null&&x(t,["activityEnd"],d),t}function _Q(e){const t={},n=v(e,["setupComplete"]);n!=null&&x(t,["setupComplete"],n);const r=v(e,["serverContent"]);r!=null&&x(t,["serverContent"],r);const i=v(e,["toolCall"]);i!=null&&x(t,["toolCall"],i);const o=v(e,["toolCallCancellation"]);o!=null&&x(t,["toolCallCancellation"],o);const l=v(e,["usageMetadata"]);l!=null&&x(t,["usageMetadata"],CQ(l));const u=v(e,["goAway"]);u!=null&&x(t,["goAway"],u);const d=v(e,["sessionResumptionUpdate"]);d!=null&&x(t,["sessionResumptionUpdate"],d);const f=v(e,["voiceActivityDetectionSignal"]);f!=null&&x(t,["voiceActivityDetectionSignal"],f);const h=v(e,["voiceActivity"]);return h!=null&&x(t,["voiceActivity"],NQ(h)),t}function SQ(e){const t={},n=v(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&x(t,["fileData"],lQ(o));const l=v(e,["functionCall"]);l!=null&&x(t,["functionCall"],uQ(l));const u=v(e,["functionResponse"]);u!=null&&x(t,["functionResponse"],u);const d=v(e,["inlineData"]);d!=null&&x(t,["inlineData"],df(d));const f=v(e,["text"]);f!=null&&x(t,["text"],f);const h=v(e,["thought"]);h!=null&&x(t,["thought"],h);const g=v(e,["thoughtSignature"]);g!=null&&x(t,["thoughtSignature"],g);const y=v(e,["videoMetadata"]);return y!=null&&x(t,["videoMetadata"],y),t}function EQ(e){const t={},n=v(e,["handle"]);if(n!=null&&x(t,["handle"],n),v(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function TQ(e){const t={};if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(e,["computerUse"]);n!=null&&x(t,["computerUse"],n);const r=v(e,["fileSearch"]);r!=null&&x(t,["fileSearch"],r);const i=v(e,["codeExecution"]);if(i!=null&&x(t,["codeExecution"],i),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(e,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(g=>g)),x(t,["functionDeclarations"],h)}const l=v(e,["googleMaps"]);l!=null&&x(t,["googleMaps"],fQ(l));const u=v(e,["googleSearch"]);u!=null&&x(t,["googleSearch"],hQ(u));const d=v(e,["googleSearchRetrieval"]);d!=null&&x(t,["googleSearchRetrieval"],d);const f=v(e,["urlContext"]);return f!=null&&x(t,["urlContext"],f),t}function AQ(e){const t={},n=v(e,["retrieval"]);n!=null&&x(t,["retrieval"],n);const r=v(e,["computerUse"]);if(r!=null&&x(t,["computerUse"],r),v(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=v(e,["codeExecution"]);i!=null&&x(t,["codeExecution"],i);const o=v(e,["enterpriseWebSearch"]);o!=null&&x(t,["enterpriseWebSearch"],o);const l=v(e,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>cQ(y))),x(t,["functionDeclarations"],g)}const u=v(e,["googleMaps"]);u!=null&&x(t,["googleMaps"],u);const d=v(e,["googleSearch"]);d!=null&&x(t,["googleSearch"],d);const f=v(e,["googleSearchRetrieval"]);f!=null&&x(t,["googleSearchRetrieval"],f);const h=v(e,["urlContext"]);return h!=null&&x(t,["urlContext"],h),t}function CQ(e){const t={},n=v(e,["promptTokenCount"]);n!=null&&x(t,["promptTokenCount"],n);const r=v(e,["cachedContentTokenCount"]);r!=null&&x(t,["cachedContentTokenCount"],r);const i=v(e,["candidatesTokenCount"]);i!=null&&x(t,["responseTokenCount"],i);const o=v(e,["toolUsePromptTokenCount"]);o!=null&&x(t,["toolUsePromptTokenCount"],o);const l=v(e,["thoughtsTokenCount"]);l!=null&&x(t,["thoughtsTokenCount"],l);const u=v(e,["totalTokenCount"]);u!=null&&x(t,["totalTokenCount"],u);const d=v(e,["promptTokensDetails"]);if(d!=null){let b=d;Array.isArray(b)&&(b=b.map(S=>S)),x(t,["promptTokensDetails"],b)}const f=v(e,["cacheTokensDetails"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(S=>S)),x(t,["cacheTokensDetails"],b)}const h=v(e,["candidatesTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(S=>S)),x(t,["responseTokensDetails"],b)}const g=v(e,["toolUsePromptTokensDetails"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(S=>S)),x(t,["toolUsePromptTokensDetails"],b)}const y=v(e,["trafficType"]);return y!=null&&x(t,["trafficType"],y),t}function NQ(e){const t={},n=v(e,["type"]);return n!=null&&x(t,["voiceActivityType"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IQ(e){const t={},n=v(e,["data"]);if(n!=null&&x(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function kQ(e){const t={},n=v(e,["content"]);n!=null&&x(t,["content"],n);const r=v(e,["citationMetadata"]);r!=null&&x(t,["citationMetadata"],RQ(r));const i=v(e,["tokenCount"]);i!=null&&x(t,["tokenCount"],i);const o=v(e,["finishReason"]);o!=null&&x(t,["finishReason"],o);const l=v(e,["avgLogprobs"]);l!=null&&x(t,["avgLogprobs"],l);const u=v(e,["groundingMetadata"]);u!=null&&x(t,["groundingMetadata"],u);const d=v(e,["index"]);d!=null&&x(t,["index"],d);const f=v(e,["logprobsResult"]);f!=null&&x(t,["logprobsResult"],f);const h=v(e,["safetyRatings"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(b=>b)),x(t,["safetyRatings"],y)}const g=v(e,["urlContextMetadata"]);return g!=null&&x(t,["urlContextMetadata"],g),t}function RQ(e){const t={},n=v(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(t,["citations"],r)}return t}function PQ(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["_url","model"],Ve(e,r));const i=v(t,["contents"]);if(i!=null){let o=lr(i);Array.isArray(o)&&(o=o.map(l=>l)),x(n,["contents"],o)}return n}function OQ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),x(t,["tokensInfo"],i)}return t}function MQ(e){const t={},n=v(e,["values"]);n!=null&&x(t,["values"],n);const r=v(e,["statistics"]);return r!=null&&x(t,["statistics"],DQ(r)),t}function DQ(e){const t={},n=v(e,["truncated"]);n!=null&&x(t,["truncated"],n);const r=v(e,["token_count"]);return r!=null&&x(t,["tokenCount"],r),t}function sp(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Gee(o))),x(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&x(t,["role"],r),t}function jQ(e){const t={},n=v(e,["controlType"]);n!=null&&x(t,["controlType"],n);const r=v(e,["enableControlImageComputation"]);return r!=null&&x(t,["computeControl"],r),t}function LQ(e){const t={};if(v(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function UQ(e,t){const n={},r=v(e,["systemInstruction"]);t!==void 0&&r!=null&&x(t,["systemInstruction"],ln(r));const i=v(e,["tools"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>$4(u))),x(t,["tools"],l)}const o=v(e,["generationConfig"]);return t!==void 0&&o!=null&&x(t,["generationConfig"],Iee(o)),n}function BQ(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["_url","model"],Ve(e,r));const i=v(t,["contents"]);if(i!=null){let l=lr(i);Array.isArray(l)&&(l=l.map(u=>sp(u))),x(n,["contents"],l)}const o=v(t,["config"]);return o!=null&&LQ(o),n}function $Q(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["_url","model"],Ve(e,r));const i=v(t,["contents"]);if(i!=null){let l=lr(i);Array.isArray(l)&&(l=l.map(u=>u)),x(n,["contents"],l)}const o=v(t,["config"]);return o!=null&&UQ(o,n),n}function zQ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["totalTokens"]);r!=null&&x(t,["totalTokens"],r);const i=v(e,["cachedContentTokenCount"]);return i!=null&&x(t,["cachedContentTokenCount"],i),t}function qQ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["totalTokens"]);return r!=null&&x(t,["totalTokens"],r),t}function VQ(e,t){const n={},r=v(t,["model"]);return r!=null&&x(n,["_url","name"],Ve(e,r)),n}function GQ(e,t){const n={},r=v(t,["model"]);return r!=null&&x(n,["_url","name"],Ve(e,r)),n}function HQ(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function FQ(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function KQ(e,t){const n={},r=v(e,["outputGcsUri"]);t!==void 0&&r!=null&&x(t,["parameters","storageUri"],r);const i=v(e,["negativePrompt"]);t!==void 0&&i!=null&&x(t,["parameters","negativePrompt"],i);const o=v(e,["numberOfImages"]);t!==void 0&&o!=null&&x(t,["parameters","sampleCount"],o);const l=v(e,["aspectRatio"]);t!==void 0&&l!=null&&x(t,["parameters","aspectRatio"],l);const u=v(e,["guidanceScale"]);t!==void 0&&u!=null&&x(t,["parameters","guidanceScale"],u);const d=v(e,["seed"]);t!==void 0&&d!=null&&x(t,["parameters","seed"],d);const f=v(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&x(t,["parameters","safetySetting"],f);const h=v(e,["personGeneration"]);t!==void 0&&h!=null&&x(t,["parameters","personGeneration"],h);const g=v(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&x(t,["parameters","includeSafetyAttributes"],g);const y=v(e,["includeRaiReason"]);t!==void 0&&y!=null&&x(t,["parameters","includeRaiReason"],y);const b=v(e,["language"]);t!==void 0&&b!=null&&x(t,["parameters","language"],b);const S=v(e,["outputMimeType"]);t!==void 0&&S!=null&&x(t,["parameters","outputOptions","mimeType"],S);const E=v(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&x(t,["parameters","outputOptions","compressionQuality"],E);const T=v(e,["addWatermark"]);t!==void 0&&T!=null&&x(t,["parameters","addWatermark"],T);const A=v(e,["labels"]);t!==void 0&&A!=null&&x(t,["labels"],A);const N=v(e,["editMode"]);t!==void 0&&N!=null&&x(t,["parameters","editMode"],N);const k=v(e,["baseSteps"]);return t!==void 0&&k!=null&&x(t,["parameters","editConfig","baseSteps"],k),n}function WQ(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["_url","model"],Ve(e,r));const i=v(t,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const o=v(t,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>Jee(d))),x(n,["instances[0]","referenceImages"],u)}const l=v(t,["config"]);return l!=null&&KQ(l,n),n}function YQ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>lp(o))),x(t,["generatedImages"],i)}return t}function JQ(e,t){const n={},r=v(e,["taskType"]);t!==void 0&&r!=null&&x(t,["requests[]","taskType"],r);const i=v(e,["title"]);t!==void 0&&i!=null&&x(t,["requests[]","title"],i);const o=v(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&x(t,["requests[]","outputDimensionality"],o),v(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function XQ(e,t){const n={},r=v(e,["taskType"]);t!==void 0&&r!=null&&x(t,["instances[]","task_type"],r);const i=v(e,["title"]);t!==void 0&&i!=null&&x(t,["instances[]","title"],i);const o=v(e,["outputDimensionality"]);t!==void 0&&o!=null&&x(t,["parameters","outputDimensionality"],o);const l=v(e,["mimeType"]);t!==void 0&&l!=null&&x(t,["instances[]","mimeType"],l);const u=v(e,["autoTruncate"]);return t!==void 0&&u!=null&&x(t,["parameters","autoTruncate"],u),n}function ZQ(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["_url","model"],Ve(e,r));const i=v(t,["contents"]);if(i!=null){let u=$b(e,i);Array.isArray(u)&&(u=u.map(d=>d)),x(n,["requests[]","content"],u)}const o=v(t,["config"]);o!=null&&JQ(o,n);const l=v(t,["model"]);return l!==void 0&&x(n,["requests[]","model"],Ve(e,l)),n}function QQ(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["_url","model"],Ve(e,r));const i=v(t,["contents"]);if(i!=null){let l=$b(e,i);Array.isArray(l)&&(l=l.map(u=>u)),x(n,["instances[]","content"],l)}const o=v(t,["config"]);return o!=null&&XQ(o,n),n}function eee(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["embeddings"],o)}const i=v(e,["metadata"]);return i!=null&&x(t,["metadata"],i),t}function tee(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>MQ(l))),x(t,["embeddings"],o)}const i=v(e,["metadata"]);return i!=null&&x(t,["metadata"],i),t}function nee(e){const t={},n=v(e,["endpoint"]);n!=null&&x(t,["name"],n);const r=v(e,["deployedModelId"]);return r!=null&&x(t,["deployedModelId"],r),t}function ree(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function iee(e){const t={},n=v(e,["id"]);n!=null&&x(t,["id"],n);const r=v(e,["args"]);r!=null&&x(t,["args"],r);const i=v(e,["name"]);if(i!=null&&x(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function aee(e){const t={},n=v(e,["allowedFunctionNames"]);n!=null&&x(t,["allowedFunctionNames"],n);const r=v(e,["mode"]);if(r!=null&&x(t,["mode"],r),v(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function oee(e){const t={},n=v(e,["description"]);n!=null&&x(t,["description"],n);const r=v(e,["name"]);r!=null&&x(t,["name"],r);const i=v(e,["parameters"]);i!=null&&x(t,["parameters"],i);const o=v(e,["parametersJsonSchema"]);o!=null&&x(t,["parametersJsonSchema"],o);const l=v(e,["response"]);l!=null&&x(t,["response"],l);const u=v(e,["responseJsonSchema"]);if(u!=null&&x(t,["responseJsonSchema"],u),v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function see(e,t,n){const r={},i=v(t,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],sp(ln(i)));const o=v(t,["temperature"]);o!=null&&x(r,["temperature"],o);const l=v(t,["topP"]);l!=null&&x(r,["topP"],l);const u=v(t,["topK"]);u!=null&&x(r,["topK"],u);const d=v(t,["candidateCount"]);d!=null&&x(r,["candidateCount"],d);const f=v(t,["maxOutputTokens"]);f!=null&&x(r,["maxOutputTokens"],f);const h=v(t,["stopSequences"]);h!=null&&x(r,["stopSequences"],h);const g=v(t,["responseLogprobs"]);g!=null&&x(r,["responseLogprobs"],g);const y=v(t,["logprobs"]);y!=null&&x(r,["logprobs"],y);const b=v(t,["presencePenalty"]);b!=null&&x(r,["presencePenalty"],b);const S=v(t,["frequencyPenalty"]);S!=null&&x(r,["frequencyPenalty"],S);const E=v(t,["seed"]);E!=null&&x(r,["seed"],E);const T=v(t,["responseMimeType"]);T!=null&&x(r,["responseMimeType"],T);const A=v(t,["responseSchema"]);A!=null&&x(r,["responseSchema"],zb(A));const N=v(t,["responseJsonSchema"]);if(N!=null&&x(r,["responseJsonSchema"],N),v(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=v(t,["safetySettings"]);if(n!==void 0&&k!=null){let U=k;Array.isArray(U)&&(U=U.map(L=>Xee(L))),x(n,["safetySettings"],U)}const P=v(t,["tools"]);if(n!==void 0&&P!=null){let U=el(P);Array.isArray(U)&&(U=U.map(L=>ite(Qs(L)))),x(n,["tools"],U)}const R=v(t,["toolConfig"]);if(n!==void 0&&R!=null&&x(n,["toolConfig"],rte(R)),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=v(t,["cachedContent"]);n!==void 0&&O!=null&&x(n,["cachedContent"],Li(e,O));const B=v(t,["responseModalities"]);B!=null&&x(r,["responseModalities"],B);const K=v(t,["mediaResolution"]);K!=null&&x(r,["mediaResolution"],K);const D=v(t,["speechConfig"]);if(D!=null&&x(r,["speechConfig"],qb(D)),v(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=v(t,["thinkingConfig"]);G!=null&&x(r,["thinkingConfig"],G);const $=v(t,["imageConfig"]);$!=null&&x(r,["imageConfig"],Mee($));const M=v(t,["enableEnhancedCivicAnswers"]);if(M!=null&&x(r,["enableEnhancedCivicAnswers"],M),v(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function lee(e,t,n){const r={},i=v(t,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],ln(i));const o=v(t,["temperature"]);o!=null&&x(r,["temperature"],o);const l=v(t,["topP"]);l!=null&&x(r,["topP"],l);const u=v(t,["topK"]);u!=null&&x(r,["topK"],u);const d=v(t,["candidateCount"]);d!=null&&x(r,["candidateCount"],d);const f=v(t,["maxOutputTokens"]);f!=null&&x(r,["maxOutputTokens"],f);const h=v(t,["stopSequences"]);h!=null&&x(r,["stopSequences"],h);const g=v(t,["responseLogprobs"]);g!=null&&x(r,["responseLogprobs"],g);const y=v(t,["logprobs"]);y!=null&&x(r,["logprobs"],y);const b=v(t,["presencePenalty"]);b!=null&&x(r,["presencePenalty"],b);const S=v(t,["frequencyPenalty"]);S!=null&&x(r,["frequencyPenalty"],S);const E=v(t,["seed"]);E!=null&&x(r,["seed"],E);const T=v(t,["responseMimeType"]);T!=null&&x(r,["responseMimeType"],T);const A=v(t,["responseSchema"]);A!=null&&x(r,["responseSchema"],zb(A));const N=v(t,["responseJsonSchema"]);N!=null&&x(r,["responseJsonSchema"],N);const k=v(t,["routingConfig"]);k!=null&&x(r,["routingConfig"],k);const P=v(t,["modelSelectionConfig"]);P!=null&&x(r,["modelConfig"],P);const R=v(t,["safetySettings"]);if(n!==void 0&&R!=null){let F=R;Array.isArray(F)&&(F=F.map(ne=>ne)),x(n,["safetySettings"],F)}const O=v(t,["tools"]);if(n!==void 0&&O!=null){let F=el(O);Array.isArray(F)&&(F=F.map(ne=>$4(Qs(ne)))),x(n,["tools"],F)}const B=v(t,["toolConfig"]);n!==void 0&&B!=null&&x(n,["toolConfig"],B);const K=v(t,["labels"]);n!==void 0&&K!=null&&x(n,["labels"],K);const D=v(t,["cachedContent"]);n!==void 0&&D!=null&&x(n,["cachedContent"],Li(e,D));const G=v(t,["responseModalities"]);G!=null&&x(r,["responseModalities"],G);const $=v(t,["mediaResolution"]);$!=null&&x(r,["mediaResolution"],$);const M=v(t,["speechConfig"]);M!=null&&x(r,["speechConfig"],qb(M));const U=v(t,["audioTimestamp"]);U!=null&&x(r,["audioTimestamp"],U);const L=v(t,["thinkingConfig"]);L!=null&&x(r,["thinkingConfig"],L);const q=v(t,["imageConfig"]);if(q!=null&&x(r,["imageConfig"],Dee(q)),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const z=v(t,["modelArmorConfig"]);return n!==void 0&&z!=null&&x(n,["modelArmorConfig"],z),r}function pI(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["_url","model"],Ve(e,r));const i=v(t,["contents"]);if(i!=null){let l=lr(i);Array.isArray(l)&&(l=l.map(u=>sp(u))),x(n,["contents"],l)}const o=v(t,["config"]);return o!=null&&x(n,["generationConfig"],see(e,o,n)),n}function mI(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["_url","model"],Ve(e,r));const i=v(t,["contents"]);if(i!=null){let l=lr(i);Array.isArray(l)&&(l=l.map(u=>u)),x(n,["contents"],l)}const o=v(t,["config"]);return o!=null&&x(n,["generationConfig"],lee(e,o,n)),n}function gI(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>kQ(f))),x(t,["candidates"],d)}const i=v(e,["modelVersion"]);i!=null&&x(t,["modelVersion"],i);const o=v(e,["promptFeedback"]);o!=null&&x(t,["promptFeedback"],o);const l=v(e,["responseId"]);l!=null&&x(t,["responseId"],l);const u=v(e,["usageMetadata"]);return u!=null&&x(t,["usageMetadata"],u),t}function vI(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),x(t,["candidates"],f)}const i=v(e,["createTime"]);i!=null&&x(t,["createTime"],i);const o=v(e,["modelVersion"]);o!=null&&x(t,["modelVersion"],o);const l=v(e,["promptFeedback"]);l!=null&&x(t,["promptFeedback"],l);const u=v(e,["responseId"]);u!=null&&x(t,["responseId"],u);const d=v(e,["usageMetadata"]);return d!=null&&x(t,["usageMetadata"],d),t}function uee(e,t){const n={};if(v(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=v(e,["numberOfImages"]);t!==void 0&&r!=null&&x(t,["parameters","sampleCount"],r);const i=v(e,["aspectRatio"]);t!==void 0&&i!=null&&x(t,["parameters","aspectRatio"],i);const o=v(e,["guidanceScale"]);if(t!==void 0&&o!=null&&x(t,["parameters","guidanceScale"],o),v(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=v(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&x(t,["parameters","safetySetting"],l);const u=v(e,["personGeneration"]);t!==void 0&&u!=null&&x(t,["parameters","personGeneration"],u);const d=v(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&x(t,["parameters","includeSafetyAttributes"],d);const f=v(e,["includeRaiReason"]);t!==void 0&&f!=null&&x(t,["parameters","includeRaiReason"],f);const h=v(e,["language"]);t!==void 0&&h!=null&&x(t,["parameters","language"],h);const g=v(e,["outputMimeType"]);t!==void 0&&g!=null&&x(t,["parameters","outputOptions","mimeType"],g);const y=v(e,["outputCompressionQuality"]);if(t!==void 0&&y!=null&&x(t,["parameters","outputOptions","compressionQuality"],y),v(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=v(e,["imageSize"]);if(t!==void 0&&b!=null&&x(t,["parameters","sampleImageSize"],b),v(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function cee(e,t){const n={},r=v(e,["outputGcsUri"]);t!==void 0&&r!=null&&x(t,["parameters","storageUri"],r);const i=v(e,["negativePrompt"]);t!==void 0&&i!=null&&x(t,["parameters","negativePrompt"],i);const o=v(e,["numberOfImages"]);t!==void 0&&o!=null&&x(t,["parameters","sampleCount"],o);const l=v(e,["aspectRatio"]);t!==void 0&&l!=null&&x(t,["parameters","aspectRatio"],l);const u=v(e,["guidanceScale"]);t!==void 0&&u!=null&&x(t,["parameters","guidanceScale"],u);const d=v(e,["seed"]);t!==void 0&&d!=null&&x(t,["parameters","seed"],d);const f=v(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&x(t,["parameters","safetySetting"],f);const h=v(e,["personGeneration"]);t!==void 0&&h!=null&&x(t,["parameters","personGeneration"],h);const g=v(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&x(t,["parameters","includeSafetyAttributes"],g);const y=v(e,["includeRaiReason"]);t!==void 0&&y!=null&&x(t,["parameters","includeRaiReason"],y);const b=v(e,["language"]);t!==void 0&&b!=null&&x(t,["parameters","language"],b);const S=v(e,["outputMimeType"]);t!==void 0&&S!=null&&x(t,["parameters","outputOptions","mimeType"],S);const E=v(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&x(t,["parameters","outputOptions","compressionQuality"],E);const T=v(e,["addWatermark"]);t!==void 0&&T!=null&&x(t,["parameters","addWatermark"],T);const A=v(e,["labels"]);t!==void 0&&A!=null&&x(t,["labels"],A);const N=v(e,["imageSize"]);t!==void 0&&N!=null&&x(t,["parameters","sampleImageSize"],N);const k=v(e,["enhancePrompt"]);return t!==void 0&&k!=null&&x(t,["parameters","enhancePrompt"],k),n}function dee(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["_url","model"],Ve(e,r));const i=v(t,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const o=v(t,["config"]);return o!=null&&uee(o,n),n}function fee(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["_url","model"],Ve(e,r));const i=v(t,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const o=v(t,["config"]);return o!=null&&cee(o,n),n}function hee(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Tee(l))),x(t,["generatedImages"],o)}const i=v(e,["positivePromptSafetyAttributes"]);return i!=null&&x(t,["positivePromptSafetyAttributes"],U4(i)),t}function pee(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>lp(l))),x(t,["generatedImages"],o)}const i=v(e,["positivePromptSafetyAttributes"]);return i!=null&&x(t,["positivePromptSafetyAttributes"],B4(i)),t}function mee(e,t){const n={},r=v(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&x(t,["parameters","sampleCount"],r),v(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=v(e,["durationSeconds"]);if(t!==void 0&&i!=null&&x(t,["parameters","durationSeconds"],i),v(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=v(e,["aspectRatio"]);t!==void 0&&o!=null&&x(t,["parameters","aspectRatio"],o);const l=v(e,["resolution"]);t!==void 0&&l!=null&&x(t,["parameters","resolution"],l);const u=v(e,["personGeneration"]);if(t!==void 0&&u!=null&&x(t,["parameters","personGeneration"],u),v(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=v(e,["negativePrompt"]);t!==void 0&&d!=null&&x(t,["parameters","negativePrompt"],d);const f=v(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&x(t,["parameters","enhancePrompt"],f),v(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=v(e,["lastFrame"]);t!==void 0&&h!=null&&x(t,["instances[0]","lastFrame"],up(h));const g=v(e,["referenceImages"]);if(t!==void 0&&g!=null){let y=g;Array.isArray(y)&&(y=y.map(b=>vte(b))),x(t,["instances[0]","referenceImages"],y)}if(v(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function gee(e,t){const n={},r=v(e,["numberOfVideos"]);t!==void 0&&r!=null&&x(t,["parameters","sampleCount"],r);const i=v(e,["outputGcsUri"]);t!==void 0&&i!=null&&x(t,["parameters","storageUri"],i);const o=v(e,["fps"]);t!==void 0&&o!=null&&x(t,["parameters","fps"],o);const l=v(e,["durationSeconds"]);t!==void 0&&l!=null&&x(t,["parameters","durationSeconds"],l);const u=v(e,["seed"]);t!==void 0&&u!=null&&x(t,["parameters","seed"],u);const d=v(e,["aspectRatio"]);t!==void 0&&d!=null&&x(t,["parameters","aspectRatio"],d);const f=v(e,["resolution"]);t!==void 0&&f!=null&&x(t,["parameters","resolution"],f);const h=v(e,["personGeneration"]);t!==void 0&&h!=null&&x(t,["parameters","personGeneration"],h);const g=v(e,["pubsubTopic"]);t!==void 0&&g!=null&&x(t,["parameters","pubsubTopic"],g);const y=v(e,["negativePrompt"]);t!==void 0&&y!=null&&x(t,["parameters","negativePrompt"],y);const b=v(e,["enhancePrompt"]);t!==void 0&&b!=null&&x(t,["parameters","enhancePrompt"],b);const S=v(e,["generateAudio"]);t!==void 0&&S!=null&&x(t,["parameters","generateAudio"],S);const E=v(e,["lastFrame"]);t!==void 0&&E!=null&&x(t,["instances[0]","lastFrame"],Pr(E));const T=v(e,["referenceImages"]);if(t!==void 0&&T!=null){let k=T;Array.isArray(k)&&(k=k.map(P=>yte(P))),x(t,["instances[0]","referenceImages"],k)}const A=v(e,["mask"]);t!==void 0&&A!=null&&x(t,["instances[0]","mask"],gte(A));const N=v(e,["compressionQuality"]);return t!==void 0&&N!=null&&x(t,["parameters","compressionQuality"],N),n}function vee(e){const t={},n=v(e,["name"]);n!=null&&x(t,["name"],n);const r=v(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=v(e,["done"]);i!=null&&x(t,["done"],i);const o=v(e,["error"]);o!=null&&x(t,["error"],o);const l=v(e,["response","generateVideoResponse"]);return l!=null&&x(t,["response"],wee(l)),t}function yee(e){const t={},n=v(e,["name"]);n!=null&&x(t,["name"],n);const r=v(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=v(e,["done"]);i!=null&&x(t,["done"],i);const o=v(e,["error"]);o!=null&&x(t,["error"],o);const l=v(e,["response"]);return l!=null&&x(t,["response"],_ee(l)),t}function xee(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["_url","model"],Ve(e,r));const i=v(t,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const o=v(t,["image"]);o!=null&&x(n,["instances[0]","image"],up(o));const l=v(t,["video"]);l!=null&&x(n,["instances[0]","video"],z4(l));const u=v(t,["source"]);u!=null&&See(u,n);const d=v(t,["config"]);return d!=null&&mee(d,n),n}function bee(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["_url","model"],Ve(e,r));const i=v(t,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const o=v(t,["image"]);o!=null&&x(n,["instances[0]","image"],Pr(o));const l=v(t,["video"]);l!=null&&x(n,["instances[0]","video"],q4(l));const u=v(t,["source"]);u!=null&&Eee(u,n);const d=v(t,["config"]);return d!=null&&gee(d,n),n}function wee(e){const t={},n=v(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Cee(l))),x(t,["generatedVideos"],o)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&x(t,["raiMediaFilteredCount"],r);const i=v(e,["raiMediaFilteredReasons"]);return i!=null&&x(t,["raiMediaFilteredReasons"],i),t}function _ee(e){const t={},n=v(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Nee(l))),x(t,["generatedVideos"],o)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&x(t,["raiMediaFilteredCount"],r);const i=v(e,["raiMediaFilteredReasons"]);return i!=null&&x(t,["raiMediaFilteredReasons"],i),t}function See(e,t){const n={},r=v(e,["prompt"]);t!==void 0&&r!=null&&x(t,["instances[0]","prompt"],r);const i=v(e,["image"]);t!==void 0&&i!=null&&x(t,["instances[0]","image"],up(i));const o=v(e,["video"]);return t!==void 0&&o!=null&&x(t,["instances[0]","video"],z4(o)),n}function Eee(e,t){const n={},r=v(e,["prompt"]);t!==void 0&&r!=null&&x(t,["instances[0]","prompt"],r);const i=v(e,["image"]);t!==void 0&&i!=null&&x(t,["instances[0]","image"],Pr(i));const o=v(e,["video"]);return t!==void 0&&o!=null&&x(t,["instances[0]","video"],q4(o)),n}function Tee(e){const t={},n=v(e,["_self"]);n!=null&&x(t,["image"],jee(n));const r=v(e,["raiFilteredReason"]);r!=null&&x(t,["raiFilteredReason"],r);const i=v(e,["_self"]);return i!=null&&x(t,["safetyAttributes"],U4(i)),t}function lp(e){const t={},n=v(e,["_self"]);n!=null&&x(t,["image"],L4(n));const r=v(e,["raiFilteredReason"]);r!=null&&x(t,["raiFilteredReason"],r);const i=v(e,["_self"]);i!=null&&x(t,["safetyAttributes"],B4(i));const o=v(e,["prompt"]);return o!=null&&x(t,["enhancedPrompt"],o),t}function Aee(e){const t={},n=v(e,["_self"]);n!=null&&x(t,["mask"],L4(n));const r=v(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),x(t,["labels"],i)}return t}function Cee(e){const t={},n=v(e,["video"]);return n!=null&&x(t,["video"],pte(n)),t}function Nee(e){const t={},n=v(e,["_self"]);return n!=null&&x(t,["video"],mte(n)),t}function Iee(e){const t={},n=v(e,["modelSelectionConfig"]);n!=null&&x(t,["modelConfig"],n);const r=v(e,["responseJsonSchema"]);r!=null&&x(t,["responseJsonSchema"],r);const i=v(e,["audioTimestamp"]);i!=null&&x(t,["audioTimestamp"],i);const o=v(e,["candidateCount"]);o!=null&&x(t,["candidateCount"],o);const l=v(e,["enableAffectiveDialog"]);l!=null&&x(t,["enableAffectiveDialog"],l);const u=v(e,["frequencyPenalty"]);u!=null&&x(t,["frequencyPenalty"],u);const d=v(e,["logprobs"]);d!=null&&x(t,["logprobs"],d);const f=v(e,["maxOutputTokens"]);f!=null&&x(t,["maxOutputTokens"],f);const h=v(e,["mediaResolution"]);h!=null&&x(t,["mediaResolution"],h);const g=v(e,["presencePenalty"]);g!=null&&x(t,["presencePenalty"],g);const y=v(e,["responseLogprobs"]);y!=null&&x(t,["responseLogprobs"],y);const b=v(e,["responseMimeType"]);b!=null&&x(t,["responseMimeType"],b);const S=v(e,["responseModalities"]);S!=null&&x(t,["responseModalities"],S);const E=v(e,["responseSchema"]);E!=null&&x(t,["responseSchema"],E);const T=v(e,["routingConfig"]);T!=null&&x(t,["routingConfig"],T);const A=v(e,["seed"]);A!=null&&x(t,["seed"],A);const N=v(e,["speechConfig"]);N!=null&&x(t,["speechConfig"],N);const k=v(e,["stopSequences"]);k!=null&&x(t,["stopSequences"],k);const P=v(e,["temperature"]);P!=null&&x(t,["temperature"],P);const R=v(e,["thinkingConfig"]);R!=null&&x(t,["thinkingConfig"],R);const O=v(e,["topK"]);O!=null&&x(t,["topK"],O);const B=v(e,["topP"]);if(B!=null&&x(t,["topP"],B),v(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function kee(e,t){const n={},r=v(t,["model"]);return r!=null&&x(n,["_url","name"],Ve(e,r)),n}function Ree(e,t){const n={},r=v(t,["model"]);return r!=null&&x(n,["_url","name"],Ve(e,r)),n}function Pee(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function Oee(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&x(t,["timeRangeFilter"],n),t}function Mee(e){const t={},n=v(e,["aspectRatio"]);n!=null&&x(t,["aspectRatio"],n);const r=v(e,["imageSize"]);if(r!=null&&x(t,["imageSize"],r),v(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(v(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Dee(e){const t={},n=v(e,["aspectRatio"]);n!=null&&x(t,["aspectRatio"],n);const r=v(e,["imageSize"]);r!=null&&x(t,["imageSize"],r);const i=v(e,["personGeneration"]);i!=null&&x(t,["personGeneration"],i);const o=v(e,["outputMimeType"]);o!=null&&x(t,["imageOutputOptions","mimeType"],o);const l=v(e,["outputCompressionQuality"]);return l!=null&&x(t,["imageOutputOptions","compressionQuality"],l),t}function jee(e){const t={},n=v(e,["bytesBase64Encoded"]);n!=null&&x(t,["imageBytes"],Sa(n));const r=v(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function L4(e){const t={},n=v(e,["gcsUri"]);n!=null&&x(t,["gcsUri"],n);const r=v(e,["bytesBase64Encoded"]);r!=null&&x(t,["imageBytes"],Sa(r));const i=v(e,["mimeType"]);return i!=null&&x(t,["mimeType"],i),t}function up(e){const t={};if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(e,["imageBytes"]);n!=null&&x(t,["bytesBase64Encoded"],Sa(n));const r=v(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function Pr(e){const t={},n=v(e,["gcsUri"]);n!=null&&x(t,["gcsUri"],n);const r=v(e,["imageBytes"]);r!=null&&x(t,["bytesBase64Encoded"],Sa(r));const i=v(e,["mimeType"]);return i!=null&&x(t,["mimeType"],i),t}function Lee(e,t,n){const r={},i=v(t,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const o=v(t,["pageToken"]);n!==void 0&&o!=null&&x(n,["_query","pageToken"],o);const l=v(t,["filter"]);n!==void 0&&l!=null&&x(n,["_query","filter"],l);const u=v(t,["queryBase"]);return n!==void 0&&u!=null&&x(n,["_url","models_url"],k4(e,u)),r}function Uee(e,t,n){const r={},i=v(t,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const o=v(t,["pageToken"]);n!==void 0&&o!=null&&x(n,["_query","pageToken"],o);const l=v(t,["filter"]);n!==void 0&&l!=null&&x(n,["_query","filter"],l);const u=v(t,["queryBase"]);return n!==void 0&&u!=null&&x(n,["_url","models_url"],k4(e,u)),r}function Bee(e,t){const n={},r=v(t,["config"]);return r!=null&&Lee(e,r,n),n}function $ee(e,t){const n={},r=v(t,["config"]);return r!=null&&Uee(e,r,n),n}function zee(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=v(e,["_self"]);if(i!=null){let o=R4(i);Array.isArray(o)&&(o=o.map(l=>Uy(l))),x(t,["models"],o)}return t}function qee(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=v(e,["_self"]);if(i!=null){let o=R4(i);Array.isArray(o)&&(o=o.map(l=>By(l))),x(t,["models"],o)}return t}function Vee(e){const t={},n=v(e,["maskMode"]);n!=null&&x(t,["maskMode"],n);const r=v(e,["segmentationClasses"]);r!=null&&x(t,["maskClasses"],r);const i=v(e,["maskDilation"]);return i!=null&&x(t,["dilation"],i),t}function Uy(e){const t={},n=v(e,["name"]);n!=null&&x(t,["name"],n);const r=v(e,["displayName"]);r!=null&&x(t,["displayName"],r);const i=v(e,["description"]);i!=null&&x(t,["description"],i);const o=v(e,["version"]);o!=null&&x(t,["version"],o);const l=v(e,["_self"]);l!=null&&x(t,["tunedModelInfo"],ate(l));const u=v(e,["inputTokenLimit"]);u!=null&&x(t,["inputTokenLimit"],u);const d=v(e,["outputTokenLimit"]);d!=null&&x(t,["outputTokenLimit"],d);const f=v(e,["supportedGenerationMethods"]);f!=null&&x(t,["supportedActions"],f);const h=v(e,["temperature"]);h!=null&&x(t,["temperature"],h);const g=v(e,["maxTemperature"]);g!=null&&x(t,["maxTemperature"],g);const y=v(e,["topP"]);y!=null&&x(t,["topP"],y);const b=v(e,["topK"]);b!=null&&x(t,["topK"],b);const S=v(e,["thinking"]);return S!=null&&x(t,["thinking"],S),t}function By(e){const t={},n=v(e,["name"]);n!=null&&x(t,["name"],n);const r=v(e,["displayName"]);r!=null&&x(t,["displayName"],r);const i=v(e,["description"]);i!=null&&x(t,["description"],i);const o=v(e,["versionId"]);o!=null&&x(t,["version"],o);const l=v(e,["deployedModels"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>nee(y))),x(t,["endpoints"],g)}const u=v(e,["labels"]);u!=null&&x(t,["labels"],u);const d=v(e,["_self"]);d!=null&&x(t,["tunedModelInfo"],ote(d));const f=v(e,["defaultCheckpointId"]);f!=null&&x(t,["defaultCheckpointId"],f);const h=v(e,["checkpoints"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(y=>y)),x(t,["checkpoints"],g)}return t}function Gee(e){const t={},n=v(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&x(t,["fileData"],ree(o));const l=v(e,["functionCall"]);l!=null&&x(t,["functionCall"],iee(l));const u=v(e,["functionResponse"]);u!=null&&x(t,["functionResponse"],u);const d=v(e,["inlineData"]);d!=null&&x(t,["inlineData"],IQ(d));const f=v(e,["text"]);f!=null&&x(t,["text"],f);const h=v(e,["thought"]);h!=null&&x(t,["thought"],h);const g=v(e,["thoughtSignature"]);g!=null&&x(t,["thoughtSignature"],g);const y=v(e,["videoMetadata"]);return y!=null&&x(t,["videoMetadata"],y),t}function Hee(e){const t={},n=v(e,["productImage"]);return n!=null&&x(t,["image"],Pr(n)),t}function Fee(e,t){const n={},r=v(e,["numberOfImages"]);t!==void 0&&r!=null&&x(t,["parameters","sampleCount"],r);const i=v(e,["baseSteps"]);t!==void 0&&i!=null&&x(t,["parameters","baseSteps"],i);const o=v(e,["outputGcsUri"]);t!==void 0&&o!=null&&x(t,["parameters","storageUri"],o);const l=v(e,["seed"]);t!==void 0&&l!=null&&x(t,["parameters","seed"],l);const u=v(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&x(t,["parameters","safetySetting"],u);const d=v(e,["personGeneration"]);t!==void 0&&d!=null&&x(t,["parameters","personGeneration"],d);const f=v(e,["addWatermark"]);t!==void 0&&f!=null&&x(t,["parameters","addWatermark"],f);const h=v(e,["outputMimeType"]);t!==void 0&&h!=null&&x(t,["parameters","outputOptions","mimeType"],h);const g=v(e,["outputCompressionQuality"]);t!==void 0&&g!=null&&x(t,["parameters","outputOptions","compressionQuality"],g);const y=v(e,["enhancePrompt"]);t!==void 0&&y!=null&&x(t,["parameters","enhancePrompt"],y);const b=v(e,["labels"]);return t!==void 0&&b!=null&&x(t,["labels"],b),n}function Kee(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["_url","model"],Ve(e,r));const i=v(t,["source"]);i!=null&&Yee(i,n);const o=v(t,["config"]);return o!=null&&Fee(o,n),n}function Wee(e){const t={},n=v(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>lp(i))),x(t,["generatedImages"],r)}return t}function Yee(e,t){const n={},r=v(e,["prompt"]);t!==void 0&&r!=null&&x(t,["instances[0]","prompt"],r);const i=v(e,["personImage"]);t!==void 0&&i!=null&&x(t,["instances[0]","personImage","image"],Pr(i));const o=v(e,["productImages"]);if(t!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Hee(u))),x(t,["instances[0]","productImages"],l)}return n}function Jee(e){const t={},n=v(e,["referenceImage"]);n!=null&&x(t,["referenceImage"],Pr(n));const r=v(e,["referenceId"]);r!=null&&x(t,["referenceId"],r);const i=v(e,["referenceType"]);i!=null&&x(t,["referenceType"],i);const o=v(e,["maskImageConfig"]);o!=null&&x(t,["maskImageConfig"],Vee(o));const l=v(e,["controlImageConfig"]);l!=null&&x(t,["controlImageConfig"],jQ(l));const u=v(e,["styleImageConfig"]);u!=null&&x(t,["styleImageConfig"],u);const d=v(e,["subjectImageConfig"]);return d!=null&&x(t,["subjectImageConfig"],d),t}function U4(e){const t={},n=v(e,["safetyAttributes","categories"]);n!=null&&x(t,["categories"],n);const r=v(e,["safetyAttributes","scores"]);r!=null&&x(t,["scores"],r);const i=v(e,["contentType"]);return i!=null&&x(t,["contentType"],i),t}function B4(e){const t={},n=v(e,["safetyAttributes","categories"]);n!=null&&x(t,["categories"],n);const r=v(e,["safetyAttributes","scores"]);r!=null&&x(t,["scores"],r);const i=v(e,["contentType"]);return i!=null&&x(t,["contentType"],i),t}function Xee(e){const t={},n=v(e,["category"]);if(n!=null&&x(t,["category"],n),v(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(e,["threshold"]);return r!=null&&x(t,["threshold"],r),t}function Zee(e){const t={},n=v(e,["image"]);return n!=null&&x(t,["image"],Pr(n)),t}function Qee(e,t){const n={},r=v(e,["mode"]);t!==void 0&&r!=null&&x(t,["parameters","mode"],r);const i=v(e,["maxPredictions"]);t!==void 0&&i!=null&&x(t,["parameters","maxPredictions"],i);const o=v(e,["confidenceThreshold"]);t!==void 0&&o!=null&&x(t,["parameters","confidenceThreshold"],o);const l=v(e,["maskDilation"]);t!==void 0&&l!=null&&x(t,["parameters","maskDilation"],l);const u=v(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&x(t,["parameters","binaryColorThreshold"],u);const d=v(e,["labels"]);return t!==void 0&&d!=null&&x(t,["labels"],d),n}function ete(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["_url","model"],Ve(e,r));const i=v(t,["source"]);i!=null&&nte(i,n);const o=v(t,["config"]);return o!=null&&Qee(o,n),n}function tte(e){const t={},n=v(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Aee(i))),x(t,["generatedMasks"],r)}return t}function nte(e,t){const n={},r=v(e,["prompt"]);t!==void 0&&r!=null&&x(t,["instances[0]","prompt"],r);const i=v(e,["image"]);t!==void 0&&i!=null&&x(t,["instances[0]","image"],Pr(i));const o=v(e,["scribbleImage"]);return t!==void 0&&o!=null&&x(t,["instances[0]","scribble"],Zee(o)),n}function rte(e){const t={},n=v(e,["retrievalConfig"]);n!=null&&x(t,["retrievalConfig"],n);const r=v(e,["functionCallingConfig"]);return r!=null&&x(t,["functionCallingConfig"],aee(r)),t}function ite(e){const t={};if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(e,["computerUse"]);n!=null&&x(t,["computerUse"],n);const r=v(e,["fileSearch"]);r!=null&&x(t,["fileSearch"],r);const i=v(e,["codeExecution"]);if(i!=null&&x(t,["codeExecution"],i),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(e,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(g=>g)),x(t,["functionDeclarations"],h)}const l=v(e,["googleMaps"]);l!=null&&x(t,["googleMaps"],Pee(l));const u=v(e,["googleSearch"]);u!=null&&x(t,["googleSearch"],Oee(u));const d=v(e,["googleSearchRetrieval"]);d!=null&&x(t,["googleSearchRetrieval"],d);const f=v(e,["urlContext"]);return f!=null&&x(t,["urlContext"],f),t}function $4(e){const t={},n=v(e,["retrieval"]);n!=null&&x(t,["retrieval"],n);const r=v(e,["computerUse"]);if(r!=null&&x(t,["computerUse"],r),v(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=v(e,["codeExecution"]);i!=null&&x(t,["codeExecution"],i);const o=v(e,["enterpriseWebSearch"]);o!=null&&x(t,["enterpriseWebSearch"],o);const l=v(e,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>oee(y))),x(t,["functionDeclarations"],g)}const u=v(e,["googleMaps"]);u!=null&&x(t,["googleMaps"],u);const d=v(e,["googleSearch"]);d!=null&&x(t,["googleSearch"],d);const f=v(e,["googleSearchRetrieval"]);f!=null&&x(t,["googleSearchRetrieval"],f);const h=v(e,["urlContext"]);return h!=null&&x(t,["urlContext"],h),t}function ate(e){const t={},n=v(e,["baseModel"]);n!=null&&x(t,["baseModel"],n);const r=v(e,["createTime"]);r!=null&&x(t,["createTime"],r);const i=v(e,["updateTime"]);return i!=null&&x(t,["updateTime"],i),t}function ote(e){const t={},n=v(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&x(t,["baseModel"],n);const r=v(e,["createTime"]);r!=null&&x(t,["createTime"],r);const i=v(e,["updateTime"]);return i!=null&&x(t,["updateTime"],i),t}function ste(e,t){const n={},r=v(e,["displayName"]);t!==void 0&&r!=null&&x(t,["displayName"],r);const i=v(e,["description"]);t!==void 0&&i!=null&&x(t,["description"],i);const o=v(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&x(t,["defaultCheckpointId"],o),n}function lte(e,t){const n={},r=v(e,["displayName"]);t!==void 0&&r!=null&&x(t,["displayName"],r);const i=v(e,["description"]);t!==void 0&&i!=null&&x(t,["description"],i);const o=v(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&x(t,["defaultCheckpointId"],o),n}function ute(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["_url","name"],Ve(e,r));const i=v(t,["config"]);return i!=null&&ste(i,n),n}function cte(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["_url","model"],Ve(e,r));const i=v(t,["config"]);return i!=null&&lte(i,n),n}function dte(e,t){const n={},r=v(e,["outputGcsUri"]);t!==void 0&&r!=null&&x(t,["parameters","storageUri"],r);const i=v(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&x(t,["parameters","safetySetting"],i);const o=v(e,["personGeneration"]);t!==void 0&&o!=null&&x(t,["parameters","personGeneration"],o);const l=v(e,["includeRaiReason"]);t!==void 0&&l!=null&&x(t,["parameters","includeRaiReason"],l);const u=v(e,["outputMimeType"]);t!==void 0&&u!=null&&x(t,["parameters","outputOptions","mimeType"],u);const d=v(e,["outputCompressionQuality"]);t!==void 0&&d!=null&&x(t,["parameters","outputOptions","compressionQuality"],d);const f=v(e,["enhanceInputImage"]);t!==void 0&&f!=null&&x(t,["parameters","upscaleConfig","enhanceInputImage"],f);const h=v(e,["imagePreservationFactor"]);t!==void 0&&h!=null&&x(t,["parameters","upscaleConfig","imagePreservationFactor"],h);const g=v(e,["labels"]);t!==void 0&&g!=null&&x(t,["labels"],g);const y=v(e,["numberOfImages"]);t!==void 0&&y!=null&&x(t,["parameters","sampleCount"],y);const b=v(e,["mode"]);return t!==void 0&&b!=null&&x(t,["parameters","mode"],b),n}function fte(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["_url","model"],Ve(e,r));const i=v(t,["image"]);i!=null&&x(n,["instances[0]","image"],Pr(i));const o=v(t,["upscaleFactor"]);o!=null&&x(n,["parameters","upscaleConfig","upscaleFactor"],o);const l=v(t,["config"]);return l!=null&&dte(l,n),n}function hte(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>lp(o))),x(t,["generatedImages"],i)}return t}function pte(e){const t={},n=v(e,["uri"]);n!=null&&x(t,["uri"],n);const r=v(e,["encodedVideo"]);r!=null&&x(t,["videoBytes"],Sa(r));const i=v(e,["encoding"]);return i!=null&&x(t,["mimeType"],i),t}function mte(e){const t={},n=v(e,["gcsUri"]);n!=null&&x(t,["uri"],n);const r=v(e,["bytesBase64Encoded"]);r!=null&&x(t,["videoBytes"],Sa(r));const i=v(e,["mimeType"]);return i!=null&&x(t,["mimeType"],i),t}function gte(e){const t={},n=v(e,["image"]);n!=null&&x(t,["_self"],Pr(n));const r=v(e,["maskMode"]);return r!=null&&x(t,["maskMode"],r),t}function vte(e){const t={},n=v(e,["image"]);n!=null&&x(t,["image"],up(n));const r=v(e,["referenceType"]);return r!=null&&x(t,["referenceType"],r),t}function yte(e){const t={},n=v(e,["image"]);n!=null&&x(t,["image"],Pr(n));const r=v(e,["referenceType"]);return r!=null&&x(t,["referenceType"],r),t}function z4(e){const t={},n=v(e,["uri"]);n!=null&&x(t,["uri"],n);const r=v(e,["videoBytes"]);r!=null&&x(t,["encodedVideo"],Sa(r));const i=v(e,["mimeType"]);return i!=null&&x(t,["encoding"],i),t}function q4(e){const t={},n=v(e,["uri"]);n!=null&&x(t,["gcsUri"],n);const r=v(e,["videoBytes"]);r!=null&&x(t,["bytesBase64Encoded"],Sa(r));const i=v(e,["mimeType"]);return i!=null&&x(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xte(e,t){const n={},r=v(e,["displayName"]);return t!==void 0&&r!=null&&x(t,["displayName"],r),n}function bte(e){const t={},n=v(e,["config"]);return n!=null&&xte(n,t),t}function wte(e,t){const n={},r=v(e,["force"]);return t!==void 0&&r!=null&&x(t,["_query","force"],r),n}function _te(e){const t={},n=v(e,["name"]);n!=null&&x(t,["_url","name"],n);const r=v(e,["config"]);return r!=null&&wte(r,t),t}function Ste(e){const t={},n=v(e,["name"]);return n!=null&&x(t,["_url","name"],n),t}function Ete(e,t){const n={},r=v(e,["customMetadata"]);if(t!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["customMetadata"],o)}const i=v(e,["chunkingConfig"]);return t!==void 0&&i!=null&&x(t,["chunkingConfig"],i),n}function Tte(e){const t={},n=v(e,["name"]);n!=null&&x(t,["name"],n);const r=v(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=v(e,["done"]);i!=null&&x(t,["done"],i);const o=v(e,["error"]);o!=null&&x(t,["error"],o);const l=v(e,["response"]);return l!=null&&x(t,["response"],Cte(l)),t}function Ate(e){const t={},n=v(e,["fileSearchStoreName"]);n!=null&&x(t,["_url","file_search_store_name"],n);const r=v(e,["fileName"]);r!=null&&x(t,["fileName"],r);const i=v(e,["config"]);return i!=null&&Ete(i,t),t}function Cte(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["parent"]);r!=null&&x(t,["parent"],r);const i=v(e,["documentName"]);return i!=null&&x(t,["documentName"],i),t}function Nte(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function Ite(e){const t={},n=v(e,["config"]);return n!=null&&Nte(n,t),t}function kte(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=v(e,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["fileSearchStores"],o)}return t}function V4(e,t){const n={},r=v(e,["mimeType"]);t!==void 0&&r!=null&&x(t,["mimeType"],r);const i=v(e,["displayName"]);t!==void 0&&i!=null&&x(t,["displayName"],i);const o=v(e,["customMetadata"]);if(t!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>d)),x(t,["customMetadata"],u)}const l=v(e,["chunkingConfig"]);return t!==void 0&&l!=null&&x(t,["chunkingConfig"],l),n}function Rte(e){const t={},n=v(e,["fileSearchStoreName"]);n!=null&&x(t,["_url","file_search_store_name"],n);const r=v(e,["config"]);return r!=null&&V4(r,t),t}function Pte(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ote="Content-Type",Mte="X-Server-Timeout",Dte="User-Agent",$y="x-goog-api-client",jte="1.38.0",Lte=`google-genai-sdk/${jte}`,Ute="v1beta1",Bte="v1beta";class $te{constructor(t){var n,r,i;this.clientOptions=Object.assign({},t),this.customBaseUrl=(n=t.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const u=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!u?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Ute}else{if(!this.clientOptions.apiKey)throw new Lu({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Bte,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t,n){return!(n.baseUrl&&n.baseUrlResourceScope===My.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))i.searchParams.append(l,String(u));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.unaryApiCall(i,o,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.streamApiCall(i,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const o=new AbortController,l=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),t.signal=l}return n&&n.extraBody!==null&&zte(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await yI(i),new Dy(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await yI(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return Tr(this,arguments,function*(){var r;const i=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";const u="data:",d=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:h}=yield Ne(i.read());if(f){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=o.decode(h,{stream:!0});try{const S=JSON.parse(g);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),T=E.status,A=E.code,N=`got status: ${T}. ${JSON.stringify(S)}`;if(A>=400&&A<600)throw new Lu({message:N,status:A})}}catch(S){if(S.name==="ApiError")throw S}l+=g;let y=-1,b=0;for(;;){y=-1,b=0;for(const T of d){const A=l.indexOf(T);A!==-1&&(y===-1||A<y)&&(y=A,b=T.length)}if(y===-1)break;const S=l.substring(0,y);l=l.substring(y+b);const E=S.trim();if(E.startsWith(u)){const T=E.substring(u.length).trim();try{const A=new Response(T,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Ne(new Dy(A))}catch(A){throw new Error(`exception parsing stream chunk ${T}. ${A}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=Lte+" "+this.clientOptions.userAgentExtra;return t[Dte]=n,t[$y]=n,t[Ote]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,o]of Object.entries(t.headers))r.append(i,o);t.timeout&&t.timeout>0&&r.append(Mte,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(t);i.sizeBytes=String(l.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const d={file:i},f=this.getFileName(t),h=me("upload/v1beta/files",d._url),g=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,d,n==null?void 0:n.httpOptions);return o.upload(t,g,this)}async uploadFileToFileSearchStore(t,n,r){var i;const o=this.clientOptions.uploader,l=await o.stat(n),u=String(l.size),d=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,h=this.getFileName(n),g={};r!=null&&V4(r,g);const y=await this.fetchUploadUrl(f,u,d,h,g,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,y,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,o,l){var u;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:t,body:JSON.stringify(o),httpMethod:"POST",httpOptions:d});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function yI(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Lu({message:i,status:n}):new Error(i)}}function zte(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const u=Object.assign({},o);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const f=l[d],h=u[d];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[d]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[d]=f)}return u}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qte="mcp_used/unknown";let Vte=!1;function G4(e){for(const t of e)if(Gte(t)||typeof t=="object"&&"inputSchema"in t)return!0;return Vte}function H4(e){var t;const n=(t=e[$y])!==null&&t!==void 0?t:"";e[$y]=(n+` ${qte}`).trimStart()}function Gte(e){return e!==null&&typeof e=="object"&&e instanceof Gb}function Hte(e){return Tr(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const l=yield Ne(n.listTools({cursor:i}));for(const u of l.tools)yield yield Ne(u),o++;if(!l.nextCursor)break;i=l.nextCursor}})}class Gb{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Gb(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const o={},l=[];for(const h of this.mcpClients)try{for(var u=!0,d=(n=void 0,Ar(Hte(h))),f;f=await d.next(),t=f.done,!t;u=!0){i=f.value,u=!1;const g=i;l.push(g);const y=g.name;if(o[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);o[y]=h}}catch(g){n={error:g}}finally{try{!u&&!t&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),_X(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Fte(e,t,n){const r=new pX;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class Kte{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=Jte(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(k=>{f=k}),g=t.callbacks,y=function(){f({})},b=this.apiClient,S={onopen:y,onmessage:k=>{Fte(b,g.onmessage,k)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(k){}},E=this.webSocketFactory.create(d,Yte(l),S);E.connect(),await h;const N={setup:{model:Ve(this.apiClient,t.model)}};return E.send(JSON.stringify(N)),new Wte(E,this.apiClient)}}class Wte{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=xQ(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=yQ(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Cs.PLAY)}pause(){this.sendPlaybackControl(Cs.PAUSE)}stop(){this.sendPlaybackControl(Cs.STOP)}resetContext(){this.sendPlaybackControl(Cs.RESET_CONTEXT)}close(){this.conn.close()}}function Yte(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Jte(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xte="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Zte(e,t,n){const r=new hX;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(e.isVertexAI()){const l=_Q(o);Object.assign(r,l)}else Object.assign(r,o);t(r)}class Qte{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new Kte(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,o,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const g=this.apiClient.getHeaders();t.config&&t.config.tools&&G4(t.config.tools)&&H4(g);const y=rne(g);if(this.apiClient.isVertexAI()){const D=this.apiClient.getProject(),G=this.apiClient.getLocation(),$=this.apiClient.getApiKey(),M=!!D&&!!G||!!$;this.apiClient.getCustomBaseUrl()&&!M?h=d:(h=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y,h))}else{const D=this.apiClient.getApiKey();let G="BidiGenerateContent",$="key";D!=null&&D.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),G="BidiGenerateContentConstrained",$="access_token"),h=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${G}?${$}=${D}`}let b=()=>{};const S=new Promise(D=>{b=D}),E=t.callbacks,T=function(){var D;(D=E==null?void 0:E.onopen)===null||D===void 0||D.call(E),b({})},A=this.apiClient,N={onopen:T,onmessage:D=>{Zte(A,E.onmessage,D)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(D){}},k=this.webSocketFactory.create(h,nne(y),N);k.connect(),await S;let P=Ve(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const D=this.apiClient.getProject(),G=this.apiClient.getLocation();D&&G&&(P=`projects/${D}/locations/${G}/`+P)}let R={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[sh.AUDIO]}:t.config.responseModalities=[sh.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const O=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],B=[];for(const D of O)if(this.isCallableTool(D)){const G=D;B.push(await G.tool())}else B.push(D);B.length>0&&(t.config.tools=B);const K={model:P,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?R=vQ(this.apiClient,K):R=gQ(this.apiClient,K),delete R.config,k.send(JSON.stringify(R)),new tne(k,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const ene={turnComplete:!0};class tne{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=lr(n.turns),t.isVertexAI()||(r=r.map(i=>sp(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(Xte)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},ene),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:wQ(t)}:n={realtimeInput:bQ(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function nne(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function rne(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xI=10;function bI(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Ms(l)){i=!0;break}if(!i)return!0;const o=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ms(e){return"callTool"in e&&typeof e.callTool=="function"}function ine(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Ms(i)))!==null&&r!==void 0?r:!1}function wI(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(Ms(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function _I(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ane extends ji{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,o,l,u;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!ine(n)||bI(n.config))return await this.generateContentInternal(d);const f=wI(n);if(f.length>0){const E=f.map(T=>`tools[${T}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let h,g;const y=lr(d.contents),b=(o=(i=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:xI;let S=0;for(;S<b&&(h=await this.generateContentInternal(d),!(!h.functionCalls||h.functionCalls.length===0));){const E=h.candidates[0].content,T=[];for(const A of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Ms(A)){const k=await A.callTool(h.functionCalls);T.push(...k)}S++,g={role:"user",parts:T},d.contents=lr(d.contents),d.contents.push(E),d.contents.push(g),_I(d.config)&&(y.push(E),y.push(g))}return _I(d.config)&&(h.automaticFunctionCallingHistory=y),h},this.generateContentStream=async n=>{var r,i,o,l,u;if(this.maybeMoveToResponseJsonSchem(n),bI(n.config)){const g=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(g)}const d=wI(n);if(d.length>0){const g=d.map(y=>`tools[${y}]`).join(", ");throw new Error(`Incompatible tools found at ${g}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const l=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((i=d==null?void 0:d.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=d==null?void 0:d.safetyAttributes:l.push(d);let u;return o?u={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new _o(Ci.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,l,u,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((d=(u=n.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const o=(n=t.config)===null||n===void 0?void 0:n.tools;if(!o)return t;const l=await Promise.all(o.map(async d=>Ms(d)?await d.tool():d)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&G4(t.config.tools)){const d=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),H4(f),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(t){var n,r,i;const o=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ms(l)){const u=l,d=await u.tool();for(const f of(i=d.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(t){var n,r,i;const o=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:xI;let l=!1,u=0;const d=await this.initAfcToolsMap(t);return(function(f,h,g){return Tr(this,arguments,function*(){for(var y,b,S,E,T,A;u<o;){l&&(u++,l=!1);const R=yield Ne(f.processParamsMaybeAddMcpUsage(g)),O=yield Ne(f.generateContentStreamInternal(R)),B=[],K=[];try{for(var N=!0,k=(b=void 0,Ar(O)),P;P=yield Ne(k.next()),y=P.done,!y;N=!0){E=P.value,N=!1;const D=E;if(yield yield Ne(D),D.candidates&&(!((T=D.candidates[0])===null||T===void 0)&&T.content)){K.push(D.candidates[0].content);for(const G of(A=D.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(u<o&&G.functionCall){if(!G.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(G.functionCall.name)){const $=yield Ne(h.get(G.functionCall.name).callTool([G.functionCall]));B.push(...$)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${G.functionCall.name}`)}}}}catch(D){b={error:D}}finally{try{!N&&!y&&(S=k.return)&&(yield Ne(S.call(k)))}finally{if(b)throw b.error}}if(B.length>0){l=!0;const D=new su;D.candidates=[{content:{role:"user",parts:B}}],yield yield Ne(D);const G=[];G.push(...K),G.push({role:"user",parts:B});const $=lr(g.contents).concat(G);g.contents=$}else break}})})(this,d,t)}async generateContentInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=mI(this.apiClient,t);return u=me("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const g=vI(h),y=new su;return Object.assign(y,g),y})}else{const f=pI(this.apiClient,t);return u=me("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const g=gI(h),y=new su;return Object.assign(y,g),y})}}async generateContentStreamInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=mI(this.apiClient,t);return u=me("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(g){return Tr(this,arguments,function*(){var y,b,S,E;try{for(var T=!0,A=Ar(g),N;N=yield Ne(A.next()),y=N.done,!y;T=!0){E=N.value,T=!1;const k=E,P=vI(yield Ne(k.json()));P.sdkHttpResponse={headers:k.headers};const R=new su;Object.assign(R,P),yield yield Ne(R)}}catch(k){b={error:k}}finally{try{!T&&!y&&(S=A.return)&&(yield Ne(S.call(A)))}finally{if(b)throw b.error}}})})}else{const f=pI(this.apiClient,t);return u=me("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(g){return Tr(this,arguments,function*(){var y,b,S,E;try{for(var T=!0,A=Ar(g),N;N=yield Ne(A.next()),y=N.done,!y;T=!0){E=N.value,T=!1;const k=E,P=gI(yield Ne(k.json()));P.sdkHttpResponse={headers:k.headers};const R=new su;Object.assign(R,P),yield yield Ne(R)}}catch(k){b={error:k}}finally{try{!T&&!y&&(S=A.return)&&(yield Ne(S.call(A)))}finally{if(b)throw b.error}}})})}}async embedContent(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=QQ(this.apiClient,t);return u=me("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const g=tee(h),y=new XN;return Object.assign(y,g),y})}else{const f=ZQ(this.apiClient,t);return u=me("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const g=eee(h),y=new XN;return Object.assign(y,g),y})}}async generateImagesInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=fee(this.apiClient,t);return u=me("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const g=pee(h),y=new ZN;return Object.assign(y,g),y})}else{const f=dee(this.apiClient,t);return u=me("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const g=hee(h),y=new ZN;return Object.assign(y,g),y})}}async editImageInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=WQ(this.apiClient,t);return o=me("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=YQ(d),h=new nX;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=fte(this.apiClient,t);return o=me("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=hte(d),h=new rX;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=Kee(this.apiClient,t);return o=me("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=Wee(d),h=new iX;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=ete(this.apiClient,t);return o=me("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=tte(d),h=new aX;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Ree(this.apiClient,t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>By(h))}else{const f=kee(this.apiClient,t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>Uy(h))}}async listInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=$ee(this.apiClient,t);return u=me("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const g=qee(h),y=new QN;return Object.assign(y,g),y})}else{const f=Bee(this.apiClient,t);return u=me("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const g=zee(h),y=new QN;return Object.assign(y,g),y})}}async update(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=cte(this.apiClient,t);return u=me("{model}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>By(h))}else{const f=ute(this.apiClient,t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>Uy(h))}}async delete(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=GQ(this.apiClient,t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const g=FQ(h),y=new eI;return Object.assign(y,g),y})}else{const f=VQ(this.apiClient,t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const g=HQ(h),y=new eI;return Object.assign(y,g),y})}}async countTokens(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=$Q(this.apiClient,t);return u=me("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const g=qQ(h),y=new tI;return Object.assign(y,g),y})}else{const f=BQ(this.apiClient,t);return u=me("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const g=zQ(h),y=new tI;return Object.assign(y,g),y})}}async computeTokens(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=PQ(this.apiClient,t);return o=me("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=OQ(d),h=new oX;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=bee(this.apiClient,t);return u=me("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const g=yee(h),y=new lh;return Object.assign(y,g),y})}else{const f=xee(this.apiClient,t);return u=me("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>{const g=vee(h),y=new lh;return Object.assign(y,g),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class one extends ji{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=JJ(t);return u=me("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const f=YJ(t);return u=me("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=qJ(t);return o=me("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sne(e){const t={},n=v(e,["data"]);if(n!=null&&x(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function lne(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>vne(o))),x(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&x(t,["role"],r),t}function une(e,t,n){const r={},i=v(t,["expireTime"]);n!==void 0&&i!=null&&x(n,["expireTime"],i);const o=v(t,["newSessionExpireTime"]);n!==void 0&&o!=null&&x(n,["newSessionExpireTime"],o);const l=v(t,["uses"]);n!==void 0&&l!=null&&x(n,["uses"],l);const u=v(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&x(n,["bidiGenerateContentSetup"],gne(e,u));const d=v(t,["lockAdditionalFields"]);return n!==void 0&&d!=null&&x(n,["fieldMask"],d),r}function cne(e,t){const n={},r=v(t,["config"]);return r!=null&&x(n,["config"],une(e,r,n)),n}function dne(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function fne(e){const t={},n=v(e,["id"]);n!=null&&x(t,["id"],n);const r=v(e,["args"]);r!=null&&x(t,["args"],r);const i=v(e,["name"]);if(i!=null&&x(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function hne(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function pne(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&x(t,["timeRangeFilter"],n),t}function mne(e,t){const n={},r=v(e,["generationConfig"]);t!==void 0&&r!=null&&x(t,["setup","generationConfig"],r);const i=v(e,["responseModalities"]);t!==void 0&&i!=null&&x(t,["setup","generationConfig","responseModalities"],i);const o=v(e,["temperature"]);t!==void 0&&o!=null&&x(t,["setup","generationConfig","temperature"],o);const l=v(e,["topP"]);t!==void 0&&l!=null&&x(t,["setup","generationConfig","topP"],l);const u=v(e,["topK"]);t!==void 0&&u!=null&&x(t,["setup","generationConfig","topK"],u);const d=v(e,["maxOutputTokens"]);t!==void 0&&d!=null&&x(t,["setup","generationConfig","maxOutputTokens"],d);const f=v(e,["mediaResolution"]);t!==void 0&&f!=null&&x(t,["setup","generationConfig","mediaResolution"],f);const h=v(e,["seed"]);t!==void 0&&h!=null&&x(t,["setup","generationConfig","seed"],h);const g=v(e,["speechConfig"]);t!==void 0&&g!=null&&x(t,["setup","generationConfig","speechConfig"],Vb(g));const y=v(e,["thinkingConfig"]);t!==void 0&&y!=null&&x(t,["setup","generationConfig","thinkingConfig"],y);const b=v(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&x(t,["setup","generationConfig","enableAffectiveDialog"],b);const S=v(e,["systemInstruction"]);t!==void 0&&S!=null&&x(t,["setup","systemInstruction"],lne(ln(S)));const E=v(e,["tools"]);if(t!==void 0&&E!=null){let O=el(E);Array.isArray(O)&&(O=O.map(B=>xne(Qs(B)))),x(t,["setup","tools"],O)}const T=v(e,["sessionResumption"]);t!==void 0&&T!=null&&x(t,["setup","sessionResumption"],yne(T));const A=v(e,["inputAudioTranscription"]);t!==void 0&&A!=null&&x(t,["setup","inputAudioTranscription"],A);const N=v(e,["outputAudioTranscription"]);t!==void 0&&N!=null&&x(t,["setup","outputAudioTranscription"],N);const k=v(e,["realtimeInputConfig"]);t!==void 0&&k!=null&&x(t,["setup","realtimeInputConfig"],k);const P=v(e,["contextWindowCompression"]);t!==void 0&&P!=null&&x(t,["setup","contextWindowCompression"],P);const R=v(e,["proactivity"]);if(t!==void 0&&R!=null&&x(t,["setup","proactivity"],R),v(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function gne(e,t){const n={},r=v(t,["model"]);r!=null&&x(n,["setup","model"],Ve(e,r));const i=v(t,["config"]);return i!=null&&x(n,["config"],mne(i,n)),n}function vne(e){const t={},n=v(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&x(t,["fileData"],dne(o));const l=v(e,["functionCall"]);l!=null&&x(t,["functionCall"],fne(l));const u=v(e,["functionResponse"]);u!=null&&x(t,["functionResponse"],u);const d=v(e,["inlineData"]);d!=null&&x(t,["inlineData"],sne(d));const f=v(e,["text"]);f!=null&&x(t,["text"],f);const h=v(e,["thought"]);h!=null&&x(t,["thought"],h);const g=v(e,["thoughtSignature"]);g!=null&&x(t,["thoughtSignature"],g);const y=v(e,["videoMetadata"]);return y!=null&&x(t,["videoMetadata"],y),t}function yne(e){const t={},n=v(e,["handle"]);if(n!=null&&x(t,["handle"],n),v(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function xne(e){const t={};if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(e,["computerUse"]);n!=null&&x(t,["computerUse"],n);const r=v(e,["fileSearch"]);r!=null&&x(t,["fileSearch"],r);const i=v(e,["codeExecution"]);if(i!=null&&x(t,["codeExecution"],i),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(e,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(g=>g)),x(t,["functionDeclarations"],h)}const l=v(e,["googleMaps"]);l!=null&&x(t,["googleMaps"],hne(l));const u=v(e,["googleSearch"]);u!=null&&x(t,["googleSearch"],pne(u));const d=v(e,["googleSearchRetrieval"]);d!=null&&x(t,["googleSearchRetrieval"],d);const f=v(e,["urlContext"]);return f!=null&&x(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bne(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);t.push(...i)}else t.push(n)}return t.join(",")}function wne(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,n=o):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const o=bne(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>l.includes(f)?`generationConfig.${f}`:f));const d=[];o&&d.push(o),u.length>0&&d.push(...u),d.length>0?e.fieldMask=d.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class _ne extends ji{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=cne(this.apiClient,t);o=me("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const d=wne(u,t.config);return i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sne(e,t){const n={},r=v(e,["force"]);return t!==void 0&&r!=null&&x(t,["_query","force"],r),n}function Ene(e){const t={},n=v(e,["name"]);n!=null&&x(t,["_url","name"],n);const r=v(e,["config"]);return r!=null&&Sne(r,t),t}function Tne(e){const t={},n=v(e,["name"]);return n!=null&&x(t,["_url","name"],n),t}function Ane(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function Cne(e){const t={},n=v(e,["parent"]);n!=null&&x(t,["_url","parent"],n);const r=v(e,["config"]);return r!=null&&Ane(r,t),t}function Nne(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=v(e,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["documents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ine extends ji{constructor(t){super(),this.apiClient=t,this.list=async n=>new _o(Ci.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Tne(t);return o=me("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ene(t);i=me("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Cne(t);return o=me("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=Nne(d),h=new sX;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kne extends ji{constructor(t,n=new Ine(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new _o(Ci.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=bte(t);return o=me("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ste(t);return o=me("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=_te(t);i=me("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ite(t);return o=me("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=kte(d),h=new lX;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Rte(t);return o=me("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=Pte(d),h=new uX;return Object.assign(h,f),h})}}async importFile(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ate(t);return o=me("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=Tte(d),h=new Ub;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let F4=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return F4=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Rne=()=>F4();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zy(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const qy=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fr extends Error{}class mn extends fr{constructor(t,n,r,i){super(`${mn.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new cp({message:r,cause:qy(n)});const o=n;return t===400?new W4(t,o,r,i):t===401?new Y4(t,o,r,i):t===403?new J4(t,o,r,i):t===404?new X4(t,o,r,i):t===409?new Z4(t,o,r,i):t===422?new Q4(t,o,r,i):t===429?new eD(t,o,r,i):t>=500?new tD(t,o,r,i):new mn(t,o,r,i)}}class Vy extends mn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class cp extends mn{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class K4 extends cp{constructor({message:t}={}){super({message:t??"Request timed out."})}}class W4 extends mn{}class Y4 extends mn{}class J4 extends mn{}class X4 extends mn{}class Z4 extends mn{}class Q4 extends mn{}class eD extends mn{}class tD extends mn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pne=/^[a-z][a-z0-9+.-]*:/i,One=e=>Pne.test(e);let Gy=e=>(Gy=Array.isArray,Gy(e));const Mne=Gy;let Dne=Mne;const SI=Dne;function jne(e){if(!e)return!0;for(const t in e)return!1;return!0}function Lne(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const Une=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new fr(`${e} must be an integer`);if(t<0)throw new fr(`${e} must be a positive integer`);return t},Bne=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $ne=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ws="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zne(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const qne=()=>{var e,t,n,r,i;const o=zne();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ws,"X-Stainless-OS":TI(Deno.build.os),"X-Stainless-Arch":EI(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ws,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ws,"X-Stainless-OS":TI((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":EI((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const l=Vne();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ws,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ws,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Vne(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,l=r[3]||0;return{browser:t,version:`${i}.${o}.${l}`}}}return null}const EI=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",TI=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Gd;const Gne=()=>Gd??(Gd=qne());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hne(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function nD(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function Fne(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return nD({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function rD(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Kne(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wne=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iD=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Sv(e,t,n){return iD(),new File(e,t??"unknown_file",n)}function Yne(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Jne=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aD=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Xne=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&aD(e),Zne=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function Qne(e,t,n){if(iD(),e=await e,Xne(e))return e instanceof File?e:Sv([await e.arrayBuffer()],e.name);if(Zne(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Sv(await Hy(i),t,n)}const r=await Hy(e);if(t||(t=Yne(e)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Sv(r,t,n)}async function Hy(e){var t,n,r,i,o;let l=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(aD(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else if(Jne(e))try{for(var u=!0,d=Ar(e),f;f=await d.next(),t=f.done,!t;u=!0){i=f.value,u=!1;const h=i;l.push(...await Hy(h))}}catch(h){n={error:h}}finally{try{!u&&!t&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}else{const h=(o=e==null?void 0:e.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof e}${h?`; constructor: ${h}`:""}${ere(e)}`)}return l}function ere(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oD{constructor(t){this._client=t}}oD._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sD(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const AI=Object.freeze(Object.create(null)),tre=(e=sD)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],l=n.reduce((h,g,y)=>{var b,S,E;/[?#]/.test(g)&&(i=!0);const T=r[y];let A=(i?encodeURIComponent:e)(""+T);return y!==r.length&&(T==null||typeof T=="object"&&T.toString===((E=Object.getPrototypeOf((S=Object.getPrototypeOf((b=T.hasOwnProperty)!==null&&b!==void 0?b:AI))!==null&&S!==void 0?S:AI))===null||E===void 0?void 0:E.toString))&&(A=T+"",o.push({start:h.length+g.length,length:A.length,error:`Value of type ${Object.prototype.toString.call(T).slice(8,-1)} is not a valid path parameter`})),h+g+(y===r.length?"":A)},""),u=l.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=d.exec(u))!==null;)o.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(o.sort((h,g)=>h.start-g.start),o.length>0){let h=0;const g=o.reduce((y,b)=>{const S=" ".repeat(b.start-h),E="^".repeat(b.length);return h=b.start+b.length,y+S+E},"");throw new fr(`Path parameters result in path with invalid segments:
${o.map(y=>y.error).join(`
`)}
${l}
${g}`)}return l}),Hd=tre(sD);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lD extends oD{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,o=ch(t,["api_version"]);if("model"in o&&"agent_config"in o)throw new fr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new fr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Hd`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Hd`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Hd`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const o=n??{},{api_version:l=this._client.apiVersion}=o,u=ch(o,["api_version"]);return this._client.get(Hd`/${l}/interactions/${t}`,Object.assign(Object.assign({query:u},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}lD._key=Object.freeze(["interactions"]);class uD extends lD{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nre(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let Fd;function Hb(e){let t;return(Fd??(t=new globalThis.TextEncoder,Fd=t.encode.bind(t)))(e)}let Kd;function CI(e){let t;return(Kd??(t=new globalThis.TextDecoder,Kd=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dp{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Hb(t):t;this.buffer=nre([this.buffer,n]);const r=[];let i;for(;(i=rre(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(CI(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,l=CI(this.buffer.subarray(0,o));r.push(l),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}dp.NEWLINE_CHARS=new Set([`
`,"\r"]);dp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function rre(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function ire(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dh={off:0,error:200,warn:300,info:400,debug:500},NI=(e,t,n)=>{if(e){if(Lne(dh,e))return e;cn(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(dh))}`)}};function hu(){}function Wd(e,t,n){return!t||dh[e]>dh[n]?hu:t[e].bind(t)}const are={error:hu,warn:hu,info:hu,debug:hu};let II=new WeakMap;function cn(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return are;const i=II.get(n);if(i&&i[0]===r)return i[1];const o={error:Wd("error",n,r),warn:Wd("warn",n,r),info:Wd("info",n,r),debug:Wd("debug",n,r)};return II.set(n,[r,o]),o}const Ya=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ns{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const o=r?cn(r):console;function l(){return Tr(this,arguments,function*(){var d,f,h,g;if(i)throw new fr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let y=!1;try{try{for(var b=!0,S=Ar(ore(t,n)),E;E=yield Ne(S.next()),d=E.done,!d;b=!0){g=E.value,b=!1;const T=g;if(!y)if(T.data.startsWith("[DONE]")){y=!0;continue}else try{yield yield Ne(JSON.parse(T.data))}catch(A){throw o.error("Could not parse message into JSON:",T.data),o.error("From chunk:",T.raw),A}}}catch(T){f={error:T}}finally{try{!b&&!d&&(h=S.return)&&(yield Ne(h.call(S)))}finally{if(f)throw f.error}}y=!0}catch(T){if(zy(T))return yield Ne(void 0);throw T}finally{y||n.abort()}})}return new Ns(l,n,r)}static fromReadableStream(t,n,r){let i=!1;function o(){return Tr(this,arguments,function*(){var d,f,h,g;const y=new dp,b=rD(t);try{for(var S=!0,E=Ar(b),T;T=yield Ne(E.next()),d=T.done,!d;S=!0){g=T.value,S=!1;const A=g;for(const N of y.decode(A))yield yield Ne(N)}}catch(A){f={error:A}}finally{try{!S&&!d&&(h=E.return)&&(yield Ne(h.call(E)))}finally{if(f)throw f.error}}for(const A of y.flush())yield yield Ne(A)})}function l(){return Tr(this,arguments,function*(){var d,f,h,g;if(i)throw new fr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let y=!1;try{try{for(var b=!0,S=Ar(o()),E;E=yield Ne(S.next()),d=E.done,!d;b=!0){g=E.value,b=!1;const T=g;y||T&&(yield yield Ne(JSON.parse(T)))}}catch(T){f={error:T}}finally{try{!b&&!d&&(h=S.return)&&(yield Ne(h.call(S)))}finally{if(f)throw f.error}}y=!0}catch(T){if(zy(T))return yield Ne(void 0);throw T}finally{y||n.abort()}})}return new Ns(l,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const l=r.next();t.push(l),n.push(l)}return o.shift()}});return[new Ns(()=>i(t),this.controller,this.client),new Ns(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return nD({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const l=Hb(JSON.stringify(i)+`
`);r.enqueue(l)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function ore(e,t){return Tr(this,arguments,function*(){var r,i,o,l;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new fr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new fr("Attempted to iterate over a response with no body");const u=new lre,d=new dp,f=rD(e.body);try{for(var h=!0,g=Ar(sre(f)),y;y=yield Ne(g.next()),r=y.done,!r;h=!0){l=y.value,h=!1;const b=l;for(const S of d.decode(b)){const E=u.decode(S);E&&(yield yield Ne(E))}}}catch(b){i={error:b}}finally{try{!h&&!r&&(o=g.return)&&(yield Ne(o.call(g)))}finally{if(i)throw i.error}}for(const b of d.flush()){const S=u.decode(b);S&&(yield yield Ne(S))}})}function sre(e){return Tr(this,arguments,function*(){var n,r,i,o;let l=new Uint8Array;try{for(var u=!0,d=Ar(e),f;f=yield Ne(d.next()),n=f.done,!n;u=!0){o=f.value,u=!1;const h=o;if(h==null)continue;const g=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?Hb(h):h;let y=new Uint8Array(l.length+g.length);y.set(l),y.set(g,l.length),l=y;let b;for(;(b=ire(l))!==-1;)yield yield Ne(l.slice(0,b)),l=l.slice(b)}}catch(h){r={error:h}}finally{try{!u&&!n&&(i=d.return)&&(yield Ne(i.call(d)))}finally{if(r)throw r.error}}l.length>0&&(yield yield Ne(l))})}class lre{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=ure(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function ure(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function cre(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=t,l=await(async()=>{var u;if(t.options.stream)return cn(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Ns.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const d=n.headers.get("content-type"),f=(u=d==null?void 0:d.split(";")[0])===null||u===void 0?void 0:u.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return cn(e).debug(`[${r}] response parsed`,Ya({retryOfRequestLogID:i,url:n.url,status:n.status,body:l,durationMs:Date.now()-o})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fb extends Promise{constructor(t,n,r=cre){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new Fb(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cD=Symbol("brand.privateNullableHeaders");function*dre(e){if(!e)return;if(cD in e){const{values:r,nulls:i}=e;yield*r.entries();for(const o of i)yield[o,null];return}let t=!1,n;e instanceof Headers?n=e.entries():SI(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=SI(r[1])?r[1]:[r[1]];let l=!1;for(const u of o)u!==void 0&&(t&&!l&&(l=!0,yield[i,null]),yield[i,u])}}const lu=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[o,l]of dre(r)){const u=o.toLowerCase();i.has(u)||(t.delete(o),i.add(u)),l===null?(t.delete(o),n.add(u)):(t.append(o,l),n.delete(u))}}return{[cD]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ev=e=>{var t,n,r,i,o,l;if(typeof globalThis.process<"u")return(r=(n=(t=jJ)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(l=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,e))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var dD;class fp{constructor(t){var n,r,i,o,l,u,d,{baseURL:f=Ev("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=Ev("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:g="v1beta"}=t,y=ch(t,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:h,apiVersion:g},y),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(r=b.timeout)!==null&&r!==void 0?r:fp.DEFAULT_TIMEOUT,this.logger=(i=b.logger)!==null&&i!==void 0?i:console;const S="warn";this.logLevel=S,this.logLevel=(l=(o=NI(b.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:NI(Ev("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:S,this.fetchOptions=b.fetchOptions,this.maxRetries=(u=b.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(d=b.fetch)!==null&&d!==void 0?d:Hne(),this.encoder=Wne,this._options=b,this.apiKey=h,this.apiVersion=g,this.clientAdapter=b.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=lu([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return lu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return lu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new fr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ws}`}defaultIdempotencyKey(){return`stainless-node-retry-${Rne()}`}makeStatusError(t,n,r,i){return mn.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=One(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return jne(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new Fb(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,o,l;const u=await t,d=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=d),await this.prepareOptions(u);const{req:f,url:h,timeout:g}=await this.buildRequest(u,{retryCount:d-n});await this.prepareRequest(f,{url:h,options:u});const y="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=r===void 0?"":`, retryOf: ${r}`,S=Date.now();if(cn(this).debug(`[${y}] sending request`,Ya({retryOfRequestLogID:r,method:u.method,url:h,options:u,headers:f.headers})),!((o=u.signal)===null||o===void 0)&&o.aborted)throw new Vy;const E=new AbortController,T=await this.fetchWithTimeout(h,f,g,E).catch(qy),A=Date.now();if(T instanceof globalThis.Error){const k=`retrying, ${n} attempts remaining`;if(!((l=u.signal)===null||l===void 0)&&l.aborted)throw new Vy;const P=zy(T)||/timed? ?out/i.test(String(T)+("cause"in T?String(T.cause):""));if(n)return cn(this).info(`[${y}] connection ${P?"timed out":"failed"} - ${k}`),cn(this).debug(`[${y}] connection ${P?"timed out":"failed"} (${k})`,Ya({retryOfRequestLogID:r,url:h,durationMs:A-S,message:T.message})),this.retryRequest(u,n,r??y);throw cn(this).info(`[${y}] connection ${P?"timed out":"failed"} - error; no more retries left`),cn(this).debug(`[${y}] connection ${P?"timed out":"failed"} (error; no more retries left)`,Ya({retryOfRequestLogID:r,url:h,durationMs:A-S,message:T.message})),P?new K4:new cp({cause:T})}const N=`[${y}${b}] ${f.method} ${h} ${T.ok?"succeeded":"failed"} with status ${T.status} in ${A-S}ms`;if(!T.ok){const k=await this.shouldRetry(T);if(n&&k){const D=`retrying, ${n} attempts remaining`;return await Kne(T.body),cn(this).info(`${N} - ${D}`),cn(this).debug(`[${y}] response error (${D})`,Ya({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,durationMs:A-S})),this.retryRequest(u,n,r??y,T.headers)}const P=k?"error; no more retries left":"error; not retryable";cn(this).info(`${N} - ${P}`);const R=await T.text().catch(D=>qy(D).message),O=Bne(R),B=O?void 0:R;throw cn(this).debug(`[${y}] response error (${P})`,Ya({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,message:B,durationMs:Date.now()-S})),this.makeStatusError(T.status,O,B,T.headers)}return cn(this).info(N),cn(this).debug(`[${y}] response start`,Ya({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,durationMs:A-S})),{response:T,options:u,controller:E,requestLogID:y,retryOfRequestLogID:r,startTime:S}}async fetchWithTimeout(t,n,r,i){const o=n||{},{signal:l,method:u}=o,d=ch(o,["signal","method"]);l&&l.addEventListener("abort",()=>i.abort());const f=setTimeout(()=>i.abort(),r),h=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,g=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),d);u&&(g.method=u.toUpperCase());try{return await this.fetch.call(void 0,t,g)}finally{clearTimeout(f)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var o;let l;const u=i==null?void 0:i.get("retry-after-ms");if(u){const f=parseFloat(u);Number.isNaN(f)||(l=f)}const d=i==null?void 0:i.get("retry-after");if(d&&!l){const f=parseFloat(d);Number.isNaN(f)?l=Date.parse(d)-Date.now():l=f*1e3}if(!(l&&0<=l&&l<60*1e3)){const f=(o=t.maxRetries)!==null&&o!==void 0?o:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,f)}return await $ne(l),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const o=n-t,l=Math.min(.5*Math.pow(2,o),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,o;const l=Object.assign({},t),{method:u,path:d,query:f,defaultBaseURL:h}=l,g=this.buildURL(d,f,h);"timeout"in l&&Une("timeout",l.timeout),l.timeout=(r=l.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:y,body:b}=this.buildBody({options:l}),S=await this.buildHeaders({options:t,method:u,bodyHeaders:y,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:S},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=l.fetchOptions)!==null&&o!==void 0?o:{}),url:g,timeout:l.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const l=await this.authHeaders(t);let u=lu([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),Gne()),this._options.defaultHeaders,r,t.headers,l]);return this.validateHeaders(u),u.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=lu([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Fne(t)}:this.encoder({body:t,headers:r})}}fp.DEFAULT_TIMEOUT=6e4;class Gt extends fp{constructor(){super(...arguments),this.interactions=new uD(this)}}dD=Gt;Gt.GeminiNextGenAPIClient=dD;Gt.GeminiNextGenAPIClientError=fr;Gt.APIError=mn;Gt.APIConnectionError=cp;Gt.APIConnectionTimeoutError=K4;Gt.APIUserAbortError=Vy;Gt.NotFoundError=X4;Gt.ConflictError=Z4;Gt.RateLimitError=eD;Gt.BadRequestError=W4;Gt.AuthenticationError=Y4;Gt.InternalServerError=tD;Gt.PermissionDeniedError=J4;Gt.UnprocessableEntityError=Q4;Gt.toFile=Qne;Gt.Interactions=uD;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fre(e,t){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],r),n}function hre(e,t){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],r),n}function pre(e,t){const n={},r=v(e,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function mre(e,t){const n={},r=v(e,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function gre(e,t,n){const r={};if(v(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=v(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&x(t,["displayName"],i),v(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=v(e,["epochCount"]);t!==void 0&&o!=null&&x(t,["tuningTask","hyperparameters","epochCount"],o);const l=v(e,["learningRateMultiplier"]);if(l!=null&&x(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),v(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=v(e,["batchSize"]);t!==void 0&&u!=null&&x(t,["tuningTask","hyperparameters","batchSize"],u);const d=v(e,["learningRate"]);if(t!==void 0&&d!=null&&x(t,["tuningTask","hyperparameters","learningRate"],d),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(v(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function vre(e,t,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const b=v(e,["validationDataset"]);t!==void 0&&b!=null&&x(t,["supervisedTuningSpec"],kI(b))}else if(i==="PREFERENCE_TUNING"){const b=v(e,["validationDataset"]);t!==void 0&&b!=null&&x(t,["preferenceOptimizationSpec"],kI(b))}const o=v(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&x(t,["tunedModelDisplayName"],o);const l=v(e,["description"]);t!==void 0&&l!=null&&x(t,["description"],l);let u=v(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const b=v(e,["epochCount"]);t!==void 0&&b!=null&&x(t,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(u==="PREFERENCE_TUNING"){const b=v(e,["epochCount"]);t!==void 0&&b!=null&&x(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let d=v(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const b=v(e,["learningRateMultiplier"]);t!==void 0&&b!=null&&x(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(d==="PREFERENCE_TUNING"){const b=v(e,["learningRateMultiplier"]);t!==void 0&&b!=null&&x(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let f=v(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const b=v(e,["exportLastCheckpointOnly"]);t!==void 0&&b!=null&&x(t,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(f==="PREFERENCE_TUNING"){const b=v(e,["exportLastCheckpointOnly"]);t!==void 0&&b!=null&&x(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let h=v(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const b=v(e,["adapterSize"]);t!==void 0&&b!=null&&x(t,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(h==="PREFERENCE_TUNING"){const b=v(e,["adapterSize"]);t!==void 0&&b!=null&&x(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(v(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const g=v(e,["labels"]);t!==void 0&&g!=null&&x(t,["labels"],g);const y=v(e,["beta"]);return t!==void 0&&y!=null&&x(t,["preferenceOptimizationSpec","hyperParameters","beta"],y),r}function yre(e,t){const n={},r=v(e,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=v(e,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const o=v(e,["trainingDataset"]);o!=null&&Ire(o);const l=v(e,["config"]);return l!=null&&gre(l,n),n}function xre(e,t){const n={},r=v(e,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=v(e,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const o=v(e,["trainingDataset"]);o!=null&&kre(o,n,t);const l=v(e,["config"]);return l!=null&&vre(l,n,t),n}function bre(e,t){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],r),n}function wre(e,t){const n={},r=v(e,["name"]);return r!=null&&x(n,["_url","name"],r),n}function _re(e,t,n){const r={},i=v(e,["pageSize"]);t!==void 0&&i!=null&&x(t,["_query","pageSize"],i);const o=v(e,["pageToken"]);t!==void 0&&o!=null&&x(t,["_query","pageToken"],o);const l=v(e,["filter"]);return t!==void 0&&l!=null&&x(t,["_query","filter"],l),r}function Sre(e,t,n){const r={},i=v(e,["pageSize"]);t!==void 0&&i!=null&&x(t,["_query","pageSize"],i);const o=v(e,["pageToken"]);t!==void 0&&o!=null&&x(t,["_query","pageToken"],o);const l=v(e,["filter"]);return t!==void 0&&l!=null&&x(t,["_query","filter"],l),r}function Ere(e,t){const n={},r=v(e,["config"]);return r!=null&&_re(r,n),n}function Tre(e,t){const n={},r=v(e,["config"]);return r!=null&&Sre(r,n),n}function Are(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const o=v(e,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>fD(u))),x(n,["tuningJobs"],l)}return n}function Cre(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const o=v(e,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Fy(u))),x(n,["tuningJobs"],l)}return n}function Nre(e,t){const n={},r=v(e,["name"]);r!=null&&x(n,["model"],r);const i=v(e,["name"]);return i!=null&&x(n,["endpoint"],i),n}function Ire(e,t){const n={};if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=v(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),x(n,["examples","examples"],i)}return n}function kre(e,t,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=v(e,["gcsUri"]);t!==void 0&&l!=null&&x(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=v(e,["gcsUri"]);t!==void 0&&l!=null&&x(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let o=v(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=v(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&x(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=v(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&x(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(v(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function fD(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["name"]);i!=null&&x(n,["name"],i);const o=v(e,["state"]);o!=null&&x(n,["state"],N4(o));const l=v(e,["createTime"]);l!=null&&x(n,["createTime"],l);const u=v(e,["tuningTask","startTime"]);u!=null&&x(n,["startTime"],u);const d=v(e,["tuningTask","completeTime"]);d!=null&&x(n,["endTime"],d);const f=v(e,["updateTime"]);f!=null&&x(n,["updateTime"],f);const h=v(e,["description"]);h!=null&&x(n,["description"],h);const g=v(e,["baseModel"]);g!=null&&x(n,["baseModel"],g);const y=v(e,["_self"]);return y!=null&&x(n,["tunedModel"],Nre(y)),n}function Fy(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["name"]);i!=null&&x(n,["name"],i);const o=v(e,["state"]);o!=null&&x(n,["state"],N4(o));const l=v(e,["createTime"]);l!=null&&x(n,["createTime"],l);const u=v(e,["startTime"]);u!=null&&x(n,["startTime"],u);const d=v(e,["endTime"]);d!=null&&x(n,["endTime"],d);const f=v(e,["updateTime"]);f!=null&&x(n,["updateTime"],f);const h=v(e,["error"]);h!=null&&x(n,["error"],h);const g=v(e,["description"]);g!=null&&x(n,["description"],g);const y=v(e,["baseModel"]);y!=null&&x(n,["baseModel"],y);const b=v(e,["tunedModel"]);b!=null&&x(n,["tunedModel"],b);const S=v(e,["preTunedModel"]);S!=null&&x(n,["preTunedModel"],S);const E=v(e,["supervisedTuningSpec"]);E!=null&&x(n,["supervisedTuningSpec"],E);const T=v(e,["preferenceOptimizationSpec"]);T!=null&&x(n,["preferenceOptimizationSpec"],T);const A=v(e,["tuningDataStats"]);A!=null&&x(n,["tuningDataStats"],A);const N=v(e,["encryptionSpec"]);N!=null&&x(n,["encryptionSpec"],N);const k=v(e,["partnerModelTuningSpec"]);k!=null&&x(n,["partnerModelTuningSpec"],k);const P=v(e,["customBaseModel"]);P!=null&&x(n,["customBaseModel"],P);const R=v(e,["experiment"]);R!=null&&x(n,["experiment"],R);const O=v(e,["labels"]);O!=null&&x(n,["labels"],O);const B=v(e,["outputUri"]);B!=null&&x(n,["outputUri"],B);const K=v(e,["pipelineJob"]);K!=null&&x(n,["pipelineJob"],K);const D=v(e,["serviceAccount"]);D!=null&&x(n,["serviceAccount"],D);const G=v(e,["tunedModelDisplayName"]);G!=null&&x(n,["tunedModelDisplayName"],G);const $=v(e,["veoTuningSpec"]);return $!=null&&x(n,["veoTuningSpec"],$),n}function Rre(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=v(e,["name"]);i!=null&&x(n,["name"],i);const o=v(e,["metadata"]);o!=null&&x(n,["metadata"],o);const l=v(e,["done"]);l!=null&&x(n,["done"],l);const u=v(e,["error"]);return u!=null&&x(n,["error"],u),n}function kI(e,t){const n={},r=v(e,["gcsUri"]);r!=null&&x(n,["validationDatasetUri"],r);const i=v(e,["vertexDatasetResource"]);return i!=null&&x(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pre extends ji{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new _o(Ci.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:Oy.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=wre(t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>Fy(h))}else{const f=bre(t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>fD(h))}}async listInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Tre(t);return u=me("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const g=Cre(h),y=new nI;return Object.assign(y,g),y})}else{const f=Ere(t);return u=me("tunedModels",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const g=Are(h),y=new nI;return Object.assign(y,g),y})}}async cancel(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=hre(t);return u=me("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const g=mre(h),y=new rI;return Object.assign(y,g),y})}else{const f=fre(t);return u=me("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const g=pre(h),y=new rI;return Object.assign(y,g),y})}}async tuneInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=xre(t,t);return o=me("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>Fy(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=yre(t);return o=me("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>Rre(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ore{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Mre=1024*1024*8,Dre=3,jre=1e3,Lre=2,fh="x-goog-upload-status";async function Ure(e,t,n){var r;const i=await hD(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[fh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Bre(e,t,n){var r;const i=await hD(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[fh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=_4(o),u=new Bb;return Object.assign(u,l),u}async function hD(e,t,n){var r,i;let o=0,l=0,u=new Dy(new Response),d="upload";for(o=e.size;l<o;){const f=Math.min(Mre,o-l),h=e.slice(l,l+f);l+f>=o&&(d+=", finalize");let g=0,y=jre;for(;g<Dre&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[fh]));)g++,await zre(y),y=y*Lre;if(l+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[fh])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function $re(e){return{size:e.size,type:e.type}}function zre(e){return new Promise(t=>setTimeout(t,e))}class qre{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Ure(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Bre(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await $re(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vre{create(t,n,r){return new Gre(t,n,r)}}class Gre{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RI="x-goog-api-key";class Hre{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(RI)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(RI,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fre="gl-node/";class Kre{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Gt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=$J(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new Hre(this.apiKey);this.apiClient=new $te({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Fre+"web",uploader:new qre,downloader:new Ore}),this.models=new ane(this.apiClient),this.live=new Qte(this.apiClient,i,new Vre),this.batches=new mZ(this.apiClient),this.chats=new JZ(this.models,this.apiClient),this.caches=new KZ(this.apiClient),this.files=new oQ(this.apiClient),this.operations=new one(this.apiClient),this.authTokens=new _ne(this.apiClient),this.tunings=new Pre(this.apiClient),this.fileSearchStores=new kne(this.apiClient)}}const Wre=async e=>{try{return(await new Kre({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-3-flash-preview",contents:`Realiza un anlisis de riesgo para una operacin de microcrditos con estos datos:
      - Capital invertido actual: ${e.totalInvested}
      - Capital perdido (castigado): ${e.totalLostCapital}
      - Rentabilidad: ${e.profitRate}%
      - Gastos: ${e.totalExpenses}
      Dame un resumen ejecutivo de 3 puntos sobre la salud de la cartera y una recomendacin tctica. Responde en espaol.`,config:{systemInstruction:"Eres un analista de riesgos senior con 20 aos de experiencia en banca de consumo."}})).text}catch(t){return console.error("AI Analytics Error:",t),"El analista de IA no est disponible en este momento. Revise su conexin o API KEY."}},PI=({navigate:e,user:t,routes:n,stats:r,selectedRouteId:i})=>{const o=new Date(Qe+"T00:00:00"),l=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],[u,d]=C.useState(()=>Qe.substring(0,4)+Qe.substring(5,7)),[f,h]=C.useState(null),[g,y]=C.useState(!1),b=parseInt(u.substring(0,4)),S=parseInt(u.substring(4,6))-1,E=C.useMemo(()=>{if(r.credits.length===0){const G=parseInt(Qe.substring(0,4)),$=parseInt(Qe.substring(5,7));return[{value:`${G}${String($).padStart(2,"0")}`,label:`${l[$-1]} ${G}`}]}let R=Number.MAX_SAFE_INTEGER,O=0;r.credits.forEach(G=>{const $=new Date(G.startDate+"T00:00:00");$.getTime()<R&&(R=$.getTime());let M=new Date($);if(G.frequency==="Monthly")M.setMonth(M.getMonth()+G.totalInstallments);else if(G.frequency==="Weekly")M.setDate(M.getDate()+G.totalInstallments*7);else{let U=0;for(;U<G.totalInstallments;)M.setDate(M.getDate()+1),M.getDay()!==0&&U++}M.getTime()>O&&(O=M.getTime())});const B=[],K=new Date(R);K.setDate(1);const D=new Date(O);for(D.setDate(1);K<=D;){const G=K.getFullYear(),$=K.getMonth();B.push({value:`${G}${String($+1).padStart(2,"0")}`,label:`${l[$]} ${G}`}),K.setMonth(K.getMonth()+1)}return B.sort((G,$)=>$.value.localeCompare(G.value))},[r.credits]),T=(R,O)=>{const B=new Date(R.startDate+"T00:00:00");if(O<B)return{isInstallmentDay:!1,installmentNum:0};if(R.frequency==="Daily"&&O.getDay()===0)return{isInstallmentDay:!1,installmentNum:0};let K=!1,D=0;const G=O.toISOString().split("T")[0];if(R.frequency==="Daily")K=!0,D=Gu(R.startDate,G);else if(R.frequency==="Weekly"){const $=Math.round((O.getTime()-B.getTime())/864e5);K=$%7===0,D=Math.floor($/7)+1}else if(R.frequency==="Monthly"){K=O.getDate()===B.getDate();const $=Math.round((O.getTime()-B.getTime())/(1e3*60*60*24));D=Math.floor($/30)+1}return{isInstallmentDay:K,installmentNum:D}},A=C.useMemo(()=>{let R=0,O=0,B=0,K=0,D=0,G=0,$=0;return r.credits.forEach(M=>{const U=M.totalToPay,L=M.capital,q=(U-L)/U,z=L/U;if(M.status==="Lost"){const F=M.totalPaid*z;$+=L-F}else{O+=L,B+=U-L,K+=M.totalPaid*z,D+=M.totalPaid*q,G+=U-M.totalPaid;const{installmentNum:F}=T(M,o),ne=Math.min(M.totalInstallments,F)*M.installmentValue,X=Math.max(0,ne-M.totalPaid);if(M.isOverdue||X>0){const oe=M.totalToPay-M.totalPaid;R+=F>M.totalInstallments?oe:Math.max(X,M.installmentValue)}}}),{totalInvested:O,totalInterestExpected:B,totalRecoveredCapital:K,totalRealizedProfit:D,totalPendingToCollect:G,totalLostCapital:$,recoveryRate:O>0?K/O*100:0,profitRate:B>0?D/B*100:0,totalExpenses:r.expenses.reduce((M,U)=>M+U.value,0)}},[r]),N=async()=>{y(!0);const R=await Wre(A);h(R),y(!1)},k=C.useMemo(()=>{const R=new Date(b,S+1,0).getDate(),O=[];for(let B=1;B<=R;B++){const K=new Date(b,S,B);let D=0,G=0;r.credits.filter($=>!$.isOverdue&&$.status!=="Lost").forEach($=>{const{isInstallmentDay:M,installmentNum:U}=T($,K);M&&U<=$.totalInstallments&&(D+=$.installmentValue,K<=o&&(U<=$.paidInstallments?G+=$.installmentValue:U===$.paidInstallments+1&&(G+=$.totalPaid%$.installmentValue)))}),O.push({day:String(B).padStart(2,"0"),collected:Math.round(G),target:Math.round(D)})}return O},[u,r.credits]),P=C.useMemo(()=>{const R=new Date(b,S+1,0).getDate(),O=[];for(let B=1;B<=R;B++){const K=new Date(b,S,B);let D=0;r.credits.filter(G=>G.isOverdue&&G.status!=="Lost").forEach(G=>{const{installmentNum:$}=T(G,K),M=Math.min(G.totalInstallments,$)*G.installmentValue,U=Math.max(0,M-G.totalPaid);D+=$>G.totalInstallments?G.totalToPay-G.totalPaid:U}),O.push({day:String(B).padStart(2,"0"),moraTotal:Math.round(D)})}return O},[u,r.credits]);return p.jsxs("div",{className:"space-y-8 animate-fadeIn pb-20",children:[p.jsxs("header",{className:"bg-white p-10 rounded-[2.5rem] border shadow-sm flex flex-col md:flex-row justify-between items-center gap-6",children:[p.jsxs("div",{children:[p.jsx("span",{className:"bg-indigo-100 text-indigo-700 px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest shadow-sm",children:"Consolidado General"}),p.jsx("h2",{className:"text-4xl md:text-5xl font-black text-slate-800 tracking-tight mt-2",children:"Panel Administrativo"})]}),p.jsxs("div",{className:"bg-slate-50 p-2 rounded-3xl border border-slate-100 flex items-center",children:[p.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest px-4",children:"Periodo:"}),p.jsx("select",{value:u,onChange:R=>d(R.target.value),className:"bg-white border-none rounded-2xl text-xs font-black uppercase text-indigo-600 py-2.5 px-4 shadow-sm cursor-pointer focus:ring-0 outline-none",children:E.map(R=>p.jsx("option",{value:R.value,children:R.label},R.value))})]})]}),p.jsxs("section",{className:"bg-gradient-to-r from-indigo-900 to-slate-900 p-8 rounded-[3rem] shadow-2xl relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 rounded-full -mr-32 -mt-32 blur-3xl group-hover:bg-indigo-500/20 transition-all duration-1000"}),p.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row items-center justify-between gap-8",children:[p.jsxs("div",{className:"max-w-2xl text-center lg:text-left",children:[p.jsxs("div",{className:"flex items-center gap-3 justify-center lg:justify-start mb-4",children:[p.jsx("div",{className:"w-10 h-10 bg-indigo-500 rounded-2xl flex items-center justify-center text-white shadow-lg animate-pulse",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),p.jsx("span",{className:"text-indigo-400 font-black text-xs uppercase tracking-widest",children:"Opulencia AI Analyst"})]}),p.jsx("h3",{className:"text-2xl md:text-3xl font-black text-white leading-tight mb-2",children:"Anlisis Estratgico de Cartera"}),p.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Usa inteligencia generativa para analizar tus KPIs y detectar riesgos financieros."}),f&&p.jsx("div",{className:"mt-6 p-6 bg-white/5 border border-white/10 rounded-2xl animate-slideDown",children:p.jsx("p",{className:"text-indigo-100 text-sm italic leading-relaxed whitespace-pre-line",children:f})})]}),p.jsx("button",{onClick:N,disabled:g,className:"bg-white text-indigo-900 font-black px-10 py-5 rounded-[2rem] shadow-xl hover:-translate-y-1 transition-all active:scale-95 uppercase tracking-widest text-xs flex items-center gap-3 shrink-0 disabled:opacity-50",children:g?p.jsxs(p.Fragment,{children:[p.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analizando Cartera..."]}):"Generar Informe AI"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[p.jsx(ds,{title:"Total Recaudado",value:`$${Math.round(A.totalRecoveredCapital+A.totalRealizedProfit).toLocaleString()}`,color:"indigo",icon:p.jsx(Yre,{})}),p.jsx(ds,{title:"Capital en Calle",value:`$${A.totalInvested.toLocaleString()}`,color:"emerald",icon:p.jsx(Jre,{})}),p.jsx(ds,{title:"Capital Perdido",value:`$${Math.round(A.totalLostCapital).toLocaleString()}`,color:"red",icon:p.jsx(aie,{})}),p.jsx(ds,{title:"Utilidad Ruta",value:`$${A.totalInterestExpected.toLocaleString()}`,color:"violet",icon:p.jsx(Xre,{})}),p.jsx(ds,{title:"Gastos Ruta",value:`$${A.totalExpenses.toLocaleString()}`,color:"rose",icon:p.jsx(Zre,{})}),p.jsx(ds,{title:"Mis Clientes",value:r.clients.length,color:"amber",icon:p.jsx(Qre,{})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[p.jsx(OI,{title:"Rentabilidad Global",label1:"Cap. Recuperado",val1:A.totalRecoveredCapital,perc1:A.recoveryRate,label2:"Utilidad Real",val2:A.totalRealizedProfit,perc2:A.profitRate}),p.jsx(OI,{title:"Caja Proyectada",label1:"Cartera Pendiente",val1:A.totalPendingToCollect,label2:"Inters por Cobrar",val2:A.totalInterestExpected-A.totalRealizedProfit})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsx(MI,{title:"Cumplimiento de Cobro (Lunes a Sbado)",data:k,type:"compliance"}),p.jsx(MI,{title:"Recaudo de Mora (Morosos)",data:P,type:"mora"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"md:col-span-2 bg-slate-900 p-10 rounded-[3rem] shadow-2xl",children:[p.jsx("h3",{className:"text-2xl font-black text-white mb-8",children:"Accesos de Gerencia"}),p.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[p.jsx(Yd,{label:"Cobradores",onClick:()=>e("users"),icon:p.jsx(eie,{})}),p.jsx(Yd,{label:"Rutas",onClick:()=>e("routes_mgmt"),icon:p.jsx(tie,{})}),p.jsx(Yd,{label:"Egresos",onClick:()=>e("expenses"),icon:p.jsx(nie,{})}),p.jsx(Yd,{label:"Clientes",onClick:()=>e("client_management"),icon:p.jsx(rie,{})})]})]}),p.jsxs("button",{onClick:()=>e("liquidation"),className:"bg-white p-10 rounded-[3rem] border-2 border-slate-100 shadow-sm flex flex-col justify-center items-center text-center gap-6 hover:border-indigo-600 transition-all",children:[p.jsx("div",{className:"w-16 h-16 bg-indigo-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:p.jsx(iie,{})}),p.jsx("h4",{className:"font-black text-2xl text-slate-800 tracking-tight",children:"Cerrar Caja"})]})]})]})},ds=({title:e,value:t,color:n,icon:r})=>{const i={indigo:"bg-indigo-600",emerald:"bg-emerald-600",rose:"bg-rose-600",amber:"bg-amber-600",violet:"bg-violet-600",red:"bg-red-600"};return p.jsxs("div",{className:"bg-white p-6 rounded-[2rem] shadow-sm border border-slate-100 flex items-center gap-6 transition-all hover:translate-y-[-4px] overflow-hidden",children:[p.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center text-white shadow-lg shrink-0 ${i[n]}`,children:p.jsx("div",{className:"scale-110",children:r})}),p.jsxs("div",{className:"min-w-0 flex-1",children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight mb-1",children:e}),p.jsx("p",{className:"text-2xl md:text-3xl font-black text-slate-800 whitespace-nowrap overflow-visible",children:t})]})]})},OI=({title:e,label1:t,val1:n,perc1:r,label2:i,val2:o,perc2:l})=>p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] shadow-sm border border-slate-100",children:[p.jsxs("h3",{className:"text-xl font-black text-slate-800 mb-8 flex items-center gap-3",children:[p.jsx("div",{className:"w-2 h-6 bg-emerald-500 rounded-full"}),e]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:t}),p.jsxs("p",{className:"text-xl font-black text-emerald-600",children:["$",Math.round(n).toLocaleString()]}),r!==void 0&&p.jsx("div",{className:"mt-4 h-1.5 w-full bg-slate-100 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${r}%`}})})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:i}),p.jsxs("p",{className:"text-xl font-black text-indigo-600",children:["$",Math.round(o).toLocaleString()]}),l!==void 0&&p.jsx("div",{className:"mt-4 h-1.5 w-full bg-slate-100 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-indigo-500",style:{width:`${l}%`}})})]})]})]}),MI=({title:e,data:t,type:n})=>p.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 h-96 shadow-sm",children:[p.jsxs("h3",{className:"text-xl font-black text-slate-800 mb-8 flex items-center gap-3",children:[p.jsx("div",{className:`w-2 h-6 rounded-full ${n==="compliance"?"bg-blue-500":"bg-rose-500"}`}),e]}),p.jsx(jR,{width:"100%",height:"70%",children:p.jsxs(w4,{data:t,children:[p.jsx(Ib,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),p.jsx(Ob,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:800}}),p.jsx(gM,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"20px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)",fontWeight:"bold"},formatter:(r,i)=>i==="collected"?[`$${r}`,"Recaudado"]:i==="target"?[`$${r}`,"Meta"]:i==="moraTotal"?[`$${r}`,"Total Mora"]:[r,i]}),n==="compliance"?p.jsxs(p.Fragment,{children:[p.jsx(Pb,{dataKey:"collected",radius:[4,4,0,0],barSize:15,children:t.map((r,i)=>p.jsx(ap,{fill:r.collected>=r.target?"#10b981":"#f59e0b"},`cell-${i}`))}),p.jsx(ju,{type:"monotone",dataKey:"target",stroke:"#3b82f6",strokeWidth:3,dot:!1})]}):p.jsx(ju,{type:"stepAfter",dataKey:"moraTotal",stroke:"#f43f5e",strokeWidth:3,dot:!1})]})})]}),Yd=({label:e,onClick:t,icon:n})=>p.jsxs("button",{onClick:t,className:"flex flex-col items-center gap-3 p-4 bg-white/5 rounded-2xl hover:bg-white/10 transition-all border border-white/5",children:[p.jsx("div",{className:"text-indigo-400",children:n}),p.jsx("span",{className:"text-[10px] font-black text-white uppercase tracking-widest",children:e})]}),Yre=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Jre=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Xre=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),Zre=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Qre=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),eie=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),tie=()=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),nie=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2zM10 8.5a.5.5 0 11-1 0 .5.5 0 011 0zm5 5a.5.5 0 11-1 0 .5.5 0 011 0z"})}),rie=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292"})}),iie=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"})}),aie=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})}),oie=({navigate:e,user:t,routes:n,stats:r})=>{const i=new Date(Qe+"T00:00:00"),o=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],[l,u]=C.useState(()=>Qe.substring(0,4)+Qe.substring(5,7)),d=parseInt(l.substring(0,4)),f=parseInt(l.substring(4,6))-1,h=C.useMemo(()=>{if(r.credits.length===0){const P=parseInt(Qe.substring(0,4)),R=parseInt(Qe.substring(5,7));return[{value:`${P}${String(R).padStart(2,"0")}`,label:`${o[R-1]} ${P}`}]}let E=Number.MAX_SAFE_INTEGER,T=0;r.credits.forEach(P=>{const R=new Date(P.startDate+"T00:00:00");R.getTime()<E&&(E=R.getTime());let O=new Date(R);if(P.frequency==="Monthly")O.setMonth(O.getMonth()+P.totalInstallments);else if(P.frequency==="Weekly")O.setDate(O.getDate()+P.totalInstallments*7);else{let B=0;for(;B<P.totalInstallments;)O.setDate(O.getDate()+1),O.getDay()!==0&&B++}O.getTime()>T&&(T=O.getTime())});const A=[],N=new Date(E);N.setDate(1);const k=new Date(T);for(k.setDate(1);N<=k;){const P=N.getFullYear(),R=N.getMonth();A.push({value:`${P}${String(R+1).padStart(2,"0")}`,label:`${o[R]} ${P}`}),N.setMonth(N.getMonth()+1)}return A.sort((P,R)=>R.value.localeCompare(P.value))},[r.credits]),g=(E,T)=>{const A=new Date(E.startDate+"T00:00:00");if(T<A)return{isInstallmentDay:!1,installmentNum:0};if(E.frequency==="Daily"&&T.getDay()===0)return{isInstallmentDay:!1,installmentNum:0};let N=!1,k=0;const P=T.toISOString().split("T")[0];if(E.frequency==="Daily")N=!0,k=Gu(E.startDate,P);else if(E.frequency==="Weekly"){const R=Math.round((T.getTime()-A.getTime())/864e5);N=R%7===0,k=Math.floor(R/7)+1}else if(E.frequency==="Monthly"){const R=Math.round((T.getTime()-A.getTime())/864e5);N=T.getDate()===A.getDate(),k=Math.floor(R/30)+1}return{isInstallmentDay:N,installmentNum:k}},y=C.useMemo(()=>{let E=0,T=0,A=0,N=0,k=0,P=0,R=0;return r.credits.forEach(O=>{const B=O.totalToPay,K=O.capital,D=(B-K)/B,G=K/B;if(O.status==="Lost"){const $=O.totalPaid*G;R+=K-$}else{T+=K,A+=B-K,N+=O.totalPaid*G,k+=O.totalPaid*D,P+=B-O.totalPaid;const{installmentNum:$}=g(O,i),M=Math.min(O.totalInstallments,$)*O.installmentValue,U=Math.max(0,M-O.totalPaid);if(O.isOverdue||U>0){const L=O.totalToPay-O.totalPaid;E+=$>O.totalInstallments?L:Math.max(U,O.installmentValue)}}}),{overdueAmount:E,totalInvested:T,totalInterestExpected:A,totalRecoveredCapital:N,totalRealizedProfit:k,totalPendingToCollect:P,totalLostCapital:R,recoveryRate:T>0?N/T*100:0,profitRate:A>0?k/A*100:0}},[r.credits]),b=C.useMemo(()=>{const E=new Date(d,f+1,0).getDate(),T=[];for(let A=1;A<=E;A++){const N=new Date(d,f,A);let k=0,P=0;r.credits.filter(R=>!R.isOverdue&&R.status!=="Lost").forEach(R=>{const{isInstallmentDay:O,installmentNum:B}=g(R,N);O&&B<=R.totalInstallments&&(k+=R.installmentValue,N<=i&&(B<=R.paidInstallments?P+=R.installmentValue:B===R.paidInstallments+1&&(P+=R.totalPaid%R.installmentValue)))}),T.push({day:String(A).padStart(2,"0"),collected:Math.round(P),target:Math.round(k)})}return T},[l,r.credits]),S=C.useMemo(()=>{const E=new Date(d,f+1,0).getDate(),T=[];for(let A=1;A<=E;A++){const N=new Date(d,f,A);let k=0;r.credits.filter(P=>P.isOverdue&&P.status!=="Lost").forEach(P=>{const{installmentNum:R}=g(P,N),O=Math.min(P.totalInstallments,R)*P.installmentValue,B=Math.max(0,O-P.totalPaid);k+=R>P.totalInstallments?P.totalToPay-P.totalPaid:B}),T.push({day:String(A).padStart(2,"0"),moraTotal:Math.round(k)})}return T},[l,r.credits]);return p.jsxs("div",{className:"space-y-8 animate-fadeIn pb-20",children:[p.jsxs("header",{className:"bg-white p-10 rounded-[2.5rem] border shadow-sm flex flex-col md:flex-row justify-between items-center gap-6",children:[p.jsxs("div",{children:[p.jsx("span",{className:"bg-emerald-100 text-emerald-700 px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest shadow-sm",children:"Gestin de Mi Ruta"}),p.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-slate-800 tracking-tight mt-2",children:["Hola, ",t.name.split(" ")[0],"!"]})]}),p.jsxs("div",{className:"bg-slate-50 p-2 rounded-3xl border border-slate-100 flex items-center",children:[p.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest px-4",children:"Periodo:"}),p.jsx("select",{value:l,onChange:E=>u(E.target.value),className:"bg-white border-none rounded-2xl text-xs font-black uppercase text-indigo-600 py-2.5 px-4 shadow-sm cursor-pointer focus:ring-0 outline-none",children:h.map(E=>p.jsx("option",{value:E.value,children:E.label},E.value))})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsx(fs,{title:"Recaudado Hoy",value:`$${Math.round(y.totalRecoveredCapital+y.totalRealizedProfit).toLocaleString()}`,color:"indigo",icon:p.jsx(LI,{})}),p.jsx(fs,{title:"Capital en Calle",value:`$${y.totalInvested.toLocaleString()}`,color:"emerald",icon:p.jsx(UI,{})}),p.jsx(fs,{title:"Capital Perdido",value:`$${Math.round(y.totalLostCapital).toLocaleString()}`,color:"red",icon:p.jsx(cie,{})}),p.jsx(fs,{title:"Utilidad Ruta",value:`$${y.totalInterestExpected.toLocaleString()}`,color:"violet",icon:p.jsx(sie,{})}),p.jsx(fs,{title:"Gastos Ruta",value:`$${r.expenses.reduce((E,T)=>E+T.value,0).toLocaleString()}`,color:"rose",icon:p.jsx(lie,{})}),p.jsx(fs,{title:"Mis Clientes",value:r.clients.length,color:"amber",icon:p.jsx(uie,{})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[p.jsx(DI,{title:"Rendimiento de Mi Ruta",label1:"Cap. Recuperado",val1:y.totalRecoveredCapital,perc1:y.recoveryRate,label2:"Utilidad Real",val2:y.totalRealizedProfit,perc2:y.profitRate}),p.jsx(DI,{title:"Expectativa de Recaudo",label1:"Cartera Pendiente",val1:y.totalPendingToCollect,label2:"Utilidad por Cobrar",val2:y.totalInterestExpected-y.totalRealizedProfit})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsx(jI,{title:"Cumplimiento de Mi Ruta (Sanos)",data:b,type:"compliance"}),p.jsx(jI,{title:"Recaudo de Mora (Mi Ruta)",data:S,type:"mora"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"md:col-span-2 bg-slate-900 p-10 rounded-[3rem] shadow-2xl",children:[p.jsx("h3",{className:"text-2xl font-black text-white mb-8",children:"Panel Operativo"}),p.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[p.jsx(Jd,{label:"Crditos",onClick:()=>e("credits"),icon:p.jsx(LI,{})}),p.jsx(Jd,{label:"Nvo. Crdito",onClick:()=>e("new_credit"),icon:p.jsx(UI,{})}),p.jsx(Jd,{label:"Gastos",onClick:()=>e("expenses"),icon:p.jsx(die,{})}),p.jsx(Jd,{label:"Clientes",onClick:()=>e("client_management"),icon:p.jsx(fie,{})})]})]}),p.jsxs("button",{onClick:()=>e("liquidation"),className:"bg-white p-10 rounded-[3rem] border-2 border-slate-100 shadow-sm flex flex-col justify-center items-center text-center gap-6 hover:border-indigo-600 transition-all",children:[p.jsx("div",{className:"w-16 h-16 bg-indigo-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:p.jsx(hie,{})}),p.jsx("h4",{className:"font-black text-2xl text-slate-800 tracking-tight",children:"Cerrar Mi Caja"})]})]})]})},fs=({title:e,value:t,color:n,icon:r})=>{const i={indigo:"bg-indigo-600",emerald:"bg-emerald-600",rose:"bg-rose-600",amber:"bg-amber-600",violet:"bg-violet-600",red:"bg-red-600"};return p.jsxs("div",{className:"bg-white p-6 rounded-[2rem] shadow-sm border border-slate-100 flex items-center gap-6 transition-all hover:translate-y-[-4px] overflow-hidden",children:[p.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center text-white shadow-lg shrink-0 ${i[n]}`,children:p.jsx("div",{className:"scale-110",children:r})}),p.jsxs("div",{className:"min-w-0 flex-1",children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight whitespace-normal mb-1",children:e}),p.jsx("p",{className:"text-2xl md:text-3xl font-black text-slate-800 whitespace-nowrap overflow-visible",children:t})]})]})},DI=({title:e,label1:t,val1:n,perc1:r,label2:i,val2:o,perc2:l})=>p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] shadow-sm border border-slate-100",children:[p.jsxs("h3",{className:"text-xl font-black text-slate-800 mb-8 flex items-center gap-3",children:[p.jsx("div",{className:"w-2 h-6 bg-emerald-500 rounded-full"}),e]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:t}),p.jsxs("p",{className:"text-xl font-black text-emerald-600",children:["$",Math.round(n).toLocaleString()]}),r!==void 0&&p.jsx("div",{className:"mt-4 h-1.5 w-full bg-slate-100 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${r}%`}})})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:i}),p.jsxs("p",{className:"text-xl font-black text-indigo-600",children:["$",Math.round(o).toLocaleString()]}),l!==void 0&&p.jsx("div",{className:"mt-4 h-1.5 w-full bg-slate-100 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-indigo-500",style:{width:`${l}%`}})})]})]})]}),jI=({title:e,data:t,type:n})=>p.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 h-96 shadow-sm",children:[p.jsxs("h3",{className:"text-xl font-black text-slate-800 mb-8 flex items-center gap-3",children:[p.jsx("div",{className:`w-2 h-6 rounded-full ${n==="compliance"?"bg-blue-500":"bg-rose-500"}`}),e]}),p.jsx(jR,{width:"100%",height:"70%",children:p.jsxs(w4,{data:t,children:[p.jsx(Ib,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),p.jsx(Ob,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:800}}),p.jsx(gM,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"20px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)",fontWeight:"bold"},formatter:(r,i)=>i==="collected"?[`$${r}`,"Recaudado"]:i==="target"?[`$${r}`,"Meta"]:i==="moraTotal"?[`$${r}`,"Total Mora"]:[r,i]}),n==="compliance"?p.jsxs(p.Fragment,{children:[p.jsx(Pb,{dataKey:"collected",radius:[4,4,0,0],barSize:15,children:t.map((r,i)=>p.jsx(ap,{fill:r.collected>=r.target?"#10b981":"#f59e0b"},`cell-${i}`))}),p.jsx(ju,{type:"monotone",dataKey:"target",stroke:"#3b82f6",strokeWidth:3,dot:!1})]}):p.jsx(ju,{type:"stepAfter",dataKey:"moraTotal",stroke:"#f43f5e",strokeWidth:3,dot:!1})]})})]}),Jd=({label:e,onClick:t,icon:n})=>p.jsxs("button",{onClick:t,className:"flex flex-col items-center gap-3 p-4 bg-white/5 rounded-2xl hover:bg-white/10 transition-all border border-white/5",children:[p.jsx("div",{className:"text-indigo-400",children:n}),p.jsx("span",{className:"text-[10px] font-black text-white uppercase tracking-widest",children:e})]}),LI=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),UI=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),sie=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),lie=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),uie=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),cie=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})}),die=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2zM10 8.5a.5.5 0 11-1 0 .5.5 0 011 0zm5 5a.5.5 0 11-1 0 .5.5 0 011 0z"})}),fie=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),hie=()=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"})}),pie=({clients:e,allClients:t,routes:n,user:r,selectedRouteId:i,onEditClient:o,onDeleteClient:l,onNewClient:u,onUpdateClients:d})=>{const[f,h]=C.useState(""),g=e.filter(S=>S.name.toLowerCase().includes(f.toLowerCase())||S.alias.toLowerCase().includes(f.toLowerCase())||S.dni.includes(f)),y=i==="all",b=(S,E)=>{if(y)return;const T=t.filter(k=>k.routeId===S.routeId&&k.status==="Active").sort((k,P)=>k.order-P.order),A=T.findIndex(k=>k.id===S.id);if(A===-1)return;const N=E==="up"?A-1:A+1;if(N>=0&&N<T.length){const k=T[N],P=k.order,R=S.order,O={...S,order:P},B={...k,order:R};d([O,B])}};return p.jsxs("div",{className:"space-y-6 animate-fadeIn pb-10",children:[p.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Directorio de Clientes"}),p.jsx("p",{className:"text-slate-500 font-medium",children:"Administracin del orden de ruta y estados"})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[p.jsx("input",{type:"text",placeholder:"Buscar por DNI o Nombre...",className:"pl-6 pr-6 py-3.5 bg-white border border-slate-200 rounded-2xl w-full sm:w-80 shadow-sm focus:ring-4 focus:ring-indigo-50 outline-none font-bold text-slate-700",value:f,onChange:S=>h(S.target.value)}),p.jsx("button",{onClick:u,className:"w-full sm:w-auto bg-indigo-600 hover:bg-indigo-700 text-white font-black px-8 py-3.5 rounded-2xl shadow-xl transition active:scale-95 flex items-center gap-2",children:"Nuevo Cliente"})]})]}),y&&!f&&p.jsxs("div",{className:"bg-amber-50 border border-amber-100 p-4 rounded-2xl flex items-center gap-3 text-amber-700 animate-fadeIn",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),p.jsxs("p",{className:"text-xs font-bold",children:["Est visualizando el directorio global. Para ",p.jsx("span",{className:"font-black underline",children:"cambiar el orden de visita"}),", por favor seleccione una ruta especfica en el men superior."]})]}),p.jsx("div",{className:"bg-white rounded-[2rem] border border-slate-200 shadow-sm overflow-hidden",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 border-b",children:p.jsxs("tr",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest",children:[p.jsx("th",{className:"px-8 py-5",children:"Orden"}),p.jsx("th",{className:"px-8 py-5",children:"Ruta / Zona"}),p.jsx("th",{className:"px-8 py-5",children:"Identidad"}),p.jsx("th",{className:"px-8 py-5",children:"Estado"}),p.jsx("th",{className:"px-8 py-5",children:"Contacto"}),p.jsx("th",{className:"px-8 py-5 text-center",children:"Gestin"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:g.map((S,E)=>{var A;const T=((A=n.find(N=>N.id===S.routeId))==null?void 0:A.name)||"Sin Asignar";return p.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${S.status==="Inactive"?"bg-slate-50/50 grayscale opacity-60":""}`,children:[p.jsx("td",{className:"px-8 py-5",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-black text-sm border ${S.status==="Active"?"bg-indigo-50 text-indigo-700 border-indigo-100":"bg-slate-100 text-slate-400 border-slate-200"}`,children:S.status==="Active"?S.order:"-"}),S.status==="Active"&&!y&&!f&&p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("button",{onClick:()=>b(S,"up"),className:"w-6 h-6 rounded bg-white border border-slate-200 flex items-center justify-center text-slate-400 hover:text-indigo-600 hover:border-indigo-200 shadow-sm",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 15l7-7 7 7"})})}),p.jsx("button",{onClick:()=>b(S,"down"),className:"w-6 h-6 rounded bg-white border border-slate-200 flex items-center justify-center text-slate-400 hover:text-indigo-600 hover:border-indigo-200 shadow-sm",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M19 9l-7 7-7-7"})})})]})]})}),p.jsx("td",{className:"px-8 py-5",children:p.jsx("span",{className:"bg-slate-100 text-slate-600 px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest border border-slate-200 whitespace-nowrap",children:T})}),p.jsx("td",{className:"px-8 py-5",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center font-black text-xl shadow-sm ${S.status==="Active"?"bg-indigo-50 text-indigo-600":"bg-slate-200 text-slate-500"}`,children:S.name.charAt(0)}),p.jsxs("div",{children:[p.jsx("p",{className:"font-black text-slate-800",children:S.name}),p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:S.dni})]})]})}),p.jsx("td",{className:"px-8 py-5",children:p.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest shadow-sm ${S.status==="Active"?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"}`,children:S.status})}),p.jsxs("td",{className:"px-8 py-5",children:[p.jsx("p",{className:"text-sm font-bold text-slate-700",children:S.phone}),p.jsx("p",{className:"text-[10px] text-slate-400 font-medium truncate max-w-[200px]",children:S.address})]}),p.jsx("td",{className:"px-8 py-5",children:p.jsx("div",{className:"flex items-center justify-center",children:p.jsx("button",{onClick:()=>o(S.id),className:"px-6 py-2.5 bg-white border border-slate-200 rounded-xl text-[10px] font-black text-slate-600 hover:bg-indigo-50 hover:text-indigo-600 transition-all shadow-sm uppercase tracking-widest",children:"EDITAR"})})})]},S.id)})})]})})})]})},mie=({clients:e,user:t,allCredits:n,allExpenses:r,allPayments:i,allTransactions:o,routes:l,onSave:u})=>{const[d,f]=C.useState(""),[h,g]=C.useState(null),[y,b]=C.useState([]),[S,E]=C.useState(null),[T,A]=C.useState({startDate:new Date().toISOString().split("T")[0],firstPaymentDate:new Date().toISOString().split("T")[0],capital:0,interestRate:20,installments:30,frequency:"Daily"}),[N,k]=C.useState(null),P=D=>{["e","E","+","-"].includes(D.key)&&D.preventDefault()},R=C.useMemo(()=>{if(!h)return null;const D=h.routeId,G=l.find(M=>M.id===D);let $=0;return o.forEach(M=>{M.routeId===D&&((M.type==="INITIAL_BASE"||M.type==="INJECTION")&&($+=M.amount),M.type==="WITHDRAWAL"&&($-=M.amount))}),i.forEach(M=>{const U=n.find(q=>q.id===M.creditId),L=U?e.find(q=>q.id===U.clientId):null;L&&L.routeId===D&&($+=M.amount)}),r.forEach(M=>{M.routeId===D&&($-=M.value)}),n.forEach(M=>{const U=e.find(L=>L.id===M.clientId);U&&U.routeId===D&&($-=M.capital)}),{balance:$,routeName:(G==null?void 0:G.name)||"Ruta Desconocida"}},[h,o,i,r,n,e,l]),O=()=>{E(null);const D=d.toLowerCase().trim();if(!D)return;const G=e.filter($=>$.dni.includes(D)||$.name.toLowerCase().includes(D)||$.alias.toLowerCase().includes(D));b(G),G.length===1?g(G[0]):G.length===0&&E({type:"error",message:"Sin resultados."})},B=()=>{if(E(null),!h||T.capital<=0||T.installments<=0){E({type:"error",message:"Revise los valores del crdito."});return}if(R&&T.capital>R.balance){E({type:"error",message:`Saldo insuficiente: solo $${R.balance.toLocaleString()} disponibles.`});return}const D=T.capital*(T.interestRate/100),G=T.capital+D,$=G/T.installments;let M,U=0;if(T.frequency==="Daily"){M=hk(T.firstPaymentDate,T.installments-1);const L=new Date(T.startDate+"T00:00:00");U=Math.ceil((M.getTime()-L.getTime())/(1e3*3600*24))}else{let L=7;T.frequency==="Monthly"&&(L=30),U=T.installments*L,M=new Date(T.firstPaymentDate+"T00:00:00"),M.setDate(M.getDate()+(T.installments-1)*L)}k({total:G,interestAmount:D,installmentValue:Math.round($),termDays:Math.max(1,U),endDate:M.toISOString().split("T")[0].replace(/-/g,"/")})},K=D=>{if(D.preventDefault(),!N||!h)return;const G={id:"CR-"+Date.now().toString().slice(-6),businessId:t.businessId,clientId:h.id,capital:T.capital,totalToPay:N.total,installmentValue:N.installmentValue,totalInstallments:T.installments,paidInstallments:0,totalPaid:0,frequency:T.frequency,startDate:T.startDate,firstPaymentDate:T.firstPaymentDate,isOverdue:!1,status:"Active"};u(h,G),E({type:"success",message:"Crdito registrado con xito."}),k(null),g(null),f("")};return p.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fadeIn pb-20",children:[p.jsxs("header",{children:[p.jsx("h2",{className:"text-3xl font-bold text-slate-800 tracking-tight",children:"Nuevo Crdito"}),p.jsx("p",{className:"text-slate-500",children:"Gestin de prstamos con calendario dinmico"})]}),S&&p.jsx("div",{className:`p-4 rounded-2xl border flex items-center gap-3 animate-fadeIn ${S.type==="error"?"bg-rose-50 border-rose-100 text-rose-600":"bg-emerald-50 border-emerald-100 text-emerald-600"}`,children:p.jsx("p",{className:"text-xs font-black uppercase tracking-widest",children:S.message})}),p.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 p-8",children:[p.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[p.jsxs("div",{className:"flex-1 space-y-1 w-full",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"DNI o Nombre"}),p.jsx("input",{type:"text",value:d,onChange:D=>{f(D.target.value),E(null)},placeholder:"Buscar cliente...",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 focus:ring-4 focus:ring-indigo-100 outline-none transition-all font-bold text-slate-700 shadow-inner"})]}),p.jsx("button",{onClick:O,className:"bg-slate-900 text-white px-10 py-4 rounded-2xl font-black hover:bg-indigo-600 transition shadow-lg active:scale-95 uppercase tracking-widest text-xs h-[58px]",children:"Verificar"})]}),h&&p.jsx("div",{className:"mt-8 p-6 bg-slate-50 border border-slate-100 rounded-[2.5rem] animate-slideDown shadow-inner",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-xl flex items-center justify-center text-white font-black",children:h.name.charAt(0)}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[9px] font-black text-indigo-600 uppercase",children:"Cliente Seleccionado"}),p.jsx("h4",{className:"text-xl font-black text-slate-800",children:h.name})]})]}),p.jsxs("div",{className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase ${R&&T.capital>R.balance?"bg-rose-100 text-rose-600":"bg-emerald-100 text-emerald-600"}`,children:["Caja: $",R==null?void 0:R.balance.toLocaleString()]})]})})]}),h&&p.jsx("div",{className:"bg-white rounded-[2.5rem] shadow-sm border border-slate-200 p-10 animate-fadeIn",children:p.jsxs("form",{onSubmit:K,className:"space-y-10",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Monto Capital"}),p.jsx("input",{type:"number",onKeyDown:P,value:T.capital||"",onChange:D=>A({...T,capital:parseFloat(D.target.value)||0}),className:"w-full bg-slate-50 border-2 rounded-2xl px-5 py-5 font-black text-slate-800 text-2xl shadow-inner border-slate-100"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Inters (%)"}),p.jsx("input",{type:"number",onKeyDown:P,value:T.interestRate,onChange:D=>A({...T,interestRate:parseFloat(D.target.value)||0}),className:"w-full bg-indigo-50 border-2 border-indigo-100 rounded-2xl px-5 py-5 font-black text-indigo-700 text-2xl shadow-inner"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Cuotas"}),p.jsx("input",{type:"number",value:T.installments,onChange:D=>A({...T,installments:parseInt(D.target.value)||0}),className:"w-full bg-slate-50 border-2 border-slate-100 rounded-2xl px-5 py-5 font-black text-slate-800 text-2xl shadow-inner"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Frecuencia"}),p.jsxs("select",{value:T.frequency,onChange:D=>A({...T,frequency:D.target.value}),className:"w-full bg-slate-50 border-2 border-slate-100 rounded-2xl px-6 py-5 font-black text-slate-700 shadow-inner",children:[p.jsx("option",{value:"Daily",children:"DIARIO (L-S)"}),p.jsx("option",{value:"Weekly",children:"SEMANAL"}),p.jsx("option",{value:"Monthly",children:"MENSUAL"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Fecha Entrega"}),p.jsx("input",{type:"date",value:T.startDate,onChange:D=>A({...T,startDate:D.target.value}),className:"w-full bg-slate-50 border-2 border-slate-100 rounded-2xl px-6 py-5 font-black text-slate-700 shadow-inner"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Inicio de Cobro (1ra Cuota)"}),p.jsx("input",{type:"date",value:T.firstPaymentDate,onChange:D=>A({...T,firstPaymentDate:D.target.value}),className:"w-full bg-indigo-50 border-2 border-indigo-200 rounded-2xl px-6 py-5 font-black text-indigo-800 shadow-inner"})]})]}),p.jsx("div",{className:"text-center pt-6",children:p.jsx("button",{type:"button",onClick:B,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-black px-16 py-6 rounded-[2rem] shadow-2xl transition transform active:scale-95 uppercase tracking-widest text-sm",children:"Calcular Proyeccin"})}),N&&p.jsxs("div",{className:"mt-14 p-10 bg-slate-900 text-white rounded-[3rem] shadow-2xl space-y-10 animate-slideDown border-4 border-indigo-500/20",children:[p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"text-[9px] font-black uppercase text-white/40 mb-2",children:"Total Cobro"}),p.jsxs("p",{className:"text-3xl font-black text-emerald-400",children:["$",N.total.toLocaleString()]})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"text-[9px] font-black uppercase text-white/40 mb-2",children:"Vlr. Cuota"}),p.jsxs("p",{className:"text-3xl font-black text-amber-400",children:["$",N.installmentValue.toLocaleString()]})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"text-[9px] font-black uppercase text-white/40 mb-2",children:"Hbiles"}),p.jsx("p",{className:"text-3xl font-black",children:T.installments})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"text-[9px] font-black uppercase text-white/40 mb-2",children:"Cierre Est."}),p.jsx("p",{className:"text-2xl font-black text-white",children:N.endDate})]})]}),p.jsx("button",{type:"submit",className:"w-full bg-emerald-500 hover:bg-emerald-400 text-slate-900 font-black py-6 rounded-[2rem] shadow-xl uppercase tracking-widest text-sm",children:"Confirmar y Registrar Crdito"})]})]})})]})},gie=({expenses:e,routes:t,user:n,onAdd:r,onDelete:i})=>{var P;const[o,l]=C.useState(!1),[u,d]=C.useState(null),[f,h]=C.useState(null),[g,y]=C.useState(null),[b,S]=C.useState(null),[E,T]=C.useState({name:"",value:"",routeId:((P=t[0])==null?void 0:P.id)||"",type:"Operational",concept:""});C.useEffect(()=>{const R=()=>d(null);return window.addEventListener("click",R),()=>window.removeEventListener("click",R)},[]);const A=R=>{var B;S(null);const O=(B=R.target.files)==null?void 0:B[0];if(O){if(O.size>5*1024*1024){S("La imagen es demasiado pesada. Mximo 5MB.");return}const K=new FileReader;K.onloadend=()=>{y(K.result)},K.readAsDataURL(O)}},N=R=>{var K;if(R.preventDefault(),S(null),!E.name||!E.value){S("Todos los campos de texto son obligatorios.");return}if(!g){S(" SEGURIDAD: Es OBLIGATORIO adjuntar foto del recibo o comprobante.");return}const O=new Date().toISOString().split("T")[0],B={id:"e"+Date.now(),businessId:n.businessId,date:O,routeId:E.routeId,value:parseFloat(E.value),name:E.name,type:E.type,concept:E.concept,proofImage:g};r(B),l(!1),T({name:"",value:"",routeId:((K=t[0])==null?void 0:K.id)||"",type:"Operational",concept:""}),y(null)},k=(R,O)=>{R.stopPropagation(),u===O?(i(O),d(null)):d(O)};return p.jsxs("div",{className:"space-y-8 animate-fadeIn pb-20",children:[p.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-center bg-white p-8 rounded-[2rem] border shadow-sm gap-4",children:[p.jsxs("div",{className:"text-center md:text-left",children:[p.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Gestin de Gastos"}),p.jsx("p",{className:"text-slate-500 font-medium text-sm",children:"Registro detallado de salidas y egresos operativos"})]}),p.jsx("button",{onClick:()=>l(!o),className:`w-full md:w-auto px-8 py-3.5 rounded-2xl font-black transition shadow-xl flex items-center justify-center gap-2 active:scale-95 uppercase tracking-widest text-xs ${o?"bg-rose-100 text-rose-600 border border-rose-200":"bg-indigo-600 text-white hover:bg-indigo-700"}`,children:o?"Cancelar Registro":"Nuevo Egreso"})]}),o&&p.jsx("div",{className:"bg-white p-8 md:p-10 rounded-[2.5rem] border border-slate-200 shadow-2xl animate-slideDown border-t-[8px] border-emerald-500",children:p.jsxs("form",{onSubmit:N,className:"space-y-8",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{className:"w-10 h-10 bg-emerald-50 text-emerald-600 rounded-xl flex items-center justify-center font-black",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),p.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-widest text-sm",children:"Informacin del Gasto"})]}),b&&p.jsxs("div",{className:"bg-rose-50 text-rose-600 p-4 rounded-2xl text-xs font-black uppercase tracking-wide border border-rose-100 flex items-center gap-2 animate-pulse",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),b]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Nombre / Ttulo"}),p.jsx("input",{value:E.name,onChange:R=>T({...E,name:R.target.value}),placeholder:"Ej: Gasolina Moto 1",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-4 focus:ring-indigo-50 outline-none transition font-bold text-slate-700 shadow-inner"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Valor en Divisa"}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-6 top-1/2 -translate-y-1/2 font-black text-slate-400",children:"$"}),p.jsx("input",{type:"number",value:E.value,onChange:R=>T({...E,value:R.target.value}),placeholder:"0.00",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-10 pr-6 py-4 focus:ring-4 focus:ring-indigo-50 outline-none transition font-black text-slate-800 shadow-inner"})]})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Ruta Asociada"}),p.jsx("select",{value:E.routeId,onChange:R=>T({...E,routeId:R.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-4 focus:ring-indigo-50 outline-none transition font-bold text-slate-700 appearance-none cursor-pointer shadow-inner",children:t.map(R=>p.jsx("option",{value:R.id,children:R.name},R.id))})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Categora del Gasto"}),p.jsxs("select",{value:E.type,onChange:R=>T({...E,type:R.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-4 focus:ring-indigo-50 outline-none transition font-bold text-slate-700 appearance-none cursor-pointer shadow-inner",children:[p.jsx("option",{value:"Operational",children:"Operacional / Ruta"}),p.jsx("option",{value:"Personal",children:"Personal / Retiro"})]})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Concepto / Detalle"}),p.jsx("input",{value:E.concept,onChange:R=>T({...E,concept:R.target.value}),placeholder:"Detalle breve del motivo del egreso",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-4 focus:ring-indigo-50 outline-none transition font-bold text-slate-700 shadow-inner"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1 flex items-center gap-2",children:["Evidencia Comprobante (Obligatorio)",p.jsx("span",{className:"bg-rose-100 text-rose-600 px-2 py-0.5 rounded text-[8px]",children:"Requerido"})]}),p.jsxs("div",{className:`relative group border-2 border-dashed rounded-3xl p-6 transition-all text-center ${g?"border-emerald-400 bg-emerald-50/30":"border-slate-300 bg-slate-50 hover:bg-slate-100 hover:border-indigo-400"}`,children:[p.jsx("input",{type:"file",accept:"image/*",onChange:A,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),g?p.jsxs("div",{className:"relative h-48 w-full flex items-center justify-center",children:[p.jsx("img",{src:g,alt:"Preview",className:"h-full object-contain rounded-xl shadow-sm"}),p.jsxs("div",{className:"absolute inset-0 bg-slate-900/50 flex flex-col items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-xl",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-white mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),p.jsx("span",{className:"text-white font-black uppercase text-xs tracking-widest",children:"Cambiar Imagen"})]})]}):p.jsxs("div",{className:"py-8 flex flex-col items-center gap-4",children:[p.jsx("div",{className:"w-16 h-16 bg-white rounded-full shadow-md flex items-center justify-center text-indigo-500",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-black text-slate-700 uppercase tracking-tight",children:"Tomar Foto o Subir de Galera"}),p.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Soporta JPG, PNG, WEBP (Max 5MB)"})]})]})]})]}),p.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-black py-5 rounded-[2rem] shadow-xl transition transform hover:-translate-y-1 active:scale-95 uppercase tracking-widest",children:"Guardar Gasto"})]})}),p.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-200 shadow-sm overflow-hidden",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left min-w-[700px]",children:[p.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:p.jsxs("tr",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest",children:[p.jsx("th",{className:"px-6 md:px-8 py-5",children:"Fecha"}),p.jsx("th",{className:"px-6 md:px-8 py-5",children:"Identificacin"}),p.jsx("th",{className:"px-6 md:px-8 py-5",children:"Zona / Ruta"}),p.jsx("th",{className:"px-6 md:px-8 py-5 text-right",children:"Valor Neto"}),p.jsx("th",{className:"px-6 md:px-8 py-5 text-center",children:"Evidencia"}),p.jsx("th",{className:"px-6 md:px-8 py-5 text-center",children:"Gestin"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:e.length>0?e.map(R=>{var O;return p.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[p.jsxs("td",{className:"px-6 md:px-8 py-5",children:[p.jsx("p",{className:"text-xs font-black text-slate-400 uppercase",children:new Date(R.date+"T00:00:00").toLocaleDateString("es-ES",{day:"2-digit",month:"short"})}),p.jsx("p",{className:"text-[10px] font-medium text-slate-300",children:new Date(R.date+"T00:00:00").getFullYear()})]}),p.jsxs("td",{className:"px-6 md:px-8 py-5",children:[p.jsx("p",{className:"text-sm font-black text-slate-800 uppercase tracking-tight",children:R.name}),p.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tighter",children:R.concept})]}),p.jsx("td",{className:"px-6 md:px-8 py-5",children:p.jsx("div",{className:"inline-flex",children:p.jsx("span",{className:"bg-indigo-50 text-indigo-700 px-3 py-1.5 rounded-lg text-[9px] md:text-[10px] font-black uppercase tracking-tight md:tracking-widest border border-indigo-100 whitespace-nowrap",children:((O=t.find(B=>B.id===R.routeId))==null?void 0:O.name)||"Sin Ruta"})})}),p.jsx("td",{className:"px-6 md:px-8 py-5 text-right",children:p.jsxs("p",{className:"text-lg md:text-xl font-black text-rose-600",children:["-$",R.value.toLocaleString()]})}),p.jsx("td",{className:"px-6 md:px-8 py-5 text-center",children:R.proofImage?p.jsxs("button",{onClick:()=>h(R.proofImage||null),className:"bg-slate-100 hover:bg-indigo-100 text-slate-400 hover:text-indigo-600 p-2 rounded-xl transition-colors inline-flex items-center gap-1 group",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),p.jsx("span",{className:"text-[9px] font-black uppercase hidden group-hover:inline",children:"Ver"})]}):p.jsx("span",{className:"text-[9px] text-slate-300 font-bold uppercase",children:"Sin Foto"})}),p.jsx("td",{className:"px-6 md:px-8 py-5 text-center",children:p.jsx("button",{onClick:B=>k(B,R.id),className:`min-w-[44px] h-11 flex items-center justify-center rounded-xl transition-all duration-300 shadow-sm border ${u===R.id?"bg-rose-600 border-rose-700 text-white px-4 scale-105":"bg-rose-50 border-rose-100 text-rose-500 hover:bg-rose-100"}`,children:u===R.id?p.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest whitespace-nowrap",children:"ELIMINAR?"}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},R.id)}):p.jsx("tr",{children:p.jsxs("td",{colSpan:6,className:"px-8 py-16 text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-200",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),p.jsx("p",{className:"text-slate-400 font-black italic uppercase tracking-widest text-xs",children:"No hay egresos registrados hoy"})]})})})]})})}),f&&p.jsx("div",{className:"fixed inset-0 z-[9999] bg-slate-900/95 flex items-center justify-center p-4 backdrop-blur-md animate-fadeIn",onClick:()=>h(null),children:p.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full flex flex-col items-center",children:[p.jsx("img",{src:f,alt:"Comprobante Gasto",className:"max-w-full max-h-[85vh] object-contain rounded-lg shadow-2xl border-4 border-slate-800"}),p.jsx("button",{onClick:()=>h(null),className:"mt-6 bg-white text-slate-900 px-8 py-3 rounded-full font-black uppercase tracking-widest shadow-lg hover:scale-105 transition-transform text-xs",children:"Cerrar Vista"})]})})]})},vie=({clients:e,selectedRouteId:t,credits:n,payments:r,onGoToCredit:i})=>{const[o,l]=C.useState(Qe),u=t==="all",d=new Date(Qe+"T00:00:00"),f=(b,S)=>{if(b.status==="Lost")return{visit:!1,reason:"",amount:0,realAmount:0,isPaid:!1,isPartial:!1};const E=new Date(S+"T00:00:00"),T=new Date(b.startDate+"T00:00:00");if(b.frequency==="Daily"&&E.getDay()===0)return{visit:!1,reason:"Domingo - No Laboral",amount:0,realAmount:0,isPaid:!1,isPartial:!1};if(E<=T)return{visit:!1,reason:"",amount:0,realAmount:0,isPaid:!1,isPartial:!1};let A=!1,N=0;if(b.frequency==="Daily")A=!0,N=Gu(b.startDate,S);else if(b.frequency==="Weekly"){const U=Math.round((E.getTime()-T.getTime())/864e5);A=U%7===0,N=Math.floor(U/7)}else if(b.frequency==="Monthly"){A=E.getDate()===T.getDate();const U=Math.round((E.getTime()-T.getTime())/(1e3*60*60*24));N=Math.floor(U/30)}if(N>b.totalInstallments&&!b.isOverdue)return{visit:!1,reason:"",amount:0,realAmount:0,isPaid:!1,isPartial:!1};const k=Math.min(b.totalInstallments,N)*b.installmentValue,P=b.totalPaid>=k,R=r.find(U=>U.creditId===b.id&&U.date===S),O=R?R.amount:0,B=Math.max(0,k-b.installmentValue),K=!P&&(O>0||b.totalPaid>B);if(!(A||b.isOverdue&&!P&&E>=d))return{visit:!1,reason:"",amount:0,realAmount:0,isPaid:!1,isPartial:!1};let G=b.frequency==="Daily"?"Ciclo Diario":b.frequency==="Weekly"?"Ciclo Semanal":"Ciclo Mensual",$=b.installmentValue;b.isOverdue&&!P&&(G="Mora Pendiente",$=Math.max(0,k-b.totalPaid));const M=O>0?O:$;return{visit:!0,reason:G,amount:M,realAmount:O,isPaid:P,isPartial:K}},h=C.useMemo(()=>{if(u)return[];const b=[];return n.forEach(S=>{const E=e.find(A=>A.id===S.clientId);if(!E||E.status==="Inactive")return;const T=f(S,o);T.visit&&b.push({...E,credit:S,...T})}),b.sort((S,E)=>S.order-E.order)},[e,n,r,t,o]),g=C.useMemo(()=>{const b=h.filter(N=>N.reason!=="Mora Pendiente"),S=h.length,E=h.filter(N=>N.isPaid).length,T=b.reduce((N,k)=>N+k.amount,0),A=b.filter(N=>N.isPaid||N.realAmount>0).reduce((N,k)=>N+k.realAmount,0);return{total:T,collected:A,count:S,paidCount:E}},[h]),y=b=>{const S=new Date(Qe+"T00:00:00");S.setDate(S.getDate()+b),l(S.toISOString().split("T")[0])};return p.jsxs("div",{className:"space-y-8 animate-fadeIn pb-20",children:[p.jsxs("header",{className:"bg-white p-6 md:p-8 rounded-[2rem] border shadow-sm flex flex-col md:flex-row justify-between items-center gap-6",children:[p.jsxs("div",{className:"w-full md:flex-1 text-center md:text-left",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-black text-slate-800 tracking-tight",children:"Rutero Inteligente"}),p.jsx("p",{className:"text-slate-500 font-medium text-sm",children:"El orden de visita depende de la configuracin de clientes"})]}),!u&&p.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full md:w-auto",children:[p.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-2xl border border-slate-200 gap-1 w-full sm:w-auto",children:[p.jsx("button",{onClick:()=>y(0),className:`flex-1 sm:flex-none px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${o===Qe?"bg-white text-indigo-600 shadow-sm":"text-slate-400"}`,children:"Hoy"}),p.jsx("button",{onClick:()=>y(1),className:`flex-1 sm:flex-none px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${o===new Date(new Date(Qe+"T00:00:00").getTime()+864e5).toISOString().split("T")[0]?"bg-white text-indigo-600 shadow-sm":"text-slate-400"}`,children:"Maana"})]}),p.jsx("input",{type:"date",value:o,onChange:b=>l(b.target.value),className:"w-full sm:w-auto bg-white border border-slate-200 rounded-2xl px-5 py-3 font-black text-slate-700 focus:ring-4 focus:ring-indigo-50 shadow-sm text-sm"})]})]}),!u&&p.jsx("div",{className:"bg-slate-900 text-white p-6 md:p-10 rounded-[2.5rem] md:rounded-[3rem] shadow-2xl relative overflow-hidden animate-slideDown",children:p.jsxs("div",{className:"relative z-10 grid grid-cols-1 lg:grid-cols-3 gap-8 md:gap-10",children:[p.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[p.jsx("div",{className:`w-14 h-14 md:w-20 md:h-20 rounded-2xl md:rounded-[2rem] flex items-center justify-center shadow-lg backdrop-blur-md ${g.collected===g.total&&g.total>0?"bg-emerald-500 text-white":"bg-white/10 text-emerald-400"}`,children:g.collected>=g.total&&g.total>0?p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-10 md:h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-10 md:h-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[9px] md:text-[10px] font-black uppercase tracking-[0.3em] text-slate-400",children:"Meta Pendiente (Sanos)"}),p.jsxs("h3",{className:"text-2xl md:text-4xl font-black",children:["$",Math.max(0,g.total-g.collected).toLocaleString()," ",p.jsxs("span",{className:"text-xs md:text-lg text-slate-500 font-bold",children:["/ $",g.total.toLocaleString()]})]})]})]}),p.jsxs("div",{className:"flex flex-col justify-center",children:[p.jsxs("div",{className:"flex justify-between items-end mb-2",children:[p.jsx("p",{className:"text-[9px] md:text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Cumplimiento del da"}),p.jsxs("p",{className:"text-xs md:text-sm font-black text-emerald-400",children:[g.total>0?Math.min(100,Math.round(g.collected/g.total*100)):100,"%"]})]}),p.jsx("div",{className:"h-2 md:h-3 w-full bg-white/10 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-1000",style:{width:`${g.total>0?Math.min(100,g.collected/g.total*100):100}%`}})})]}),p.jsx("div",{className:"flex items-center justify-between lg:justify-end gap-6 md:gap-10 lg:border-l lg:border-white/10 lg:pl-10",children:p.jsxs("div",{className:"text-left lg:text-right",children:[p.jsx("p",{className:"text-[9px] md:text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Crditos por Cobrar"}),p.jsxs("p",{className:"text-xl md:text-2xl font-black text-white",children:[g.paidCount," ",p.jsxs("span",{className:"text-[10px] md:text-xs text-slate-500 uppercase",children:["de ",g.count]})]})]})})]})}),p.jsx("div",{className:"bg-white rounded-[2rem] md:rounded-[3rem] shadow-sm border border-slate-200 p-4 md:p-8 min-h-[400px]",children:u?p.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-20",children:[p.jsx("div",{className:"w-24 h-24 bg-amber-50 rounded-full flex items-center justify-center text-amber-500 mb-6 shadow-inner border border-amber-100",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),p.jsx("h3",{className:"text-xl font-black text-slate-800 mb-2 uppercase tracking-tight",children:"Seleccionar Ruta"}),p.jsx("p",{className:"text-slate-400 max-w-xs text-sm font-medium",children:"Por favor elija una zona para gestionar el rutero operativo."})]}):p.jsxs("div",{className:"w-full",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4 px-2",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-1.5 h-6 md:h-8 bg-indigo-600 rounded-full"}),p.jsx("span",{className:"text-indigo-600 font-black text-xl md:text-2xl uppercase tracking-tight",children:"Hoja de Ruta"})]}),p.jsxs("div",{className:"bg-slate-50 px-4 py-2 rounded-xl border border-slate-100 flex items-center justify-between md:justify-end gap-4",children:[p.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"HOY:"}),p.jsx("span",{className:"text-slate-700 font-black text-xs md:text-sm",children:new Date(o+"T00:00:00").toLocaleDateString("es-ES",{day:"numeric",month:"long"})})]})]}),p.jsx("div",{className:"space-y-4 max-w-5xl mx-auto w-full",children:h.length>0?h.map((b,S)=>p.jsxs("div",{className:`flex flex-col md:flex-row items-start md:items-center gap-4 md:gap-6 p-5 md:p-6 border rounded-[2rem] md:rounded-[2.5rem] transition-all relative overflow-hidden group ${b.isPaid?"bg-emerald-50 border-emerald-200":b.isPartial?"bg-amber-50 border-amber-200":"bg-white border-slate-100"}`,children:[p.jsx("div",{className:"absolute top-0 right-0",children:b.isPaid?p.jsx("div",{className:"bg-emerald-500 text-white text-[8px] md:text-[9px] font-black px-4 md:px-6 py-1.5 md:py-2 rounded-bl-2xl md:rounded-bl-3xl uppercase tracking-widest",children:"CUOTA PAGA"}):b.isPartial?p.jsx("div",{className:"bg-orange-500 text-white text-[8px] md:text-[9px] font-black px-4 md:px-6 py-1.5 md:py-2 rounded-bl-2xl md:rounded-bl-3xl uppercase tracking-widest",children:"ABONO"}):b.reason==="Mora Pendiente"&&p.jsx("div",{className:"bg-rose-500 text-white text-[8px] md:text-[9px] font-black px-4 md:px-6 py-1.5 md:py-2 rounded-bl-2xl md:rounded-bl-3xl uppercase tracking-widest",children:"MORA"})}),p.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[p.jsx("div",{className:`w-12 h-12 md:w-16 md:h-16 rounded-2xl md:rounded-[1.5rem] shrink-0 flex items-center justify-center font-black text-lg md:text-xl shadow-inner transition-all ${b.isPaid?"bg-emerald-500 text-white":b.isPartial?"bg-orange-100 text-orange-600":b.reason==="Mora Pendiente"?"bg-rose-100 text-rose-600":"bg-slate-100 text-slate-400"}`,children:b.isPaid?p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}):b.order}),p.jsxs("div",{className:"flex-1 min-w-0 md:hidden",children:[p.jsx("h4",{className:"font-black text-lg text-slate-800 truncate",children:b.name}),p.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[p.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-tighter",children:b.alias}),p.jsxs("button",{onClick:()=>i(b.credit.id),className:"bg-indigo-600 text-white text-[8px] font-black px-2 py-0.5 rounded-md uppercase tracking-widest shadow-sm",children:["#",b.credit.id.slice(-6).toUpperCase()]})]})]})]}),p.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[p.jsxs("div",{className:"hidden md:flex items-center gap-3 mb-1.5",children:[p.jsx("h4",{className:"font-black text-xl lg:text-2xl truncate text-slate-800",children:b.name}),p.jsx("span",{className:"px-2 py-0.5 rounded-lg text-[8px] lg:text-[9px] font-black border uppercase tracking-tighter bg-slate-50 border-slate-100 text-slate-400",children:b.alias}),p.jsxs("button",{onClick:()=>i(b.credit.id),className:"ml-2 bg-indigo-600 text-white px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest shadow-lg hover:bg-indigo-700 transition-all active:scale-95 flex items-center gap-1.5 group/id",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-indigo-200 group-hover/id:text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M10.172 13.828a4 4 0 015.656 0l4-4a4 4 0 10-5.656-5.656l-1.102 1.101"})]}),"#",b.credit.id.slice(-6).toUpperCase()]})]}),p.jsxs("div",{className:"space-y-1.5 md:space-y-0 md:flex md:flex-wrap md:items-center md:gap-4 lg:gap-6",children:[p.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),p.jsx("p",{className:"text-xs font-bold md:truncate md:max-w-[200px] lg:max-w-[300px] leading-tight",children:b.address})]}),p.jsx("div",{className:"pt-1 md:pt-0",children:p.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-3 py-1 rounded-lg border shadow-sm ${b.isPaid?"bg-emerald-600 border-emerald-500 text-white":"bg-white border-slate-200 text-slate-400"}`,children:b.reason})})]})]}),p.jsx("div",{className:"w-full md:w-auto flex items-center justify-between md:justify-end gap-6 pt-4 md:pt-0 border-t md:border-t-0 border-slate-100",children:p.jsxs("div",{className:"flex flex-col items-start md:items-end min-w-[100px] md:min-w-[140px]",children:[p.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest text-slate-400 mb-0.5 whitespace-nowrap",children:b.realAmount>0?"Recibido":"Cuota Sugerida"}),p.jsxs("p",{className:`text-xl md:text-3xl font-black ${b.isPaid?"text-emerald-700":b.isPartial?"text-orange-600":b.reason==="Mora Pendiente"?"text-rose-600":"text-slate-800"}`,children:["$",b.amount.toLocaleString()]})]})})]},b.credit.id)):p.jsxs("div",{className:"py-24 text-center bg-slate-50 rounded-[2rem] border border-dashed border-slate-200",children:[p.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 text-slate-200 shadow-inner",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2-2v12a2 2 0 002 2z"})})}),p.jsx("h4",{className:"text-xl font-black text-slate-300 uppercase tracking-widest italic",children:new Date(o+"T00:00:00").getDay()===0?"Domingo - Da No Laboral":"Sin Cobros Pendientes"}),p.jsx("p",{className:"text-xs text-slate-400 mt-2 font-medium",children:new Date(o+"T00:00:00").getDay()===0?"No se programan visitas de cobro los domingos.":"No se encontraron registros de cobro para esta fecha."})]})})]})})]})},yie=({selectedRouteId:e,credits:t,expenses:n,payments:r,clients:i,routes:o,transactions:l})=>{var K;const[u,d]=C.useState({start:Qe,end:Qe});C.useMemo(()=>{if(t.length===0)return"2025-01-01";const D=t.map(G=>G.startDate);return D.sort(),D[0]||"2025-01-01"},[t]);const f=D=>e==="all"||D===e,h=D=>{const G=D.split("T")[0];return G>=u.start&&G<=u.end},g=D=>D.split("T")[0]<u.start,y=C.useMemo(()=>r.filter(D=>{const G=t.find(M=>M.id===D.creditId),$=G?i.find(M=>M.id===G.clientId):null;return $&&f($.routeId)&&h(D.date)}),[r,t,i,e,u]),b=C.useMemo(()=>n.filter(D=>f(D.routeId)&&h(D.date)),[n,e,u]),S=C.useMemo(()=>t.filter(D=>{const G=i.find($=>$.id===D.clientId);return G&&f(G.routeId)&&h(D.startDate)}),[t,i,e,u]),E=C.useMemo(()=>l.filter(D=>f(D.routeId)&&h(D.date)&&D.type!=="INITIAL_BASE"),[l,e,u]),T=C.useMemo(()=>{let D=0;return l.forEach(G=>{f(G.routeId)&&(G.date<u.start||G.type==="INITIAL_BASE"&&G.date<=u.start)&&((G.type==="INITIAL_BASE"||G.type==="INJECTION")&&(D+=G.amount),G.type==="WITHDRAWAL"&&(D-=G.amount))}),r.forEach(G=>{const $=t.find(U=>U.id===G.creditId),M=$?i.find(U=>U.id===$.clientId):null;M&&f(M.routeId)&&g(G.date)&&(D+=G.amount)}),n.forEach(G=>{f(G.routeId)&&g(G.date)&&(D-=G.value)}),t.forEach(G=>{const $=i.find(M=>M.id===G.clientId);$&&f($.routeId)&&g(G.startDate)&&(D-=G.capital)}),D},[l,r,n,t,i,e,u.start]),A=y.reduce((D,G)=>D+G.amount,0),N=b.reduce((D,G)=>D+G.value,0),k=S.reduce((D,G)=>D+G.capital,0),P=E.filter(D=>D.type==="INJECTION").reduce((D,G)=>D+G.amount,0),R=E.filter(D=>D.type==="WITHDRAWAL").reduce((D,G)=>D+G.amount,0),O=T+A+P-(N+k+R),B=e==="all"?"Todas las Rutas":((K=o.find(D=>D.id===e))==null?void 0:K.name)||"Ruta Seleccionada";return p.jsxs("div",{className:"space-y-12 animate-fadeIn pb-20",children:[p.jsxs("header",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-8",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-4xl font-black text-slate-800 tracking-tight",children:"Cierre de Caja"}),p.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[p.jsx("p",{className:"text-slate-500 font-medium italic",children:"Historial operativo: "}),p.jsx("span",{className:"bg-indigo-50 text-indigo-700 px-3 py-0.5 rounded-lg text-[10px] font-black uppercase tracking-widest border border-indigo-100",children:B})]})]}),p.jsx("div",{className:"bg-white p-5 rounded-[2rem] border border-slate-200 shadow-sm flex flex-col md:flex-row items-center gap-6",children:p.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[p.jsxs("div",{className:"w-full",children:[p.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1 ml-1",children:"Desde"}),p.jsx("input",{type:"date",max:Qe,value:u.start,onChange:D=>d({...u,start:D.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 font-bold text-slate-700 text-sm focus:ring-2 focus:ring-indigo-100 outline-none"})]}),p.jsx("div",{className:"pt-5 text-slate-300",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})}),p.jsxs("div",{className:"w-full",children:[p.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1 ml-1",children:"Hasta"}),p.jsx("input",{type:"date",min:u.start,max:Qe,value:u.end,onChange:D=>d({...u,end:D.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 font-bold text-slate-700 text-sm focus:ring-2 focus:ring-indigo-100 outline-none"})]})]})})]}),p.jsx("div",{className:"bg-white rounded-[2.5rem] shadow-sm border border-slate-200 overflow-hidden animate-fadeIn",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-8 py-6 text-[11px] font-black text-slate-400 uppercase tracking-widest",children:"Concepto Contable"}),p.jsx("th",{className:"px-8 py-6 text-[11px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Valor Calculado"})]})}),p.jsxs("tbody",{className:"divide-y divide-slate-50",children:[p.jsx(hs,{label:"FONDO ACUMULADO (AL INICIO DEL PERIODO)",value:T,highlight:"text-indigo-600"}),p.jsx(hs,{label:"TOTAL RECAUDOS (ENTRADAS)",value:A,highlight:"text-emerald-600"}),p.jsx(hs,{label:"INYECCIONES DE CAPITAL (ENTRADAS)",value:P,highlight:"text-emerald-600"}),p.jsx(hs,{label:"TOTAL GASTOS OPERATIVOS (SALIDAS)",value:-N,highlight:"text-rose-600",isDeductible:!0}),p.jsx(hs,{label:"CAPITAL COLOCADO / PRSTAMOS (SALIDAS)",value:-k,highlight:"text-rose-600",isDeductible:!0}),p.jsx(hs,{label:"RETIROS DE GANANCIAS (SALIDAS)",value:-R,highlight:"text-rose-600",isDeductible:!0}),p.jsxs("tr",{className:"bg-slate-900 text-white",children:[p.jsxs("td",{className:"px-8 py-10",children:[p.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-slate-400 mb-2",children:"Resultado Matemtico"}),p.jsx("p",{className:"text-2xl font-black",children:"EFECTIVO TOTAL EN CAJA (AL CIERRE)"})]}),p.jsx("td",{className:"px-8 py-10 text-right",children:p.jsxs("p",{className:`text-4xl md:text-5xl font-black ${O>=0?"text-emerald-400":"text-rose-400"}`,children:["$",O.toLocaleString()]})})]})]})]})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[p.jsxs("section",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-3 px-4",children:[p.jsx("div",{className:"w-2 h-6 bg-rose-500 rounded-full"}),p.jsx("h3",{className:"text-sm font-black text-slate-500 uppercase tracking-[0.25em]",children:"Salidas: Gastos & Retiros"})]}),p.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-200 overflow-hidden shadow-sm",children:p.jsxs("table",{className:"w-full text-left text-xs",children:[p.jsx("thead",{className:"bg-slate-100 text-slate-500",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-4 uppercase font-black tracking-widest",children:"Concepto"}),p.jsx("th",{className:"px-6 py-4 uppercase font-black tracking-widest text-right",children:"Valor"})]})}),p.jsxs("tbody",{className:"divide-y divide-slate-50",children:[b.map(D=>p.jsxs("tr",{className:"hover:bg-slate-50",children:[p.jsxs("td",{className:"px-6 py-4",children:[p.jsx("p",{className:"font-bold text-slate-700",children:D.name}),p.jsx("p",{className:"text-[9px] text-slate-400 uppercase",children:D.date})]}),p.jsxs("td",{className:"px-6 py-4 text-right font-black text-rose-600",children:["-$",D.value.toLocaleString()]})]},D.id)),E.filter(D=>D.type==="WITHDRAWAL").map(D=>p.jsxs("tr",{className:"hover:bg-slate-50 bg-rose-50/30",children:[p.jsxs("td",{className:"px-6 py-4",children:[p.jsx("p",{className:"font-bold text-rose-800",children:D.description}),p.jsx("p",{className:"text-[9px] text-rose-400 uppercase",children:D.date})]}),p.jsxs("td",{className:"px-6 py-4 text-right font-black text-rose-600",children:["-$",D.amount.toLocaleString()]})]},D.id))]})]})})]}),p.jsxs("section",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-3 px-4",children:[p.jsx("div",{className:"w-2 h-6 bg-emerald-500 rounded-full"}),p.jsx("h3",{className:"text-sm font-black text-slate-500 uppercase tracking-[0.25em]",children:"Entradas: Recaudos & Inyecciones"})]}),p.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-200 overflow-hidden shadow-sm",children:p.jsxs("table",{className:"w-full text-left text-xs",children:[p.jsx("thead",{className:"bg-slate-100 text-slate-500",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-4 uppercase font-black tracking-widest",children:"Origen"}),p.jsx("th",{className:"px-6 py-4 uppercase font-black tracking-widest text-right",children:"Valor"})]})}),p.jsxs("tbody",{className:"divide-y divide-slate-50",children:[y.map(D=>{const G=t.find(M=>M.id===D.creditId),$=G?i.find(M=>M.id===G.clientId):null;return p.jsxs("tr",{className:"hover:bg-slate-50",children:[p.jsxs("td",{className:"px-6 py-4",children:[p.jsx("p",{className:"font-bold text-slate-700",children:($==null?void 0:$.name)||"Cliente"}),p.jsxs("p",{className:"text-[9px] text-slate-400 uppercase",children:[D.date,"  CR#",D.creditId.slice(-4)]})]}),p.jsxs("td",{className:"px-6 py-4 text-right font-black text-emerald-600",children:["+$",D.amount.toLocaleString()]})]},D.id)}),E.filter(D=>D.type==="INJECTION").map(D=>p.jsxs("tr",{className:"hover:bg-slate-50 bg-emerald-50/30",children:[p.jsxs("td",{className:"px-6 py-4",children:[p.jsx("p",{className:"font-bold text-emerald-800",children:D.description}),p.jsx("p",{className:"text-[9px] text-emerald-500 uppercase",children:D.date})]}),p.jsxs("td",{className:"px-6 py-4 text-right font-black text-emerald-600",children:["+$",D.amount.toLocaleString()]})]},D.id))]})]})})]})]}),p.jsxs("section",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-3 px-4",children:[p.jsx("div",{className:"w-2 h-6 bg-indigo-500 rounded-full"}),p.jsx("h3",{className:"text-sm font-black text-slate-500 uppercase tracking-[0.25em]",children:"Nuevos Prstamos"})]}),p.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-200 overflow-hidden shadow-sm",children:p.jsxs("table",{className:"w-full text-left text-xs",children:[p.jsx("thead",{className:"bg-slate-900 text-white",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-8 py-5 uppercase font-black tracking-widest",children:"Cliente"}),p.jsx("th",{className:"px-8 py-5 uppercase font-black tracking-widest text-right",children:"Capital"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:S.map(D=>{const G=i.find($=>$.id===D.clientId);return p.jsxs("tr",{className:"hover:bg-slate-50",children:[p.jsxs("td",{className:"px-8 py-5",children:[p.jsx("p",{className:"font-black text-slate-700 uppercase",children:(G==null?void 0:G.name)||"---"}),p.jsxs("p",{className:"text-[9px] text-slate-400 font-bold uppercase",children:["ID: #",D.id.slice(-6)]})]}),p.jsxs("td",{className:"px-8 py-5 text-right font-black text-rose-600 text-base",children:["-$",D.capital.toLocaleString()]})]},D.id)})})]})})]})]})},hs=({label:e,value:t,highlight:n="text-slate-800",isDeductible:r=!1})=>p.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[p.jsx("td",{className:"px-8 py-5 text-xs md:text-sm font-black text-slate-600 uppercase tracking-tight",children:e}),p.jsx("td",{className:`px-8 py-5 text-lg md:text-xl font-black text-right ${n}`,children:r?`- $${Math.abs(t).toLocaleString()}`:`$${t.toLocaleString()}`})]});function xie(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ff={exports:{}};const bie={},wie=Object.freeze(Object.defineProperty({__proto__:null,default:bie},Symbol.toStringTag,{value:"Module"})),_ie=s5(wie);var Sie=ff.exports,BI;function Eie(){return BI||(BI=1,(function(e){/**
 * @license bcrypt.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bcrypt.js for details
 */(function(t,n){typeof xie=="function"&&e&&e.exports?e.exports=n():(t.dcodeIO=t.dcodeIO||{}).bcrypt=n()})(Sie,function(){var t={},n=null;function r($){if(e&&e.exports)try{return _ie.randomBytes($)}catch{}try{var M;return(self.crypto||self.msCrypto).getRandomValues(M=new Uint32Array($)),Array.prototype.slice.call(M)}catch{}if(!n)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return n($)}var i=!1;try{r(1),i=!0}catch{}n=null,t.setRandomFallback=function($){n=$},t.genSaltSync=function($,M){if($=$||E,typeof $!="number")throw Error("Illegal arguments: "+typeof $+", "+typeof M);$<4?$=4:$>31&&($=31);var U=[];return U.push("$2a$"),$<10&&U.push("0"),U.push($.toString()),U.push("$"),U.push(g(r(S),S)),U.join("")},t.genSalt=function($,M,U){if(typeof M=="function"&&(U=M,M=void 0),typeof $=="function"&&(U=$,$=void 0),typeof $>"u")$=E;else if(typeof $!="number")throw Error("illegal arguments: "+typeof $);function L(q){l(function(){try{q(null,t.genSaltSync($))}catch(z){q(z)}})}if(U){if(typeof U!="function")throw Error("Illegal callback: "+typeof U);L(U)}else return new Promise(function(q,z){L(function(F,ne){if(F){z(F);return}q(ne)})})},t.hashSync=function($,M){if(typeof M>"u"&&(M=E),typeof M=="number"&&(M=t.genSaltSync(M)),typeof $!="string"||typeof M!="string")throw Error("Illegal arguments: "+typeof $+", "+typeof M);return G($,M)},t.hash=function($,M,U,L){function q(z){typeof $=="string"&&typeof M=="number"?t.genSalt(M,function(F,ne){G($,ne,z,L)}):typeof $=="string"&&typeof M=="string"?G($,M,z,L):l(z.bind(this,Error("Illegal arguments: "+typeof $+", "+typeof M)))}if(U){if(typeof U!="function")throw Error("Illegal callback: "+typeof U);q(U)}else return new Promise(function(z,F){q(function(ne,X){if(ne){F(ne);return}z(X)})})};function o($,M){for(var U=0,L=0,q=0,z=$.length;q<z;++q)$.charCodeAt(q)===M.charCodeAt(q)?++U:++L;return U<0?!1:L===0}t.compareSync=function($,M){if(typeof $!="string"||typeof M!="string")throw Error("Illegal arguments: "+typeof $+", "+typeof M);return M.length!==60?!1:o(t.hashSync($,M.substr(0,M.length-31)),M)},t.compare=function($,M,U,L){function q(z){if(typeof $!="string"||typeof M!="string"){l(z.bind(this,Error("Illegal arguments: "+typeof $+", "+typeof M)));return}if(M.length!==60){l(z.bind(this,null,!1));return}t.hash($,M.substr(0,29),function(F,ne){F?z(F):z(null,o(ne,M))},L)}if(U){if(typeof U!="function")throw Error("Illegal callback: "+typeof U);q(U)}else return new Promise(function(z,F){q(function(ne,X){if(ne){F(ne);return}z(X)})})},t.getRounds=function($){if(typeof $!="string")throw Error("Illegal arguments: "+typeof $);return parseInt($.split("$")[2],10)},t.getSalt=function($){if(typeof $!="string")throw Error("Illegal arguments: "+typeof $);if($.length!==60)throw Error("Illegal hash length: "+$.length+" != 60");return $.substring(0,29)};var l=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function u($){var M=[],U=0;return b.encodeUTF16toUTF8(function(){return U>=$.length?null:$.charCodeAt(U++)},function(L){M.push(L)}),M}var d="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),f=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],h=String.fromCharCode;function g($,M){var U=0,L=[],q,z;if(M<=0||M>$.length)throw Error("Illegal len: "+M);for(;U<M;){if(q=$[U++]&255,L.push(d[q>>2&63]),q=(q&3)<<4,U>=M){L.push(d[q&63]);break}if(z=$[U++]&255,q|=z>>4&15,L.push(d[q&63]),q=(z&15)<<2,U>=M){L.push(d[q&63]);break}z=$[U++]&255,q|=z>>6&3,L.push(d[q&63]),L.push(d[z&63])}return L.join("")}function y($,M){var U=0,L=$.length,q=0,z=[],F,ne,X,oe,V,J;if(M<=0)throw Error("Illegal len: "+M);for(;U<L-1&&q<M&&(J=$.charCodeAt(U++),F=J<f.length?f[J]:-1,J=$.charCodeAt(U++),ne=J<f.length?f[J]:-1,!(F==-1||ne==-1||(V=F<<2>>>0,V|=(ne&48)>>4,z.push(h(V)),++q>=M||U>=L)||(J=$.charCodeAt(U++),X=J<f.length?f[J]:-1,X==-1)||(V=(ne&15)<<4>>>0,V|=(X&60)>>2,z.push(h(V)),++q>=M||U>=L)));)J=$.charCodeAt(U++),oe=J<f.length?f[J]:-1,V=(X&3)<<6>>>0,V|=oe,z.push(h(V)),++q;var ce=[];for(U=0;U<q;U++)ce.push(z[U].charCodeAt(0));return ce}var b=(function(){var $={};return $.MAX_CODEPOINT=1114111,$.encodeUTF8=function(M,U){var L=null;for(typeof M=="number"&&(L=M,M=function(){return null});L!==null||(L=M())!==null;)L<128?U(L&127):L<2048?(U(L>>6&31|192),U(L&63|128)):L<65536?(U(L>>12&15|224),U(L>>6&63|128),U(L&63|128)):(U(L>>18&7|240),U(L>>12&63|128),U(L>>6&63|128),U(L&63|128)),L=null},$.decodeUTF8=function(M,U){for(var L,q,z,F,ne=function(X){X=X.slice(0,X.indexOf(null));var oe=Error(X.toString());throw oe.name="TruncatedError",oe.bytes=X,oe};(L=M())!==null;)if((L&128)===0)U(L);else if((L&224)===192)(q=M())===null&&ne([L,q]),U((L&31)<<6|q&63);else if((L&240)===224)((q=M())===null||(z=M())===null)&&ne([L,q,z]),U((L&15)<<12|(q&63)<<6|z&63);else if((L&248)===240)((q=M())===null||(z=M())===null||(F=M())===null)&&ne([L,q,z,F]),U((L&7)<<18|(q&63)<<12|(z&63)<<6|F&63);else throw RangeError("Illegal starting byte: "+L)},$.UTF16toUTF8=function(M,U){for(var L,q=null;(L=q!==null?q:M())!==null;){if(L>=55296&&L<=57343&&(q=M())!==null&&q>=56320&&q<=57343){U((L-55296)*1024+q-56320+65536),q=null;continue}U(L)}q!==null&&U(q)},$.UTF8toUTF16=function(M,U){var L=null;for(typeof M=="number"&&(L=M,M=function(){return null});L!==null||(L=M())!==null;)L<=65535?U(L):(L-=65536,U((L>>10)+55296),U(L%1024+56320)),L=null},$.encodeUTF16toUTF8=function(M,U){$.UTF16toUTF8(M,function(L){$.encodeUTF8(L,U)})},$.decodeUTF8toUTF16=function(M,U){$.decodeUTF8(M,function(L){$.UTF8toUTF16(L,U)})},$.calculateCodePoint=function(M){return M<128?1:M<2048?2:M<65536?3:4},$.calculateUTF8=function(M){for(var U,L=0;(U=M())!==null;)L+=$.calculateCodePoint(U);return L},$.calculateUTF16asUTF8=function(M){var U=0,L=0;return $.UTF16toUTF8(M,function(q){++U,L+=$.calculateCodePoint(q)}),[U,L]},$})();Date.now=Date.now||function(){return+new Date};var S=16,E=10,T=16,A=100,N=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],k=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],P=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function R($,M,U,L){var q,z=$[M],F=$[M+1];return z^=U[0],q=L[z>>>24],q+=L[256|z>>16&255],q^=L[512|z>>8&255],q+=L[768|z&255],F^=q^U[1],q=L[F>>>24],q+=L[256|F>>16&255],q^=L[512|F>>8&255],q+=L[768|F&255],z^=q^U[2],q=L[z>>>24],q+=L[256|z>>16&255],q^=L[512|z>>8&255],q+=L[768|z&255],F^=q^U[3],q=L[F>>>24],q+=L[256|F>>16&255],q^=L[512|F>>8&255],q+=L[768|F&255],z^=q^U[4],q=L[z>>>24],q+=L[256|z>>16&255],q^=L[512|z>>8&255],q+=L[768|z&255],F^=q^U[5],q=L[F>>>24],q+=L[256|F>>16&255],q^=L[512|F>>8&255],q+=L[768|F&255],z^=q^U[6],q=L[z>>>24],q+=L[256|z>>16&255],q^=L[512|z>>8&255],q+=L[768|z&255],F^=q^U[7],q=L[F>>>24],q+=L[256|F>>16&255],q^=L[512|F>>8&255],q+=L[768|F&255],z^=q^U[8],q=L[z>>>24],q+=L[256|z>>16&255],q^=L[512|z>>8&255],q+=L[768|z&255],F^=q^U[9],q=L[F>>>24],q+=L[256|F>>16&255],q^=L[512|F>>8&255],q+=L[768|F&255],z^=q^U[10],q=L[z>>>24],q+=L[256|z>>16&255],q^=L[512|z>>8&255],q+=L[768|z&255],F^=q^U[11],q=L[F>>>24],q+=L[256|F>>16&255],q^=L[512|F>>8&255],q+=L[768|F&255],z^=q^U[12],q=L[z>>>24],q+=L[256|z>>16&255],q^=L[512|z>>8&255],q+=L[768|z&255],F^=q^U[13],q=L[F>>>24],q+=L[256|F>>16&255],q^=L[512|F>>8&255],q+=L[768|F&255],z^=q^U[14],q=L[z>>>24],q+=L[256|z>>16&255],q^=L[512|z>>8&255],q+=L[768|z&255],F^=q^U[15],q=L[F>>>24],q+=L[256|F>>16&255],q^=L[512|F>>8&255],q+=L[768|F&255],z^=q^U[16],$[M]=F^U[T+1],$[M+1]=z,$}function O($,M){for(var U=0,L=0;U<4;++U)L=L<<8|$[M]&255,M=(M+1)%$.length;return{key:L,offp:M}}function B($,M,U){for(var L=0,q=[0,0],z=M.length,F=U.length,ne,X=0;X<z;X++)ne=O($,L),L=ne.offp,M[X]=M[X]^ne.key;for(X=0;X<z;X+=2)q=R(q,0,M,U),M[X]=q[0],M[X+1]=q[1];for(X=0;X<F;X+=2)q=R(q,0,M,U),U[X]=q[0],U[X+1]=q[1]}function K($,M,U,L){for(var q=0,z=[0,0],F=U.length,ne=L.length,X,oe=0;oe<F;oe++)X=O(M,q),q=X.offp,U[oe]=U[oe]^X.key;for(q=0,oe=0;oe<F;oe+=2)X=O($,q),q=X.offp,z[0]^=X.key,X=O($,q),q=X.offp,z[1]^=X.key,z=R(z,0,U,L),U[oe]=z[0],U[oe+1]=z[1];for(oe=0;oe<ne;oe+=2)X=O($,q),q=X.offp,z[0]^=X.key,X=O($,q),q=X.offp,z[1]^=X.key,z=R(z,0,U,L),L[oe]=z[0],L[oe+1]=z[1]}function D($,M,U,L,q){var z=P.slice(),F=z.length,ne;if(U<4||U>31)if(ne=Error("Illegal number of rounds (4-31): "+U),L){l(L.bind(this,ne));return}else throw ne;if(M.length!==S)if(ne=Error("Illegal salt length: "+M.length+" != "+S),L){l(L.bind(this,ne));return}else throw ne;U=1<<U>>>0;var X,oe,V=0,J;Int32Array?(X=new Int32Array(N),oe=new Int32Array(k)):(X=N.slice(),oe=k.slice()),K(M,$,X,oe);function ce(){if(q&&q(V/U),V<U)for(var se=Date.now();V<U&&(V=V+1,B($,X,oe),B(M,X,oe),!(Date.now()-se>A)););else{for(V=0;V<64;V++)for(J=0;J<F>>1;J++)R(z,J<<1,X,oe);var de=[];for(V=0;V<F;V++)de.push((z[V]>>24&255)>>>0),de.push((z[V]>>16&255)>>>0),de.push((z[V]>>8&255)>>>0),de.push((z[V]&255)>>>0);if(L){L(null,de);return}else return de}L&&l(ce)}if(typeof L<"u")ce();else for(var pe;;)if(typeof(pe=ce())<"u")return pe||[]}function G($,M,U,L){var q;if(typeof $!="string"||typeof M!="string")if(q=Error("Invalid string / salt: Not a string"),U){l(U.bind(this,q));return}else throw q;var z,F;if(M.charAt(0)!=="$"||M.charAt(1)!=="2")if(q=Error("Invalid salt version: "+M.substring(0,2)),U){l(U.bind(this,q));return}else throw q;if(M.charAt(2)==="$")z="\0",F=3;else{if(z=M.charAt(2),z!=="a"&&z!=="b"&&z!=="y"||M.charAt(3)!=="$")if(q=Error("Invalid salt revision: "+M.substring(2,4)),U){l(U.bind(this,q));return}else throw q;F=4}if(M.charAt(F+2)>"$")if(q=Error("Missing salt rounds"),U){l(U.bind(this,q));return}else throw q;var ne=parseInt(M.substring(F,F+1),10)*10,X=parseInt(M.substring(F+1,F+2),10),oe=ne+X,V=M.substring(F+3,F+25);$+=z>="a"?"\0":"";var J=u($),ce=y(V,S);function pe(se){var de=[];return de.push("$2"),z>="a"&&de.push(z),de.push("$"),oe<10&&de.push("0"),de.push(oe.toString()),de.push("$"),de.push(g(ce,ce.length)),de.push(g(se,P.length*4-1)),de.join("")}if(typeof U>"u")return pe(D(J,ce,oe));D(J,ce,oe,function(se,de){se?U(se,null):U(null,pe(de))},L)}return t.encodeBase64=g,t.decodeBase64=y,t})})(ff)),ff.exports}var Tie=Eie();const pD=kr(Tie),Aie=10,mD=e=>e?pD.hashSync(e,Aie):"",gD=(e,t)=>{if(!e||!t)return!1;try{return pD.compareSync(e,t)}catch(n){return console.error("Error decodificando hash:",n),!1}};function hp(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Cie(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(g){l(g)}}function d(h){try{f(r.throw(h))}catch(g){l(g)}}function f(h){h.done?o(h.value):i(h.value).then(u,d)}f((r=r.apply(e,t||[])).next())})}const Nie=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Kb extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Iie extends Kb{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class $I extends Kb{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class zI extends Kb{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ky;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ky||(Ky={}));class kie{constructor(t,{headers:n={},customFetch:r,region:i=Ky.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Nie(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Cie(this,arguments,void 0,function*(n,r={}){var i;let o,l;try{const{headers:u,method:d,body:f,signal:h,timeout:g}=r;let y={},{region:b}=r;b||(b=this.region);const S=new URL(`${this.url}/${n}`);b&&b!=="any"&&(y["x-region"]=b,S.searchParams.set("forceFunctionRegion",b));let E;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",E=f):typeof f=="string"?(y["Content-Type"]="text/plain",E=f):typeof FormData<"u"&&f instanceof FormData?E=f:(y["Content-Type"]="application/json",E=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?E=JSON.stringify(f):E=f;let T=h;g&&(l=new AbortController,o=setTimeout(()=>l.abort(),g),h?(T=l.signal,h.addEventListener("abort",()=>l.abort())):T=l.signal);const A=yield this.fetch(S.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),u),body:E,signal:T}).catch(R=>{throw new Iie(R)}),N=A.headers.get("x-relay-error");if(N&&N==="true")throw new $I(A);if(!A.ok)throw new zI(A);let k=((i=A.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),P;return k==="application/json"?P=yield A.json():k==="application/octet-stream"||k==="application/pdf"?P=yield A.blob():k==="text/event-stream"?P=A:k==="multipart/form-data"?P=yield A.formData():P=yield A.text(),{data:P,error:null,response:A}}catch(u){return{data:null,error:u,response:u instanceof zI||u instanceof $I?u.context:void 0}}finally{o&&clearTimeout(o)}})}}var Rie=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Pie=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let l=null,u=null,d=null,f=o.status,h=o.statusText;if(o.ok){var g,y;if(n.method!=="HEAD"){var b;const A=await o.text();A===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((b=n.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?u=A:u=JSON.parse(A))}const E=(g=n.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),T=(y=o.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");E&&T&&T.length>1&&(d=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var S;const E=await o.text();try{l=JSON.parse(E),Array.isArray(l)&&o.status===404&&(u=[],l=null,f=200,h="OK")}catch{o.status===404&&E===""?(f=204,h="No Content"):l={message:E}}if(l&&n.isMaybeSingle&&(!(l==null||(S=l.details)===null||S===void 0)&&S.includes("0 rows"))&&(l=null,f=200,h="OK"),l&&n.shouldThrowOnError)throw new Rie(l)}return{error:l,data:u,count:d,status:f,statusText:h}});return this.shouldThrowOnError||(i=i.catch(o=>{var l;let u="";const d=o==null?void 0:o.cause;if(d){var f,h,g,y;const S=(f=d==null?void 0:d.message)!==null&&f!==void 0?f:"",E=(h=d==null?void 0:d.code)!==null&&h!==void 0?h:"";u=`${(g=o==null?void 0:o.name)!==null&&g!==void 0?g:"FetchError"}: ${o==null?void 0:o.message}`,u+=`

Caused by: ${(y=d==null?void 0:d.name)!==null&&y!==void 0?y:"Error"}: ${S}`,E&&(u+=` (${E})`),d!=null&&d.stack&&(u+=`
${d.stack}`)}else{var b;u=(b=o==null?void 0:o.stack)!==null&&b!==void 0?b:""}return{error:{message:`${(l=o==null?void 0:o.name)!==null&&l!==void 0?l:"FetchError"}: ${o==null?void 0:o.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},Oie=class extends Pie{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var l;const u=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const qI=new RegExp("[,()]");var _s=class extends Oie{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&qI.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&qI.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},Mie=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let o=!1;const l=(e??"*").split("").map(f=>/\s/.test(f)&&!o?"":(f==='"'&&(o=!o),f)).join(""),{url:u,headers:d}=this.cloneRequestState();return u.searchParams.set("select",l),r&&d.append("Prefer",`count=${r}`),new _s({method:i,url:u,headers:d,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:o,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),n||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);o.searchParams.set("columns",d.join(","))}}return new _s({method:i,url:o,headers:l,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const l="POST",{url:u,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&u.searchParams.set("on_conflict",t),r&&d.append("Prefer",`count=${r}`),i||d.append("Prefer","missing=default"),Array.isArray(e)){const f=e.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(f.length>0){const h=[...new Set(f)].map(g=>`"${g}"`);u.searchParams.set("columns",h.join(","))}}return new _s({method:l,url:u,headers:d,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new _s({method:r,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new _s({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Die=class vD{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Mie(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new vD(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var l;let u;const d=new URL(`${this.url}/rpc/${t}`);let f;const h=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(h)),g=r&&Object.values(n).some(h);g?(u="POST",f=n):r||i?(u=r?"HEAD":"GET",Object.entries(n).filter(([b,S])=>S!==void 0).map(([b,S])=>[b,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([b,S])=>{d.searchParams.append(b,S)})):(u="POST",f=n);const y=new Headers(this.headers);return g?y.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&y.set("Prefer",`count=${o}`),new _s({method:u,url:d,headers:y,schema:this.schemaName,body:f,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class jie{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Lie="2.91.1",Uie=`realtime-js/${Lie}`,Bie="1.0.0",yD="2.0.0",VI=yD,Wy=1e4,$ie=1e3,zie=100;var fa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fa||(fa={}));var kt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(kt||(kt={}));var br;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(br||(br={}));var Yy;(function(e){e.websocket="websocket"})(Yy||(Yy={}));var Xa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Xa||(Xa={}));class qie{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,r){var i,o;const l=t.topic,u=(i=t.ref)!==null&&i!==void 0?i:"",d=(o=t.join_ref)!==null&&o!==void 0?o:"",f=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(h).length===0?"":JSON.stringify(h);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+f.length+g.length,b=new ArrayBuffer(this.HEADER_LENGTH+y);let S=new DataView(b),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,d.length),S.setUint8(E++,u.length),S.setUint8(E++,l.length),S.setUint8(E++,f.length),S.setUint8(E++,g.length),S.setUint8(E++,n),Array.from(d,A=>S.setUint8(E++,A.charCodeAt(0))),Array.from(u,A=>S.setUint8(E++,A.charCodeAt(0))),Array.from(l,A=>S.setUint8(E++,A.charCodeAt(0))),Array.from(f,A=>S.setUint8(E++,A.charCodeAt(0))),Array.from(g,A=>S.setUint8(E++,A.charCodeAt(0)));var T=new Uint8Array(b.byteLength+r.byteLength);return T.set(new Uint8Array(b),0),T.set(new Uint8Array(r),b.byteLength),T.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,o,l,u,d]=r;return n({join_ref:i,ref:o,topic:l,event:u,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3),u=n.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(t.slice(d,d+i));d=d+i;const h=r.decode(t.slice(d,d+o));d=d+o;const g=r.decode(t.slice(d,d+l));d=d+l;const y=t.slice(d,t.byteLength),b=u===this.JSON_ENCODING?JSON.parse(r.decode(y)):y,S={type:this.BROADCAST_EVENT,event:h,payload:b};return l>0&&(S.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class xD{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(rt||(rt={}));const GI=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=Vie(l,e,t,i),o),{}):{}},Vie=(e,t,n,r)=>{const i=t.find(u=>u.name===e),o=i==null?void 0:i.type,l=n[e];return o&&!r.includes(o)?bD(o,l):Jy(l)},bD=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Kie(t,n)}switch(e){case rt.bool:return Gie(t);case rt.float4:case rt.float8:case rt.int2:case rt.int4:case rt.int8:case rt.numeric:case rt.oid:return Hie(t);case rt.json:case rt.jsonb:return Fie(t);case rt.timestamp:return Wie(t);case rt.abstime:case rt.date:case rt.daterange:case rt.int4range:case rt.int8range:case rt.money:case rt.reltime:case rt.text:case rt.time:case rt.timestamptz:case rt.timetz:case rt.tsrange:case rt.tstzrange:return Jy(t);default:return Jy(t)}},Jy=e=>e,Gie=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Hie=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Fie=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Kie=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>bD(t,u))}return e},Wie=e=>typeof e=="string"?e.replace(" ","T"):e,wD=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Tv{constructor(t,n,r={},i=Wy){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var HI;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(HI||(HI={}));class vu{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vu.syncState(this.state,i,o,l),this.pendingDiffs.forEach(d=>{this.state=vu.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=vu.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),l=this.transformState(n),u={},d={};return this.map(o,(f,h)=>{l[f]||(d[f]=h)}),this.map(l,(f,h)=>{const g=o[f];if(g){const y=h.map(T=>T.presence_ref),b=g.map(T=>T.presence_ref),S=h.filter(T=>b.indexOf(T.presence_ref)<0),E=g.filter(T=>y.indexOf(T.presence_ref)<0);S.length>0&&(u[f]=S),E.length>0&&(d[f]=E)}else u[f]=h}),this.syncDiff(o,{joins:u,leaves:d},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(u,d)=>{var f;const h=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(d),h.length>0){const g=t[u].map(b=>b.presence_ref),y=h.filter(b=>g.indexOf(b.presence_ref)<0);t[u].unshift(...y)}r(u,h,d)}),this.map(l,(u,d)=>{let f=t[u];if(!f)return;const h=d.map(g=>g.presence_ref);f=f.filter(g=>h.indexOf(g.presence_ref)<0),t[u]=f,i(u,f,d),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var FI;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(FI||(FI={}));var yu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(yu||(yu={}));var pi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pi||(pi={}));class Is{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Tv(this,br.join,this.params,this.timeout),this.rejoinTimer=new xD(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(br.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new vu(this),this.broadcastEndpointURL=wD(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==kt.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[yu.PRESENCE]&&this.bindings[yu.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,g={},y={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(b=>t==null?void 0:t(pi.CHANNEL_ERROR,b)),this._onClose(()=>t==null?void 0:t(pi.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){t==null||t(pi.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,T=(S=E==null?void 0:E.length)!==null&&S!==void 0?S:0,A=[];for(let N=0;N<T;N++){const k=E[N],{filter:{event:P,schema:R,table:O,filter:B}}=k,K=b&&b[N];if(K&&K.event===P&&Is.isFilterValueEqual(K.schema,R)&&Is.isFilterValueEqual(K.table,O)&&Is.isFilterValueEqual(K.filter,B))A.push(Object.assign(Object.assign({},k),{id:K.id}));else{this.unsubscribe(),this.state=kt.errored,t==null||t(pi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,t&&t(pi.SUBSCRIBED);return}}).receive("error",b=>{this.state=kt.errored,t==null||t(pi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(pi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===kt.joined&&t===yu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=kt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(br.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Tv(this,br.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=kt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Tv(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>zie){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:f,join:h}=br;if(r&&[u,d,f,h].indexOf(l)>=0&&r!==this._joinRef())return;let y=this._onMessage(l,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var S,E,T;return((S=b.filter)===null||S===void 0?void 0:S.event)==="*"||((T=(E=b.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===l}).map(b=>b.callback(y,r)):(o=this.bindings[l])===null||o===void 0||o.filter(b=>{var S,E,T,A,N,k,P,R;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const O=b.id,B=(S=b.filter)===null||S===void 0?void 0:S.event;return O&&((E=n.ids)===null||E===void 0?void 0:E.includes(O))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))&&(!(!((A=b.filter)===null||A===void 0)&&A.table)||b.filter.table===((N=n.data)===null||N===void 0?void 0:N.table))}else{const O=(P=(k=b==null?void 0:b.filter)===null||k===void 0?void 0:k.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return O==="*"||O===((R=n==null?void 0:n.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:E,table:T,commit_timestamp:A,type:N,errors:k}=S;y=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:A,eventType:N,new:{},old:{},errors:k}),this._getPayloadRecords(S))}b.callback(y,r)})}_isClosed(){return this.state===kt.closed}_isJoined(){return this.state===kt.joined}_isJoining(){return this.state===kt.joining}_isLeaving(){return this.state===kt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Is.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(br.close,{},t)}_onError(t){this._on(br.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=GI(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=GI(t.columns,t.old_record)),n}}const Av=()=>{},Xd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Yie=[1e3,2e3,5e3,1e4],Jie=1e4,Xie=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zie{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Wy,this.transport=null,this.heartbeatIntervalMs=Xd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Av,this.ref=0,this.reconnectTimer=null,this.vsn=VI,this.logger=Av,this.conn=null,this.sendBuffer=[],this.serializer=new qie,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Yy.websocket}`,this.httpEndpoint=wD(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jie.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fa.connecting:return Xa.Connecting;case fa.open:return Xa.Open;case fa.closing:return Xa.Closing;default:return Xa.Closed}}isConnected(){return this.connectionState()===Xa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Is(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close($ie,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Xd.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",f)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:o,ref:l}=n,u=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${r} ${i} ${u}`.trim(),o),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===fa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===fa.open||this.conn.readyState===fa.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(br.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Xie],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:Uie};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(br.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new xD(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,l,u,d,f,h,g,y,b;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Wy,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Xd.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:Av,this.vsn=(d=t==null?void 0:t.vsn)!==null&&d!==void 0?d:VI,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t==null?void 0:t.reconnectAfterMs)!==null&&f!==void 0?f:(S=>Yie[S-1]||Jie),this.vsn){case Bie:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:((S,E)=>E(JSON.stringify(S))),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:((S,E)=>E(JSON.parse(S)));break;case yD:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(b=t==null?void 0:t.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Uu=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Qie(e,t,n){const r=new URL(t,e);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function eae(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function tae(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:l}){const u=Qie(e.baseUrl,r,i),d=await eae(e.auth),f=await t(u,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...d,...l},body:o?JSON.stringify(o):void 0}),h=await f.text(),g=(f.headers.get("content-type")||"").includes("application/json"),y=g&&h?JSON.parse(h):h;if(!f.ok){const b=g?y:void 0,S=b==null?void 0:b.error;throw new Uu((S==null?void 0:S.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:b})}return{status:f.status,headers:f.headers,data:y}}}}function Zd(e){return e.join("")}var nae=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Zd(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zd(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zd(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zd(e.namespace)}`}),!0}catch(t){if(t instanceof Uu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Uu&&n.status===409)return;throw n}}};function ps(e){return e.join("")}var rae=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ps(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ps(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ps(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ps(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ps(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ps(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Uu&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Uu&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},iae=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=tae({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new nae(this.client,t),this.tableOps=new rae(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},pp=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function dt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var aae=class extends pp{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Xy=class extends pp{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Wb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),oae=()=>Response,Zy=e=>{if(Array.isArray(e))return e.map(n=>Zy(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Zy(r)}),t},sae=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lae=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function uae(e,t){if(Bu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cae(e){var t=uae(e,"string");return Bu(t)=="symbol"?t:t+""}function dae(e,t,n){return(t=cae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KI(Object(n),!0).forEach(function(r){dae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Cv=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},fae=async(e,t,n)=>{e instanceof await oae()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const i=e.status||500,o=(r==null?void 0:r.statusCode)||i+"";t(new aae(Cv(r),i,o))}).catch(r=>{t(new Xy(Cv(r),r))}):t(new Xy(Cv(e),e))},hae=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(sae(r)?(i.headers=Ae({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Ae(Ae({},i),n))};async function uc(e,t,n,r,i,o){return new Promise((l,u)=>{e(n,hae(t,r,i,o)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>fae(d,u,r))})}async function $u(e,t,n,r){return uc(e,"GET",t,n,r)}async function xr(e,t,n,r,i){return uc(e,"POST",t,r,i,n)}async function Qy(e,t,n,r,i){return uc(e,"PUT",t,r,i,n)}async function pae(e,t,n,r){return uc(e,"HEAD",t,Ae(Ae({},n),{},{noResolveJson:!0}),r)}async function Yb(e,t,n,r,i){return uc(e,"DELETE",t,r,i,n)}var mae=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}}};let _D;_D=Symbol.toStringTag;var gae=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[_D]="BlobDownloadBuilder",this.promise=null}asStream(){return new mae(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}}};const vae={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},WI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var yae=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Wb(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var i=this;try{let o;const l=Ae(Ae({},WI),r);let u=Ae(Ae({},i.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",i.encodeMetadata(d)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),d&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(d))):(o=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),r!=null&&r.headers&&(u=Ae(Ae({},u),r.headers));const f=i._removeEmptyFolders(t),h=i._getFinalPath(f),g=await(e=="PUT"?Qy:xr)(i.fetch,`${i.url}/object/${h}`,o,Ae({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:g.Id,fullPath:g.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(dt(o))return{data:null,error:o};throw o}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const o=i._removeEmptyFolders(e),l=i._getFinalPath(o),u=new URL(i.url+`/object/upload/sign/${l}`);u.searchParams.set("token",t);try{let d;const f=Ae({upsert:WI.upsert},r),h=Ae(Ae({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType),{data:{path:o,fullPath:(await Qy(i.fetch,u.toString(),d,{headers:h})).Key},error:null}}catch(d){if(i.shouldThrowOnError)throw d;if(dt(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const i=Ae({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const o=await xr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(n.url+o.url),u=l.searchParams.get("token");if(!u)throw new pp("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await xr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}}async copy(e,t,n){var r=this;try{return{data:{path:(await xr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,n){var r=this;try{let i=r._getFinalPath(e),o=await xr(r.fetch,`${r.url}/object/sign/${i}`,Ae({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,n){var r=this;try{const i=await xr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(l=>Ae(Ae({},l),{},{signedUrl:l.signedURL?encodeURI(`${r.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=r?`?${r}`:"",o=this._getFinalPath(e),l=()=>$u(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new gae(l,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Zy(await $u(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await pae(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(dt(r)&&r instanceof Xy){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}async remove(e){var t=this;try{return{data:await Yb(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const i=Ae(Ae(Ae({},vae),t),{},{prefix:e||""});return{data:await xr(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}}async listV2(e,t){var n=this;try{const r=Ae({},e);return{data:await xr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const SD="2.91.1",ED={"X-Client-Info":`storage-js/${SD}`};var xae=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Ae(Ae({},ED),t),this.fetch=Wb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await $u(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await $u(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await xr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Qy(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await xr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Yb(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},bae=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ae(Ae({},ED),t),this.fetch=Wb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await xr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await $u(t.fetch,i,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Yb(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!lae(e))throw new pp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new iae({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const l=i[o];return typeof l!="function"?l:async(...u)=>{try{return{data:await l.apply(i,u),error:null}}catch(d){if(r)throw d;return{data:null,error:d}}}}})}};const Jb={"X-Client-Info":`storage-js/${SD}`,"Content-Type":"application/json"};var TD=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Vn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Nv=class extends TD{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},wae=class extends TD{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Xb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_ae=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},YI=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Sae=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";t(new Nv(YI(o),r,l))}).catch(()=>{const o=r+"";t(new Nv(i.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";t(new Nv(i.statusText||`HTTP ${r} error`,r,o))}}else t(new wae(YI(e),e))},Eae=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(_ae(r)?(i.headers=Ae({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Ae(Ae({},i),n)):i};async function Tae(e,t,n,r,i,o){return new Promise((l,u)=>{e(n,Eae(t,r,i,o)).then(d=>{if(!d.ok)throw d;if(r!=null&&r.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>Sae(d,u,r))})}async function Gn(e,t,n,r,i){return Tae(e,"POST",t,r,i,n)}var Aae=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ae(Ae({},Jb),t),this.fetch=Xb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Gn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Gn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Vn(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Gn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Gn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Vn(r))return{data:null,error:r};throw r}}},Cae=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ae(Ae({},Jb),t),this.fetch=Xb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Gn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Gn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Gn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Gn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Gn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}},Nae=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ae(Ae({},Jb),t),this.fetch=Xb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Gn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Gn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Gn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Gn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}},Iae=class extends Nae{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new kae(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},kae=class extends Aae{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Ae(Ae({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Ae(Ae({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new Rae(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Rae=class extends Cae{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Ae(Ae({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Ae(Ae({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Ae(Ae({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Ae(Ae({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Ae(Ae({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Pae=class extends xae{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new yae(this.url,this.headers,e,this.fetch)}get vectors(){return new Iae(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new bae(this.url+"/iceberg",this.headers,this.fetch)}};const AD="2.91.1",Ss=30*1e3,ex=3,Iv=ex*Ss,Oae="http://localhost:9999",Mae="supabase.auth.token",Dae={"X-Client-Info":`gotrue-js/${AD}`},tx="X-Supabase-Api-Version",CD={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jae=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Lae=600*1e3;class zu extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Uae extends zu{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Bae(e){return be(e)&&e.name==="AuthApiError"}class Za extends zu{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ui extends zu{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class zn extends Ui{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $ae(e){return be(e)&&e.name==="AuthSessionMissingError"}class ms extends Ui{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qd extends Ui{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ef extends Ui{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zae(e){return be(e)&&e.name==="AuthImplicitGrantRedirectError"}class JI extends Ui{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qae extends Ui{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class nx extends Ui{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function kv(e){return be(e)&&e.name==="AuthRetryableFetchError"}class XI extends Ui{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class rx extends Ui{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const hh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ZI=` 	
\r=`.split(""),Vae=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ZI.length;t+=1)e[ZI[t].charCodeAt(0)]=-2;for(let t=0;t<hh.length;t+=1)e[hh[t].charCodeAt(0)]=t;return e})();function QI(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(hh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(hh[r]),t.queuedBits-=6}}function ND(e,t,n){const r=Vae[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ek(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{Fae(l,r,n)};for(let l=0;l<e.length;l+=1)ND(e.charCodeAt(l),i,o);return t.join("")}function Gae(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Hae(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Gae(r,t)}}function Fae(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ds(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)ND(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Kae(e){const t=[];return Hae(e,n=>t.push(n)),new Uint8Array(t)}function ro(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>QI(i,n,r)),QI(null,n,r),t.join("")}function Wae(e){return Math.round(Date.now()/1e3)+e}function Yae(){return Symbol("auth-callback")}const en=()=>typeof window<"u"&&typeof document<"u",Ga={tested:!1,writable:!1},ID=()=>{if(!en())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ga.tested)return Ga.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ga.tested=!0,Ga.writable=!0}catch{Ga.tested=!0,Ga.writable=!1}return Ga.writable};function Jae(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const kD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Xae=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Es=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ha=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Qt=async(e,t)=>{await e.removeItem(t)};class mp{constructor(){this.promise=new mp.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}mp.promiseConstructor=Promise;function Rv(e){const t=e.split(".");if(t.length!==3)throw new rx("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!jae.test(t[r]))throw new rx("JWT not in base64url format");return{header:JSON.parse(ek(t[0])),payload:JSON.parse(ek(t[1])),signature:Ds(t[2]),raw:{header:t[0],payload:t[1]}}}async function Zae(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Qae(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){i(l);return}}})()})}function eoe(e){return("0"+e.toString(16)).substr(-2)}function toe(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,eoe).join("")}async function noe(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function roe(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await noe(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gs(e,t,n=!1){const r=toe();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Es(e,`${t}-code-verifier`,i);const o=await roe(r);return[o,r===o?"plain":"s256"]}const ioe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aoe(e){const t=e.headers.get(tx);if(!t||!t.match(ioe))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ooe(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function soe(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const loe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vs(e){if(!loe.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pv(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function uoe(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function tk(e){return JSON.parse(JSON.stringify(e))}const Ja=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),coe=[502,503,504];async function nk(e){var t;if(!Xae(e))throw new nx(Ja(e),0);if(coe.includes(e.status))throw new nx(Ja(e),e.status);let n;try{n=await e.json()}catch(o){throw new Za(Ja(o),o)}let r;const i=aoe(e);if(i&&i.getTime()>=CD["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new XI(Ja(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new zn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new XI(Ja(n),e.status,n.weak_password.reasons);throw new Uae(Ja(n),e.status||500,r)}const doe=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Te(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[tx]||(o[tx]=CD["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await foe(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function foe(e,t,n,r,i,o){const l=doe(t,r,i,o);let u;try{u=await e(n,Object.assign({},l))}catch(d){throw console.error(d),new nx(Ja(d),0)}if(u.ok||await nk(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await nk(d)}}function yr(e){var t;let n=null;moe(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Wae(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function rk(e){const t=yr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function pa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function hoe(e){return{data:e,error:null}}function poe(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,l=hp(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function ik(e){return e}function moe(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ov=["global","local","others"];class goe{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=kD(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Ov[0]){if(Ov.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ov.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:pa})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=hp(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:poe,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:pa})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},h=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:ik});if(h.error)throw h.error;const g=await h.json(),y=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);f[`${T}Page`]=E}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(be(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){vs(t);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:pa})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){vs(t);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:pa})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){vs(t);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:pa})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){vs(t.userId);try{const{data:n,error:r}=await Te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _deleteFactor(t){vs(t.userId),vs(t.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},h=await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:ik});if(h.error)throw h.error;const g=await h.json(),y=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);f[`${T}Page`]=E}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(be(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}}function ak(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ys={debug:!!(globalThis&&ID()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class RD extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class voe extends RD{}async function yoe(e,t,n){ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ys.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new voe(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ys.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function xoe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function PD(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function boe(e){return parseInt(e,16)}function woe(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function _oe(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:d,resources:f,scheme:h,uri:g,version:y}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=PD(e.address),S=h?`${h}://${r}`:r,E=e.statement?`${e.statement}
`:"",T=`${S} wants you to sign in with your Ethereum account:
${b}

${E}`;let A=`URI: ${g}
Version: ${y}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(A+=`
Expiration Time: ${i.toISOString()}`),u&&(A+=`
Not Before: ${u.toISOString()}`),d&&(A+=`
Request ID: ${d}`),f){let N=`
Resources:`;for(const k of f){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);N+=`
- ${k}`}A+=N}return`${T}
${A}`}class At extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class ph extends At{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function Soe({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new At({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new At({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new At({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new At({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new At({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new At({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new At({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new At({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(OD(l)){if(o.rp.id!==l)return new At({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new At({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new At({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new At({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new At({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Eoe({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new At({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new At({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(OD(r)){if(n.rpId!==r)return new At({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new At({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new At({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new At({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Toe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Aoe=new Toe;function Coe(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=hp(e,["challenge","user","excludeCredentials"]),o=Ds(t).buffer,l=Object.assign(Object.assign({},n),{id:Ds(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Ds(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function Noe(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=hp(e,["challenge","allowCredentials"]),i=Ds(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:Ds(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function Ioe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ro(new Uint8Array(e.response.attestationObject)),clientDataJSON:ro(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function koe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ro(new Uint8Array(i.authenticatorData)),clientDataJSON:ro(new Uint8Array(i.clientDataJSON)),signature:ro(new Uint8Array(i.signature)),userHandle:i.userHandle?ro(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function OD(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ok(){var e,t;return!!(en()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Roe(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ph("Browser returned unexpected credential type",t)}:{data:null,error:new ph("Empty credential response",t)}}catch(t){return{data:null,error:Soe({error:t,options:e})}}}async function Poe(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ph("Browser returned unexpected credential type",t)}:{data:null,error:new ph("Empty credential response",t)}}catch(t){return{data:null,error:Eoe({error:t,options:e})}}}const Ooe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Moe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function mh(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(t(l)){const u=r[o];t(u)?r[o]=mh(u,l):r[o]=mh(l)}else r[o]=l}return r}function Doe(e,t){return mh(Ooe,e,t||{})}function joe(e,t){return mh(Moe,e,t||{})}class Loe{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:u};const d=i??Aoe.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=Doe(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:h,error:g}=await Roe({publicKey:f,signal:d});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:g}}case"request":{const f=joe(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:h,error:g}=await Poe(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:g}}}}catch(l){return be(l)?{data:null,error:l}:{data:null,error:new Za("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new zu("rpId is required for WebAuthn authentication")};try{if(!ok())return{data:null,error:new Za("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return be(l)?{data:null,error:l}:{data:null,error:new Za("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new zu("rpId is required for WebAuthn registration")};try{if(!ok())return{data:null,error:new Za("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(h=>{var g;return(g=h.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return be(l)?{data:null,error:l}:{data:null,error:new Za("Unexpected error in register",l)}}}}xoe();const Uoe={url:Oae,storageKey:Mae,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Dae,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function sk(e,t,n){return await n()}const xs={};class qu{get jwks(){var t,n;return(n=(t=xs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){xs[this.storageKey]=Object.assign(Object.assign({},xs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=xs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){xs[this.storageKey]=Object.assign(Object.assign({},xs[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Uoe),t);if(this.storageKey=o.storageKey,this.instanceID=(n=qu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,qu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&en()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new goe({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=kD(o.fetch),this.lock=o.lock||sk,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&en()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=yoe:this.lock=sk,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Loe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:ID()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ak(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=ak(this.memoryStorage)),en()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${AD}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(en()&&(n=Jae(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),en()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),zae(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return be(n)?this._returnResult({error:n}):this._returnResult({error:new Za("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:yr}),{data:l,error:u}=o;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(be(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:h,password:g,options:y}=t;let b=null,S=null;this.flowType==="pkce"&&([b,S]=await gs(this.storage,this.storageKey)),o=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:h,password:g,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:b,code_challenge_method:S},xform:yr})}else if("phone"in t){const{phone:h,password:g,options:y}=t;o=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:g,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:yr})}else throw new Qd("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return await Qt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(await Qt(this.storage,`${this.storageKey}-code-verifier`),be(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:u}=t;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:rk})}else if("phone"in t){const{phone:o,password:l,options:u}=t;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:rk})}else throw new Qd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new ms;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,l,u,d,f,h,g,y;let b,S;if("message"in t)b=t.message,S=t.signature;else{const{chain:E,wallet:T,statement:A,options:N}=t;let k;if(en())if(typeof T=="object")k=T;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")k=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=T}const P=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href),R=await k.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=PD(R[0]);let B=(r=N==null?void 0:N.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!B){const D=await k.request({method:"eth_chainId"});B=boe(D)}const K={domain:P.host,address:O,statement:A,uri:P.href,version:"1",chainId:B,nonce:(i=N==null?void 0:N.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=N==null?void 0:N.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=N==null?void 0:N.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=N==null?void 0:N.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=N==null?void 0:N.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=N==null?void 0:N.signInWithEthereum)===null||h===void 0?void 0:h.resources};b=_oe(K),S=await k.request({method:"personal_sign",params:[woe(b),O]})}try{const{data:E,error:T}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:S},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:yr});if(T)throw T;if(!E||!E.session||!E.user){const A=new ms;return this._returnResult({data:{user:null,session:null},error:A})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:T})}catch(E){if(be(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(t){var n,r,i,o,l,u,d,f,h,g,y,b;let S,E;if("message"in t)S=t.message,E=t.signature;else{const{chain:T,wallet:A,statement:N,options:k}=t;let P;if(en())if(typeof A=="object")P=A;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))P=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=A}const R=new URL((n=k==null?void 0:k.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const O=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),N?{statement:N}:null));let B;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")B=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)B=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)S=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),E=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${R.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(i=(r=k==null?void 0:k.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=k==null?void 0:k.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((l=k==null?void 0:k.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((d=k==null?void 0:k.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((f=k==null?void 0:k.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((g=(h=k==null?void 0:k.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||g===void 0)&&g.length?["Resources",...k.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const O=await P.signMessage(new TextEncoder().encode(S),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=O}}try{const{data:T,error:A}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:ro(E)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:yr});if(A)throw A;if(!T||!T.session||!T.user){const N=new ms;return this._returnResult({data:{user:null,session:null},error:N})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:A})}catch(T){if(be(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const n=await Ha(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new qae;const{data:o,error:l}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:yr});if(await Qt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const u=new ms;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(await Qt(this.storage,`${this.storageKey}-code-verifier`),be(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=t,u=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:yr}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const h=new ms;return this._returnResult({data:{user:null,session:null},error:h})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,o,l;try{if("email"in t){const{email:u,options:d}=t;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await gs(this.storage,this.storageKey));const{error:g}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:u,options:d}=t,{data:f,error:h}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h})}throw new Qd("You must provide either an email or phone number.")}catch(u){if(await Qt(this.storage,`${this.storageKey}-code-verifier`),be(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:yr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,o,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await gs(this.storage,this.storageKey));const f=await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:hoe});return!((o=f.data)===null||o===void 0)&&o.url&&en()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await Qt(this.storage,`${this.storageKey}-code-verifier`),be(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new zn;const{error:i}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(be(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:l}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:l,error:u}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new Qd("You must provide either an email or phone number and a type")}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ha(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Iv:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await Ha(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Pv()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=uoe(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:pa}):await this._useSession(async n=>{var r,i,o;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zn}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:pa})})}catch(n){if(be(n))return $ae(n)&&(await this._removeSession(),await Qt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new zn;const l=i.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await gs(this.storage,this.storageKey));const{data:f,error:h}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:pa});if(h)throw h;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(await Qt(this.storage,`${this.storageKey}-code-verifier`),be(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new zn;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:l}=Rv(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new zn;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!en())throw new ef("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ef(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new JI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ef("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new JI("No code detected.");const{data:N,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=t;if(!o||!u||!l||!f)throw new ef("No session defined in URL");const h=Math.round(Date.now()/1e3),g=parseInt(u);let y=h+g;d&&(y=parseInt(d));const b=y-h;b*1e3<=Ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${g}s`);const S=y-g;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,h);const{data:E,error:T}=await this._getUser(o);if(T)throw T;const A={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:g,expires_at:y,refresh_token:l,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:t.type},error:null})}catch(r){if(be(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ha(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(Bae(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await Qt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Yae(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await gs(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await Qt(this.storage,`${this.storageKey}-code-verifier`),be(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,u,d,f,h;const{data:g,error:y}=o;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",b,{headers:this.headers,jwt:(h=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return en()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(be(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:l,provider:u,token:d,access_token:f,nonce:h}=t,g=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:d,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yr}),{data:y,error:b}=g;return b?this._returnResult({data:{user:null,session:null},error:b}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new ms}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:b}))}catch(i){if(await Qt(this.storage,`${this.storageKey}-code-verifier`),be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Qae(async i=>(i>0&&await Zae(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:yr})),(i,o)=>{const l=200*Math.pow(2,i);return o&&kv(o)&&Date.now()+l-r<Ss})}catch(r){if(this._debug(n,"error",r),be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),en()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ha(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Ha(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Es(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Pv()}else if(i&&!i.user&&!i.user){const l=await Ha(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Qt(this.storage,this.storageKey+"-user"),await Es(this.storage,this.storageKey,i)):i.user=Pv()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Iv;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Iv}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),kv(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new zn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new mp;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new zn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),be(o)){const l={data:null,error:o};return kv(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Qt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Es(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=tk(i);await Es(this.storage,this.storageKey,o)}else{const i=tk(n);await Es(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Qt(this.storage,this.storageKey),await Qt(this.storage,this.storageKey+"-code-verifier"),await Qt(this.storage,this.storageKey+"-user"),this.userStorage&&await Qt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&en()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ss);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Ss);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ss}ms, refresh threshold is ${ex} ticks`),i<=ex&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof RD)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!en()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await gs(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await Te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Ioe(t.webauthn.credential_response):koe(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await Te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=await Te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Coe(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Noe(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Rv(r.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Te(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new zn})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new zn});const l=await Te(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&en()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new zn});const l=await Te(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&en()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new zn})})}catch(t){if(be(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new zn})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+Lae>i)return r;const{data:o,error:l}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:b,error:S}=await this.getSession();if(S||!b.session)return this._returnResult({data:null,error:S});r=b.session.access_token}const{header:i,payload:o,signature:l,raw:{header:u,payload:d}}=Rv(r);n!=null&&n.allowExpired||ooe(o.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:o,header:i,signature:l},error:null}}const h=soe(i.alg),g=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,g,l,Kae(`${u}.${d}`)))throw new rx("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}}qu.nextInstanceID={};const Boe=qu,$oe="2.91.1";let pu="";typeof Deno<"u"?pu="deno":typeof document<"u"?pu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pu="react-native":pu="node";const zoe={"X-Client-Info":`supabase-js-${pu}/${$oe}`},qoe={headers:zoe},Voe={schema:"public"},Goe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hoe={};function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function Foe(e,t){if(Vu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Koe(e){var t=Foe(e,"string");return Vu(t)=="symbol"?t:t+""}function Woe(e,t,n){return(t=Koe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lk(Object(n),!0).forEach(function(r){Woe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Yoe=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Joe=()=>Headers,Xoe=(e,t,n)=>{const r=Yoe(n),i=Joe();return async(o,l)=>{var u;const d=(u=await t())!==null&&u!==void 0?u:e;let f=new i(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(o,gt(gt({},l),{},{headers:f}))}};function Zoe(e){return e.endsWith("/")?e:e+"/"}function Qoe(e,t){var n,r;const{db:i,auth:o,realtime:l,global:u}=e,{db:d,auth:f,realtime:h,global:g}=t,y={db:gt(gt({},d),i),auth:gt(gt({},f),o),realtime:gt(gt({},h),l),storage:{},global:gt(gt(gt({},g),u),{},{headers:gt(gt({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function ese(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Zoe(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var tse=class extends Boe{constructor(e){super(e)}},nse=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const o=ese(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:Voe,realtime:Hoe,auth:gt(gt({},Goe),{},{storageKey:l}),global:qoe},d=Qoe(n??{},u);if(this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=Xoe(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(gt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Die(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Pae(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new kie(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:l,lock:u,debug:d,throwOnError:f},h,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tse({url:this.authUrl.href,headers:gt(gt({},y),h),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:l,lock:u,debug:d,throwOnError:f,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Zie(this.realtimeUrl.href,gt(gt({},e),{},{params:gt(gt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const rse=(e,t,n)=>new nse(e,t,n);function ise(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}ise()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const MD="".trim().replace(/\/$/,""),Zb="".trim();console.log("VITE_SUPABASE_URL:",MD);console.log("VITE_SUPABASE_ANON_KEY len:",Zb.length);console.log("key tail:",Zb.slice(-12));const Tt=rse(MD,Zb),ase=({users:e,routes:t,currentUser:n,onSave:r})=>{const[i,o]=C.useState(!1),[l,u]=C.useState(null),[d,f]=C.useState(null),[h,g]=C.useState({name:"",username:"",dni:"",phoneCode:"+57",phoneNumber:"",address:"",country:"Colombia",city:"",password:"",routeIds:[],status:"Active"}),y=C.useMemo(()=>{const A={};return xu.forEach(N=>{A[N.continent]||(A[N.continent]=[]),A[N.continent].push(N)}),A},[]),b=async A=>{if(A.preventDefault(),f(null),h.status==="Inactive"&&h.routeIds.length>0){f({type:"error",message:"No puede inactivar un cobrador que tiene rutas asignadas. Primero desvincule las rutas."});return}try{const N=`${h.phoneCode} ${h.phoneNumber.trim()}`,k={business_id:n.businessId,username:h.username.trim().toLowerCase(),name:h.name.trim(),dni:h.dni.trim(),phone:N,address:h.address.trim(),country:h.country,city:h.city.trim(),role:"COLLECTOR",route_ids:h.routeIds,status:h.status};if(h.password.trim())k.password_hash=mD(h.password.trim());else if(!l){f({type:"error",message:"La contrasea es obligatoria para nuevos registros."});return}let P;if(l?P=await Tt.from("users").update(k).eq("id",l):P=await Tt.from("users").insert(k),P.error)throw P.error;r(),o(!1),u(null),S(),f({type:"success",message:`Cobrador ${l?"actualizado":"registrado"} con xito.`})}catch(N){f({type:"error",message:`Error en base de datos: ${N.message}`})}},S=()=>{g({name:"",username:"",dni:"",phoneCode:"+57",phoneNumber:"",address:"",country:"Colombia",city:"",password:"",routeIds:[],status:"Active"})},E=A=>{u(A.id);let N="+57",k=A.phone;if(A.phone.includes(" ")){const P=A.phone.split(" ");P.length>1&&P[0].startsWith("+")&&(N=P[0],k=P.slice(1).join(" "))}g({name:A.name,username:A.username,dni:A.dni,phoneCode:N,phoneNumber:k,address:A.address,country:A.country||"Colombia",city:A.city||"",password:"",routeIds:A.routeIds,status:A.status}),o(!0),f(null),window.scrollTo({top:0,behavior:"smooth"})},T=e.filter(A=>A.role===Nn.COLLECTOR);return p.jsxs("div",{className:"space-y-8 animate-fadeIn pb-20",children:[p.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-center bg-white p-8 rounded-[2rem] border shadow-sm gap-4",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Personal de Campo"}),p.jsx("p",{className:"text-slate-500 font-medium",children:"Gestin integral de colaboradores, ubicaciones y accesos."})]}),p.jsx("button",{onClick:()=>{i?(o(!1),u(null)):(S(),u(null),o(!0)),f(null)},className:`px-8 py-3.5 rounded-2xl font-black uppercase tracking-widest text-xs shadow-xl active:scale-95 transition-all ${i?"bg-slate-200 text-slate-600":"bg-indigo-600 text-white hover:bg-indigo-700"}`,children:i?"Cerrar Formulario":"Vincular Nuevo Cobrador"})]}),d&&p.jsxs("div",{className:`p-4 rounded-2xl border flex items-center gap-3 animate-slideDown ${d.type==="error"?"bg-rose-50 border-rose-100 text-rose-600":"bg-emerald-50 border-emerald-100 text-emerald-600"}`,children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),p.jsx("p",{className:"text-xs font-black uppercase tracking-widest",children:d.message})]}),i&&p.jsxs("form",{onSubmit:b,className:"bg-white p-10 rounded-[2.5rem] border shadow-2xl space-y-10 border-t-[12px] border-indigo-600 animate-slideDown max-w-6xl mx-auto",children:[p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"space-y-6",children:[p.jsx("h4",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-[0.3em] border-b pb-2",children:"1. Identidad de Usuario"}),p.jsx(uu,{label:"Nombre Completo",value:h.name,onChange:A=>g({...h,name:A}),required:!0}),p.jsx(uu,{label:"Identificacin (DNI)",value:h.dni,onChange:A=>g({...h,dni:A}),required:!0}),p.jsx(uu,{label:"Email / Usuario Acceso",value:h.username,onChange:A=>g({...h,username:A}),type:"email",required:!0}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:l?"Nueva Contrasea (Sobrescribir)":"Contrasea de Acceso"}),p.jsx("input",{type:"password",value:h.password,onChange:A=>g({...h,password:A.target.value}),placeholder:l?"Dejar vaco para no cambiar":"*******",className:"w-full bg-slate-50 border-2 border-slate-100 rounded-2xl px-6 py-4 focus:ring-4 focus:ring-indigo-100 outline-none transition font-bold text-slate-800 shadow-inner",required:!l})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx("h4",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-[0.3em] border-b pb-2",children:"2. Localizacin y Contacto"}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Telfono Mvil"}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("select",{value:h.phoneCode,onChange:A=>g({...h,phoneCode:A.target.value}),className:"w-24 bg-slate-50 border-2 border-slate-100 rounded-2xl pl-2 pr-2 py-4 appearance-none font-bold text-slate-800 text-xs focus:ring-4 focus:ring-indigo-50 outline-none transition cursor-pointer shadow-inner",children:xu.map(A=>p.jsxs("option",{value:A.dial_code,children:[A.flag," ",A.dial_code]},A.code))}),p.jsx("input",{value:h.phoneNumber,onChange:A=>g({...h,phoneNumber:A.target.value}),placeholder:"3101234567",className:"flex-1 bg-slate-50 border-2 border-slate-100 rounded-2xl px-4 py-4 focus:ring-4 focus:ring-indigo-100 outline-none transition font-bold text-slate-800 text-sm shadow-inner",required:!0})]})]}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Pas de Operacin Actual"}),p.jsx("div",{className:"relative",children:p.jsx("select",{value:h.country,onChange:A=>g({...h,country:A.target.value}),className:"w-full bg-slate-50 border-2 border-slate-100 rounded-2xl p-4 appearance-none font-bold text-slate-800 text-sm focus:ring-4 focus:ring-indigo-50 outline-none transition cursor-pointer shadow-inner",required:!0,children:Object.entries(y).map(([A,N])=>p.jsx("optgroup",{label:A,className:"font-bold text-indigo-900",children:N.map(k=>p.jsx("option",{value:k.name,children:k.name},k.code))},A))})})]}),p.jsx(uu,{label:"Ciudad Principal",value:h.city,onChange:A=>g({...h,city:A}),required:!0}),p.jsx(uu,{label:"Direccin Residencia",value:h.address,onChange:A=>g({...h,address:A}),required:!0})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx("h4",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-[0.3em] border-b pb-2",children:"3. Configuracin Operativa"}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Estado de la Cuenta"}),p.jsxs("div",{className:"flex bg-slate-100 p-1.5 rounded-2xl border gap-1 shadow-inner",children:[p.jsx("button",{type:"button",onClick:()=>g({...h,status:"Active"}),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase transition-all ${h.status==="Active"?"bg-emerald-600 text-white shadow-lg":"text-slate-400 hover:bg-white/50"}`,children:"Activo"}),p.jsx("button",{type:"button",onClick:()=>g({...h,status:"Inactive"}),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase transition-all ${h.status==="Inactive"?"bg-rose-600 text-white shadow-lg":"text-slate-400 hover:bg-white/50"}`,children:"Inactivo"})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Rutas Asignadas (Multiseleccin)"}),p.jsx("div",{className:"flex flex-wrap gap-2 bg-slate-50 p-6 rounded-2xl border border-slate-100 shadow-inner max-h-[160px] overflow-y-auto",children:t.length>0?t.map(A=>p.jsx("button",{type:"button",onClick:()=>{const N=h.routeIds.includes(A.id);g({...h,routeIds:N?h.routeIds.filter(k=>k!==A.id):[...h.routeIds,A.id]})},className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${h.routeIds.includes(A.id)?"bg-indigo-600 text-white shadow-lg":"bg-white border border-slate-200 text-slate-400"}`,children:A.name},A.id)):p.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"No hay rutas creadas."})})]})]})]}),p.jsxs("div",{className:"pt-6 border-t flex flex-col md:flex-row gap-4",children:[p.jsx("button",{type:"submit",className:"flex-1 bg-slate-900 hover:bg-indigo-600 text-white py-6 rounded-[2rem] font-black uppercase tracking-widest text-xs shadow-2xl active:scale-95 transition-all",children:l?"Confirmar Actualizacin de Perfil":"Vincular Colaborador al Sistema"}),p.jsx("button",{type:"button",onClick:()=>{o(!1),u(null)},className:"md:w-48 bg-slate-100 text-slate-400 py-6 rounded-[2rem] font-black uppercase tracking-widest text-xs",children:"Cancelar"})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:T.map(A=>p.jsxs("div",{className:`bg-white p-8 rounded-[2.5rem] border shadow-sm hover:shadow-md transition-all group relative ${A.status==="Inactive"?"opacity-60 grayscale":""}`,children:[p.jsxs("div",{className:"flex justify-between items-start mb-6",children:[p.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center font-black text-2xl transition-colors ${A.status==="Active"?"bg-indigo-50 text-indigo-600 group-hover:bg-indigo-600 group-hover:text-white":"bg-slate-200 text-slate-500"}`,children:A.name.charAt(0)}),p.jsxs("div",{className:"flex flex-col items-end gap-1",children:[p.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${A.status==="Active"?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"}`,children:A.status==="Active"?"Activo":"Inactivo"}),p.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-tighter",children:A.country||"Sin pas"})]})]}),p.jsx("h3",{className:"font-black text-slate-800 text-xl truncate",children:A.name}),p.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-tight mb-2",children:A.username}),p.jsxs("div",{className:"flex items-center gap-2 text-slate-500 mb-6",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),p.jsx("span",{className:"text-[10px] font-bold truncate",children:A.city||"Ubicacin no registrada"})]}),p.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-50 flex justify-between items-center",children:[p.jsx("div",{className:"flex -space-x-2",children:A.routeIds.length>0?A.routeIds.map(N=>{var k;return p.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-50 border-2 border-white flex items-center justify-center text-[8px] font-black text-indigo-500",title:(k=t.find(P=>P.id===N))==null?void 0:k.name,children:"R"},N)}):p.jsx("span",{className:"text-[8px] font-black text-slate-300 uppercase",children:"Sin rutas"})}),p.jsx("button",{onClick:()=>E(A),className:"bg-slate-50 hover:bg-indigo-50 text-slate-400 hover:text-indigo-600 p-2 rounded-xl transition-colors shadow-sm",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})})]})]},A.id))})]})},uu=({label:e,value:t,onChange:n,type:r="text",required:i,placeholder:o,disabled:l})=>p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:e}),p.jsx("input",{type:r,value:t,onChange:u=>n(u.target.value),placeholder:o,className:`w-full border-2 border-slate-100 rounded-2xl px-6 py-4 focus:ring-4 focus:ring-indigo-100 outline-none transition font-bold text-slate-800 shadow-inner ${l?"bg-slate-200 cursor-not-allowed opacity-50":"bg-slate-50"}`,required:i,disabled:l})]}),ose=({routes:e,users:t,user:n,transactions:r,onSave:i,onAddTransaction:o})=>{const[l,u]=C.useState(!1),[d,f]=C.useState(null),[h,g]=C.useState(null),[y,b]=C.useState(""),[S,E]=C.useState(""),[T,A]=C.useState(null),[N,k]=C.useState(""),[P,R]=C.useState(""),O=C.useMemo(()=>d?r.filter(D=>D.routeId===d.id).sort((D,G)=>new Date(G.date).getTime()-new Date(D.date).getTime()):[],[d,r]),B=async D=>{if(D.preventDefault(),!(!y.trim()||!S))try{const{data:G,error:$}=await Tt.from("routes").insert({business_id:n.businessId,name:y.trim()}).select().single();if($)throw $;const{error:M}=await Tt.from("route_transactions").insert({business_id:n.businessId,route_id:G.id,amount:parseFloat(S),type:"INITIAL_BASE",description:`Apertura de ruta: ${y.trim()}`,transaction_date:Qe});if(M)throw M;i(),b(""),E(""),u(!1),g({type:"success",message:"Ruta y Capital de Base creados exitosamente."})}catch(G){console.error("Error creating route:",G),g({type:"error",message:`Error crtico: ${G.message}`})}},K=async D=>{if(D.preventDefault(),!(!d||!T||!N))try{const{error:G}=await Tt.from("route_transactions").insert({business_id:n.businessId,route_id:d.id,amount:parseFloat(N),type:T,description:P||(T==="INJECTION"?"Ajuste / Inyeccin":"Retiro Operativo"),transaction_date:Qe});if(G)throw G;i(),A(null),k(""),R(""),g({type:"success",message:"Movimiento de fondos registrado."})}catch(G){g({type:"error",message:G.message})}};return p.jsxs("div",{className:"space-y-6 animate-fadeIn pb-10",children:[p.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-center bg-white p-8 rounded-[2rem] border shadow-sm gap-4",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Gestin de Rutas"}),p.jsx("p",{className:"text-slate-500 font-medium",children:"Control de zonas y auditora de fondos de base."})]}),p.jsx("button",{onClick:()=>{u(!l),f(null),g(null)},className:`px-8 py-3.5 rounded-2xl font-black transition shadow-xl flex items-center justify-center gap-2 active:scale-95 uppercase tracking-widest text-xs ${l?"bg-rose-100 text-rose-600":"bg-indigo-600 text-white hover:bg-indigo-700"}`,children:l?"Cerrar":"Nueva Ruta"})]}),h&&p.jsxs("div",{className:`p-4 rounded-2xl border flex items-center gap-3 animate-slideDown ${h.type==="error"?"bg-rose-50 border-rose-100 text-rose-600":"bg-emerald-50 border-emerald-100 text-emerald-600"}`,children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),p.jsx("p",{className:"text-xs font-black uppercase tracking-widest",children:h.message})]}),l&&!d&&p.jsxs("div",{className:"bg-white p-10 rounded-[2rem] border shadow-xl animate-slideDown max-w-3xl mx-auto border-t-[8px] border-emerald-500",children:[p.jsx("h3",{className:"text-xl font-black text-slate-800 mb-6",children:"Apertura de Zona"}),p.jsxs("form",{onSubmit:B,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Nombre de la Ruta"}),p.jsx("input",{type:"text",value:y,onChange:D=>b(D.target.value),placeholder:"Ej: Ruta Central",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 focus:ring-4 focus:ring-indigo-100 outline-none transition font-black text-slate-800 shadow-inner",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Fondo Base Inicial (Caja)"}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-black",children:"$"}),p.jsx("input",{type:"number",value:S,onChange:D=>E(D.target.value),placeholder:"0.00",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl pl-8 pr-4 py-4 focus:ring-4 focus:ring-emerald-100 outline-none transition font-black text-slate-800 shadow-inner",required:!0})]})]}),p.jsx("button",{type:"submit",className:"md:col-span-2 bg-emerald-600 text-white font-black py-5 rounded-2xl shadow-xl uppercase tracking-widest text-sm hover:bg-emerald-700 transition-all",children:"Confirmar Creacin de Zona"})]})]}),d&&p.jsxs("div",{className:"bg-white p-10 rounded-[2rem] border shadow-xl animate-slideDown border-t-[8px] border-indigo-600 max-w-4xl mx-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["Gestionar: ",d.name]}),p.jsx("button",{onClick:()=>f(null),className:"text-slate-400 hover:text-rose-500 font-black uppercase text-[10px] tracking-widest",children:"Cerrar Detalle"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[p.jsxs("form",{onSubmit:K,className:"space-y-6",children:[p.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-4",children:"Movimientos de Capital"}),p.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-2xl mb-4",children:[p.jsx("button",{type:"button",onClick:()=>A("INJECTION"),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${T==="INJECTION"?"bg-emerald-500 text-white shadow-md":"text-slate-400"}`,children:"Inyeccin (+)"}),p.jsx("button",{type:"button",onClick:()=>A("WITHDRAWAL"),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${T==="WITHDRAWAL"?"bg-rose-500 text-white shadow-md":"text-slate-400"}`,children:"Retiro (-)"})]}),p.jsx(uk,{label:"Monto",value:N,onChange:k,type:"number",required:!0}),p.jsx(uk,{label:"Nota / Justificacin",value:P,onChange:R,placeholder:"Opcional"}),p.jsx("button",{type:"submit",disabled:!T,className:"w-full bg-slate-900 text-white py-4 rounded-2xl font-black uppercase tracking-widest text-xs shadow-lg active:scale-95 disabled:opacity-50",children:"Registrar Operacin"})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"ltimos Movimientos"}),p.jsx("div",{className:"bg-slate-50 rounded-2xl p-4 h-[300px] overflow-y-auto space-y-3 shadow-inner",children:O.length>0?O.map(D=>p.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-100 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs font-black text-slate-700 uppercase tracking-tight",children:D.description}),p.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase",children:D.date})]}),p.jsxs("p",{className:`font-black text-sm ${D.type==="WITHDRAWAL"?"text-rose-500":"text-emerald-500"}`,children:[D.type==="WITHDRAWAL"?"-":"+","$",D.amount.toLocaleString()]})]},D.id)):p.jsx("p",{className:"text-center py-20 text-[10px] font-black uppercase text-slate-300",children:"Sin historial"})})]})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(D=>p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border shadow-sm hover:shadow-md transition flex flex-col min-h-[220px] group",children:[p.jsx("h3",{className:"font-black text-slate-800 text-2xl mb-1 group-hover:text-indigo-600 transition-colors",children:D.name}),p.jsxs("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest font-black",children:["ID UNICO: ",D.id.slice(-8).toUpperCase()]}),p.jsx("div",{className:"mt-auto pt-6 flex gap-2",children:p.jsx("button",{onClick:()=>{f(D),b(D.name),window.scrollTo({top:0,behavior:"smooth"})},className:"flex-1 bg-slate-900 hover:bg-indigo-600 text-white px-4 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest shadow-md transition-all active:scale-95",children:"Gestionar Fondos"})})]},D.id))})]})},uk=({label:e,value:t,onChange:n,type:r="text",required:i,placeholder:o})=>p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:e}),p.jsx("input",{type:r,value:t,onChange:l=>n(l.target.value),placeholder:o,className:"w-full bg-slate-50 border-2 border-slate-100 rounded-2xl px-6 py-4 focus:ring-4 focus:ring-indigo-100 outline-none transition font-bold text-slate-800 shadow-inner",required:i})]}),sse=({client:e,credit:t,payments:n,onBack:r,onMarkAsLost:i})=>{var T;const[o,l]=C.useState(!1);if(!e||!t)return null;const u=t.totalPaid||0,d=Math.max(0,t.totalToPay-u),f=Math.max(1,t.installmentValue),h=Math.max(0,t.totalInstallments-t.paidInstallments),g=Qe,y=new Date(g+"T00:00:00"),b=t.capital/t.totalToPay;(t.totalToPay-t.capital)/t.totalToPay;const S=d*b,E=C.useMemo(()=>{const A=[...n].sort((k,P)=>new Date(k.date).getTime()-new Date(P.date).getTime()),N=A.reduce((k,P)=>k+P.amount,0);return Array.from({length:t.totalInstallments},(k,P)=>{let R;const O=t.firstPaymentDate||t.startDate;t.frequency==="Daily"?R=P===0?new Date(O+"T00:00:00"):hk(O,P):t.frequency==="Weekly"?(R=new Date(O+"T00:00:00"),R.setDate(R.getDate()+P*7)):(R=new Date(O+"T00:00:00"),R.setMonth(R.getMonth()+P));const B=R.toISOString().split("T")[0],K=P*f,D=(P+1)*f,G=Math.min(N,D),$=Math.max(0,K),M=Math.max(0,G-$),U=M>=f-.01,L=!U&&M>0;let q=null,z=0;if(U){for(const oe of A)if(z+=oe.amount,z>=D-.01){q=oe.date.split("T")[0];break}}const F=B<g;let ne="NONE",X=0;if(U)if(q&&q>B){ne="RECUPERADO";const oe=new Date(q+"T00:00:00"),V=Math.abs(oe.getTime()-R.getTime());X=Math.ceil(V/(1e3*60*60*24))}else ne="PUNTUAL";else if(F){ne="VIGENTE";const oe=Math.abs(y.getTime()-R.getTime());X=Math.ceil(oe/(1e3*60*60*24))}return{num:P+1,date:B,realPaymentDate:q||(L?"Parcial":"//"),amountCovered:M,status:U?"P":L?"A":"N",moraStatus:ne,daysDelayed:X,isTodayRow:B===g}})},[t,n,f,g,y]);return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-8 animate-fadeIn pb-24 px-2 md:px-4 max-w-full overflow-x-hidden",children:[p.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx("button",{onClick:r,className:"w-12 h-12 flex items-center justify-center bg-white border border-slate-100 rounded-full text-slate-400 hover:text-indigo-600 transition-all shadow-sm hover:shadow-md active:scale-90 shrink-0",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),p.jsxs("div",{className:"min-w-0",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-black text-[#1e293b] tracking-tight leading-none truncate",children:"Resumen de Cuenta"}),p.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[p.jsxs("span",{className:`px-2 py-0.5 rounded text-[9px] font-black uppercase tracking-tighter shrink-0 text-white ${t.status==="Lost"?"bg-rose-600":"bg-indigo-600"}`,children:["ID: ",t.id.toUpperCase()," ",t.status==="Lost"&&"(CASTIGADO)"]}),p.jsxs("p",{className:"text-slate-500 font-black uppercase text-[10px] tracking-widest truncate",children:[e.name," - ",p.jsx("span",{className:"text-indigo-400",children:e.alias})]})]})]})]}),p.jsxs("div",{className:`px-6 py-3 rounded-full border flex items-center gap-3 shadow-sm self-start md:self-center ${t.status==="Lost"?"bg-rose-50 border-rose-100":"bg-emerald-50 border-emerald-100"}`,children:[p.jsx("div",{className:`w-2.5 h-2.5 rounded-full animate-pulse ${t.status==="Lost"?"bg-rose-500":"bg-emerald-500"}`}),p.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${t.status==="Lost"?"text-rose-700":"text-emerald-700"}`,children:t.status==="Lost"?"CARTERA CASTIGADA":"AUDITORA FINANCIERA ACTIVA"})]})]}),p.jsxs("div",{className:`rounded-[2.5rem] md:rounded-[3.5rem] overflow-hidden border shadow-2xl ${t.status==="Lost"?"bg-rose-50 border-rose-200":"bg-white border-slate-100"}`,children:[p.jsxs("div",{className:"py-12 md:py-16 text-center relative",children:[p.jsx("p",{className:"text-[10px] md:text-[11px] font-black uppercase tracking-[0.5em] text-indigo-400 mb-2",children:"CAPITAL TOTAL RECAUDADO"}),p.jsxs("p",{className:"text-7xl md:text-9xl font-black text-indigo-600 tracking-tighter leading-none",children:["$",u.toLocaleString()]})]}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 divide-x divide-slate-100 border-t border-slate-200 bg-white",children:[p.jsx(tf,{label:"CAPITAL INICIAL",value:`$${t.capital.toLocaleString()}`,label2:"CUOTAS TOTALES",value2:t.totalInstallments}),p.jsx(tf,{label:"INTERS PACTADO",value:`$${(t.totalToPay-t.capital).toLocaleString()}`,highlight:"text-indigo-400",label2:"VALOR CUOTA",value2:`$${t.installmentValue.toLocaleString()}`}),p.jsx(tf,{label:"ENTREGA CAPITAL",value:t.startDate.replace(/-/g,"/"),label2:"SALDO PENDIENTE",value2:`$${d.toLocaleString()}`,highlight2:"text-emerald-500"}),p.jsx(tf,{label:"COBRO INICIA",value:((T=t.firstPaymentDate)==null?void 0:T.replace(/-/g,"/"))||"--",label2:"POR COBRAR",value2:h,highlight2:"text-rose-500"})]})]}),p.jsx("div",{className:"bg-white rounded-[2.5rem] md:rounded-[3.5rem] border border-slate-100 shadow-xl overflow-hidden animate-fadeIn w-full",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full table-auto border-collapse min-w-[900px]",children:[p.jsx("thead",{className:"bg-[#0f172a] text-white",children:p.jsxs("tr",{className:"text-[8px] md:text-[9px] font-black uppercase tracking-[0.15em] md:tracking-[0.25em]",children:[p.jsx("th",{className:"px-6 py-6 text-left",children:"Fecha Pactada"}),p.jsx("th",{className:"px-6 py-6 text-center",children:"Fecha Real Pago"}),p.jsx("th",{className:"px-6 py-6 text-center",children:"Cuota #"}),p.jsx("th",{className:"px-6 py-6 text-center",children:"Estado Pago"}),p.jsx("th",{className:"px-6 py-6 text-center",children:"Abonado"}),p.jsx("th",{className:"px-6 py-6 text-center text-rose-300",children:"Registr Mora?"}),p.jsx("th",{className:"px-6 py-6 text-center",children:"Das Retraso"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50 font-mono text-[10px] md:text-[11px]",children:E.map((A,N)=>p.jsxs("tr",{className:`${A.isTodayRow?"bg-indigo-50/50":"hover:bg-slate-50/50"} transition-colors`,children:[p.jsx("td",{className:"px-6 py-5 text-slate-800 font-bold whitespace-nowrap",children:A.date.replace(/-/g,"/")}),p.jsx("td",{className:"px-6 py-5 text-center text-slate-500 font-bold whitespace-nowrap",children:A.realPaymentDate!=="//"&&A.realPaymentDate!=="Parcial"?A.realPaymentDate.replace(/-/g,"/"):p.jsx("span",{className:"text-slate-300",children:A.realPaymentDate})}),p.jsxs("td",{className:"px-6 py-5 text-center font-bold text-slate-400",children:["#",A.num]}),p.jsx("td",{className:"px-6 py-5 text-center",children:p.jsx("span",{className:`px-3 py-1.5 rounded-lg font-black text-[9px] uppercase tracking-widest shadow-sm ${A.status==="P"?"bg-emerald-100 text-emerald-700":A.status==="A"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-400"}`,children:A.status==="P"?"PAGADA":A.status==="A"?"PARCIAL":"PENDIENTE"})}),p.jsxs("td",{className:"px-6 py-5 text-center font-black text-slate-700",children:["$",Math.round(A.amountCovered).toLocaleString()]}),p.jsxs("td",{className:"px-6 py-5 text-center",children:[A.moraStatus==="VIGENTE"&&p.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-rose-100 text-rose-600 font-black tracking-tighter shadow-sm border border-rose-200",children:[p.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rose-600 animate-pulse"})," S (VIGENTE)"]}),A.moraStatus==="RECUPERADO"&&p.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-amber-100 text-amber-700 font-black tracking-tighter shadow-sm border border-amber-200",children:[p.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-600"})," S (RECUPERADO)"]}),A.moraStatus==="PUNTUAL"&&p.jsx("span",{className:"text-emerald-500 font-bold opacity-60 tracking-widest",children:"NO (PUNTUAL)"})]}),p.jsx("td",{className:"px-6 py-5 text-center",children:A.daysDelayed>0?p.jsxs("span",{className:`font-black ${A.moraStatus==="VIGENTE"?"text-rose-500":"text-amber-500"}`,children:[A.daysDelayed," das"]}):p.jsx("span",{className:"text-slate-200",children:"--"})})]},N))})]})})}),t.status==="Active"&&p.jsxs("div",{className:"mt-12 bg-rose-50 border-2 border-rose-100 rounded-[2.5rem] p-8 md:p-10 flex flex-col md:flex-row items-center justify-between gap-8 text-center md:text-left",children:[p.jsxs("div",{className:"max-w-xl",children:[p.jsxs("h3",{className:"text-xl font-black text-rose-700 mb-2 flex items-center gap-2 justify-center md:justify-start",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"ZONA DE RIESGO FINANCIERO"]}),p.jsx("p",{className:"text-rose-600/80 font-bold text-xs leading-relaxed",children:"Si el cliente no ha respondido a los cobros y considera que el dinero es irrecuperable, puede castigar esta cartera. Esta accin es definitiva y se registrar como prdida contable."})]}),p.jsx("button",{type:"button",onClick:()=>l(!0),className:"bg-rose-600 text-white font-black px-8 py-4 rounded-2xl shadow-lg hover:bg-rose-700 transition active:scale-95 uppercase tracking-widest text-xs border-b-4 border-rose-800 whitespace-nowrap",children:"DECLARAR INCOBRABLE"})]})]}),o&&p.jsxs("div",{className:"fixed inset-0 w-full h-full flex items-center justify-center p-4 z-[999999] animate-fadeIn overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-slate-950/95 backdrop-blur-xl",onClick:()=>l(!1)}),p.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-md shadow-[0_0_100px_rgba(225,29,72,0.3)] border border-white animate-slideUp overflow-hidden relative z-10",children:[p.jsxs("header",{className:"bg-rose-600 p-8 text-center relative shrink-0",children:[p.jsx("button",{onClick:()=>l(!1),className:"absolute right-6 top-6 text-rose-300 hover:text-white transition",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})}),p.jsx("h3",{className:"text-2xl font-black text-white tracking-tight",children:"Confirmar Alerta de Prdida"}),p.jsx("p",{className:"text-rose-100 font-bold uppercase tracking-widest text-[10px] mt-1",children:e.name})]}),p.jsxs("div",{className:"p-8 space-y-6",children:[p.jsx("div",{className:"text-center space-y-2",children:p.jsxs("p",{className:"text-slate-500 font-medium text-sm leading-relaxed",children:["Est seguro en declarar incobrable este crdito? ",p.jsx("br",{}),p.jsx("span",{className:"text-rose-600 font-black",children:"Esta accin es irreversible"}),"."]})}),p.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[p.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100 flex justify-between items-center",children:[p.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Prdida en Capital"}),p.jsxs("span",{className:"text-lg font-black text-rose-600",children:["-$",Math.round(S).toLocaleString()]})]}),p.jsxs("div",{className:"bg-rose-50 p-4 rounded-2xl border-2 border-rose-200 flex justify-between items-center",children:[p.jsx("span",{className:"text-[10px] font-black text-rose-700 uppercase tracking-widest",children:"Total Castigado"}),p.jsxs("span",{className:"text-xl font-black text-rose-700",children:["$",d.toLocaleString()]})]})]}),p.jsxs("div",{className:"flex flex-col gap-3 pt-4",children:[p.jsx("button",{onClick:()=>i(t.id),className:"w-full bg-rose-600 hover:bg-rose-700 text-white font-black py-5 rounded-[2rem] shadow-xl transition transform active:scale-95 uppercase tracking-[0.2em] text-xs border-b-4 border-rose-900",children:"S, Confirmar Prdida"}),p.jsx("button",{onClick:()=>l(!1),className:"w-full bg-white hover:bg-slate-50 text-slate-400 font-black py-4 rounded-2xl transition uppercase tracking-widest text-[9px] border border-slate-200",children:"No, Cancelar Proceso"})]})]})]})]})]})},tf=({label:e,value:t,highlight:n="text-slate-800",label2:r,value2:i,highlight2:o="text-slate-800"})=>p.jsxs("div",{className:"p-6 md:p-12 flex flex-col gap-6 md:gap-12 text-center transition-all hover:bg-slate-50/50",children:[p.jsxs("div",{className:"space-y-1 md:space-y-2",children:[p.jsx("p",{className:"text-[8px] md:text-[10px] font-black uppercase text-slate-400 tracking-[0.1em] md:tracking-[0.25em]",children:e}),p.jsx("p",{className:`text-xl md:text-4xl font-black ${n} tracking-tighter leading-none`,children:t})]}),p.jsxs("div",{className:"space-y-1 md:space-y-2",children:[p.jsx("p",{className:"text-[8px] md:text-[10px] font-black uppercase text-slate-400 tracking-[0.1em] md:tracking-[0.25em]",children:r}),p.jsx("p",{className:`text-xl md:text-4xl font-black ${o} tracking-tighter leading-none`,children:i})]})]}),lse=({client:e,credit:t,payments:n,onBack:r,onUpdatePayment:i})=>{const[o,l]=C.useState(null),[u,d]=C.useState(""),[f,h]=C.useState(null);if(!e||!t)return null;const g=C.useMemo(()=>[...n].sort((A,N)=>new Date(N.date).getTime()-new Date(A.date).getTime()),[n]),y=g.reduce((A,N)=>A+N.amount,0),b=g.length,S=A=>A===Qe,E=A=>{l(A),d(A.amount.toString()),h(null)},T=()=>{if(o){const A=parseFloat(u);!isNaN(A)&&A>=0?(i(o.id,A),l(null),d(""),h(null)):h("Por favor ingrese un monto vlido.")}};return p.jsxs("div",{className:"space-y-8 animate-fadeIn pb-24 px-2 md:px-4 max-w-4xl mx-auto",children:[p.jsxs("header",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:r,className:"w-12 h-12 flex items-center justify-center bg-white border border-slate-100 rounded-full text-slate-400 hover:text-indigo-600 transition-all shadow-sm hover:shadow-md active:scale-90 shrink-0",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight leading-none",children:"Bitcora de Visitas"}),p.jsx("p",{className:"text-slate-500 font-medium text-sm mt-1",children:"Historial operativo de recaudacin en campo"})]})]}),p.jsxs("div",{className:"bg-white px-6 py-3 rounded-2xl border border-slate-200 shadow-sm flex items-center gap-4",children:[p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Cliente"}),p.jsx("p",{className:"text-sm font-black text-slate-800",children:e.name})]}),p.jsx("div",{className:"w-px h-8 bg-slate-100"}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Crdito"}),p.jsxs("p",{className:"text-sm font-black text-indigo-600",children:["#",t.id.slice(-6).toUpperCase()]})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-indigo-600 text-white p-6 rounded-[2rem] shadow-lg shadow-indigo-200",children:[p.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-70 mb-1",children:"Total Recaudado Real"}),p.jsxs("p",{className:"text-3xl font-black",children:["$",y.toLocaleString()]})]}),p.jsxs("div",{className:"bg-white text-slate-800 p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:[p.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 mb-1",children:"Visitas Efectivas"}),p.jsx("p",{className:"text-3xl font-black",children:b})]})]}),p.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-200 shadow-xl overflow-hidden",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Fecha Visita (Real)"}),p.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-500 uppercase tracking-widest text-right",children:"Abonado (Recibido)"}),p.jsx("th",{className:"px-8 py-6 text-[10px] font-black text-slate-500 uppercase tracking-widest text-center",children:"Accin"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:g.length>0?g.map(A=>{const N=S(A.date);return p.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[p.jsx("td",{className:"px-8 py-5",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-black text-slate-700 text-sm",children:A.date}),p.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tight",children:"Registro en Campo"})]})]})}),p.jsx("td",{className:"px-8 py-5 text-right",children:A.amount>0?p.jsxs("span",{className:"font-black text-xl text-emerald-600 tracking-tight",children:["+$",A.amount.toLocaleString()]}):p.jsx("span",{className:"font-black text-xl text-slate-300 tracking-tight",children:"$0"})}),p.jsx("td",{className:"px-8 py-5 text-center",children:N?p.jsx("button",{onClick:()=>E(A),className:"w-10 h-10 rounded-xl flex items-center justify-center bg-indigo-50 text-indigo-600 hover:bg-indigo-600 hover:text-white transition-all shadow-sm active:scale-95 mx-auto",title:"Editar Abono",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}):p.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center bg-slate-100 text-slate-300 mx-auto cursor-not-allowed",title:"Cierre Diario Ejecutado (Bloqueado)",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})})})]},A.id)}):p.jsx("tr",{children:p.jsxs("td",{colSpan:3,className:"px-8 py-16 text-center",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-slate-50 text-slate-300 mb-4",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),p.jsx("p",{className:"text-slate-400 font-black uppercase tracking-widest text-xs",children:"No se han registrado visitas an"})]})})})]})})}),o&&p.jsx("div",{className:"fixed inset-0 w-full h-full bg-slate-900/80 flex items-center justify-center p-4 z-[9999] backdrop-blur-sm animate-fadeIn",children:p.jsxs("div",{className:"bg-white rounded-[2rem] w-full max-w-sm shadow-2xl border border-white animate-slideUp",children:[p.jsxs("header",{className:"bg-indigo-600 p-6 text-center rounded-t-[2rem]",children:[p.jsx("h3",{className:"text-xl font-black text-white",children:"Corregir Recaudo"}),p.jsxs("p",{className:"text-indigo-200 text-xs font-bold uppercase tracking-widest mt-1",children:["Fecha: ",o.date]})]}),p.jsxs("div",{className:"p-8 space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Valor Recibido Real"}),p.jsxs("div",{className:"relative mt-2",children:[p.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-black text-lg",children:"$"}),p.jsx("input",{type:"number",autoFocus:!0,value:u,onChange:A=>{d(A.target.value),h(null)},className:"w-full bg-slate-50 border-2 border-slate-100 rounded-2xl pl-10 pr-4 py-4 font-black text-slate-800 text-2xl outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50 transition-all text-center"})]}),f&&p.jsx("p",{className:"text-[10px] font-bold text-rose-500 mt-2 text-center animate-pulse",children:f})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:()=>l(null),className:"flex-1 bg-slate-100 hover:bg-slate-200 text-slate-500 font-black py-4 rounded-xl transition uppercase tracking-widest text-[10px]",children:"Cancelar"}),p.jsx("button",{onClick:T,className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-black py-4 rounded-xl transition shadow-lg active:scale-95 uppercase tracking-widest text-[10px]",children:"Guardar Cambio"})]})]})]})})]})},use=({client:e,allClients:t,routes:n,credit:r,currentUser:i,onSave:o,onCancel:l})=>{const[u,d]=C.useState(null),[f,h]=C.useState({dni:"",name:"",alias:"",address:"",phone:"",routeId:"",order:0,status:"Active",targetOrderPosition:"current"});C.useEffect(()=>{e&&h({dni:e.dni,name:e.name,alias:e.alias,address:e.address,phone:e.phone,routeId:e.routeId,order:e.order,status:e.status||"Active",targetOrderPosition:"current"})},[e]);const g=C.useMemo(()=>{if(!f.routeId)return[];let T=t.filter(A=>A.routeId===f.routeId&&A.status==="Active");return e&&f.routeId===e.routeId&&(T=T.filter(A=>A.id!==e.id)),T.sort((A,N)=>A.order-N.order)},[t,f.routeId,e]);if(!e)return null;const y=r?r.totalToPay-r.totalPaid:0,b=(i==null?void 0:i.role)===Nn.ADMIN,S=T=>{if(d(null),T==="Inactive"&&y>0){d({type:"error",message:` ACCIN BLOQUEADA: No se puede inactivar a ${e.name} porque tiene un saldo pendiente de $${y.toLocaleString()}.`});return}h({...f,status:T})},E=T=>{T.preventDefault();const A=[];let N=f.order;const k=f.routeId!==e.routeId,P=f.targetOrderPosition!=="current";if(!k&&!P){A.push({...e,...f}),o(A);return}(k||P)&&(f.targetOrderPosition==="last"||f.targetOrderPosition==="current"?N=g.length+1:(N=parseInt(f.targetOrderPosition)+1,g.filter(O=>O.order>=N).forEach(O=>{A.push({...O,order:O.order+1})}))),k&&t.filter(O=>O.routeId===e.routeId&&O.status==="Active"&&O.id!==e.id).sort((O,B)=>O.order-B.order).forEach((O,B)=>{O.order!==B+1&&A.push({...O,order:B+1})}),A.push({...e,...f,order:N}),o(A)};return p.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fadeIn pb-20",children:[p.jsxs("header",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:l,className:"p-2 hover:bg-slate-100 rounded-xl transition text-slate-600",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Editar Perfil de Cliente"}),p.jsx("p",{className:"text-slate-500 font-medium",children:"Gestin de ubicacin y estado operativo"})]})]}),u&&p.jsxs("div",{className:`p-4 rounded-2xl border flex items-center gap-3 animate-slideDown ${u.type==="error"?"bg-rose-50 border-rose-100 text-rose-700":"bg-emerald-50 border-emerald-100 text-emerald-700"}`,children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:u.type==="error"?p.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"}):p.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),p.jsx("p",{className:"text-sm font-black uppercase tracking-widest",children:u.message})]}),p.jsx("div",{className:"bg-white rounded-[2.5rem] shadow-sm border border-slate-200 overflow-hidden",children:p.jsxs("form",{onSubmit:E,className:"p-6 md:p-10 space-y-8 md:space-y-10",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between bg-slate-50 p-6 rounded-[2rem] border border-slate-100 gap-6",children:[p.jsxs("div",{className:"w-full sm:w-auto",children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Estado de Cuenta"}),p.jsxs("p",{className:"text-xs font-bold text-slate-500 mt-1",children:["Saldo Actual: ",p.jsxs("span",{className:y>0?"text-rose-600":"text-emerald-600",children:["$",y.toLocaleString()]})]})]}),b?p.jsxs("div",{className:"flex w-full sm:w-auto bg-white p-1.5 rounded-2xl border border-slate-200 gap-1 shadow-inner",children:[p.jsx("button",{type:"button",onClick:()=>S("Active"),className:`flex-1 sm:flex-none px-4 md:px-8 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${f.status==="Active"?"bg-emerald-600 text-white shadow-lg":"text-slate-400 hover:bg-slate-50"}`,children:"Activo"}),p.jsx("button",{type:"button",onClick:()=>S("Inactive"),className:`flex-1 sm:flex-none px-4 md:px-8 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${f.status==="Inactive"?"bg-rose-600 text-white shadow-lg":y>0?"text-rose-300 cursor-not-allowed opacity-50":"text-slate-400 hover:bg-slate-50"}`,children:"Inactivo"})]}):p.jsx("div",{className:"px-6 py-3 bg-white rounded-2xl border border-slate-200 shadow-sm",children:p.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${f.status==="Active"?"text-emerald-600":"text-rose-600"}`,children:f.status==="Active"?"CLIENTE ACTIVO":"CLIENTE INACTIVO"})})]}),p.jsx("section",{className:"space-y-6",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Cdula / Identificacin (Inalterable)"}),p.jsx("input",{value:f.dni,disabled:!0,className:"w-full bg-slate-100 border border-slate-200 rounded-2xl px-6 py-4 outline-none font-bold text-slate-400 cursor-not-allowed shadow-inner"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Nombre Completo (Inalterable)"}),p.jsx("input",{value:f.name,disabled:!0,className:"w-full bg-slate-100 border border-slate-200 rounded-2xl px-6 py-4 outline-none font-bold text-slate-400 cursor-not-allowed shadow-inner"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Alias / Apodo Operativo"}),p.jsx("input",{type:"text",value:f.alias,onChange:T=>h({...f,alias:T.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-4 focus:ring-emerald-50 font-bold text-slate-700 transition",required:!0})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Telfono Mvil"}),p.jsx("input",{type:"text",value:f.phone,onChange:T=>h({...f,phone:T.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-4 focus:ring-emerald-50 font-bold text-slate-700 transition",required:!0})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Ruta Asignada"}),p.jsx("select",{value:f.routeId,onChange:T=>h({...f,routeId:T.target.value,targetOrderPosition:"last"}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-4 focus:ring-emerald-50 font-bold text-slate-700 transition appearance-none cursor-pointer",required:!0,children:n.map(T=>p.jsx("option",{value:T.id,children:T.name},T.id))})]}),f.status==="Active"&&p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Reubicar Orden en Ruta"}),p.jsxs("div",{className:"relative",children:[p.jsxs("select",{value:f.targetOrderPosition,onChange:T=>h({...f,targetOrderPosition:T.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-4 focus:ring-emerald-50 font-bold text-slate-700 transition appearance-none cursor-pointer",children:[p.jsx("option",{value:"current",className:"font-black text-indigo-700",children:"-- MANTENER POSICIN ACTUAL --"}),p.jsx("option",{value:"last",className:"font-bold",children:"MOVER AL FINAL DE LA RUTA"}),g.map((T,A)=>p.jsxs("option",{value:A,children:["Posicin ",A+1," - Antes de: ",T.name]},T.id))]}),p.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),p.jsxs("div",{className:"md:col-span-2 space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Direccin Exacta de Cobro"}),p.jsx("input",{type:"text",value:f.address,onChange:T=>h({...f,address:T.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-4 focus:ring-emerald-50 font-bold text-slate-700 transition",required:!0})]})]})}),p.jsxs("div",{className:"pt-6 md:pt-10 flex flex-col md:flex-row gap-4",children:[p.jsx("button",{type:"submit",className:"w-full md:flex-1 bg-emerald-600 hover:bg-emerald-700 text-white font-black px-8 py-5 rounded-3xl shadow-xl transition transform hover:-translate-y-1 active:scale-95 uppercase tracking-widest",children:"Actualizar Perfil"}),p.jsx("button",{type:"button",onClick:l,className:"w-full md:flex-1 bg-slate-100 hover:bg-slate-200 text-slate-600 font-black px-8 py-5 rounded-3xl transition active:scale-95 uppercase tracking-widest",children:"Descartar"})]})]})})]})},cse=({routes:e,clients:t,currentUser:n,onSave:r,onCancel:i})=>{var g;const[o,l]=C.useState({dni:"",name:"",alias:"",address:"",phone:"",routeId:((g=e[0])==null?void 0:g.id)||"",insertPosition:"last"}),[u,d]=C.useState(null),f=C.useMemo(()=>t.filter(y=>y.routeId===o.routeId&&y.status==="Active").sort((y,b)=>y.order-b.order),[t,o.routeId]),h=y=>{if(y.preventDefault(),d(null),t.some(T=>T.dni===o.dni)){d({type:"error",message:"Ya existe un cliente registrado con este DNI."});return}let b=f.length+1;const S=[];if(o.insertPosition!=="last"){const T=parseInt(o.insertPosition);isNaN(T)||(b=T+1,f.filter(N=>N.order>=b).forEach(N=>{S.push({...N,order:N.order+1})}))}const E={id:"c"+Date.now(),businessId:n.businessId,...o,order:b,status:"Active"};S.push(E),r(S),d({type:"success",message:"Cliente registrado y ruta reordenada exitosamente"}),setTimeout(i,1500)};return p.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fadeIn pb-20",children:[p.jsxs("header",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-100 rounded-xl transition text-slate-600",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Registro de Cliente"}),p.jsx("p",{className:"text-slate-500 font-medium",children:"Ingrese los datos bsicos para iniciar la gestin"})]})]}),u&&p.jsxs("div",{className:`p-4 rounded-2xl border flex items-center gap-3 animate-slideDown ${u.type==="error"?"bg-rose-50 border-rose-100 text-rose-700":"bg-emerald-50 border-emerald-100 text-emerald-700"}`,children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:u.type==="error"?p.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"}):p.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),p.jsx("p",{className:"text-sm font-black uppercase tracking-widest",children:u.message})]}),p.jsx("div",{className:"bg-white rounded-[2.5rem] shadow-sm border border-slate-200 overflow-hidden",children:p.jsxs("form",{onSubmit:h,className:"p-10 space-y-10",children:[p.jsxs("section",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("div",{className:"w-10 h-10 bg-indigo-100 text-indigo-600 rounded-xl flex items-center justify-center font-black",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"})})}),p.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-widest text-sm",children:"Informacin Personal"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Nmero de Identificacin (DNI)"}),p.jsx("input",{type:"text",value:o.dni,onChange:y=>l({...o,dni:y.target.value}),placeholder:"Ej: 102030",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-4 focus:ring-indigo-100 outline-none transition font-bold text-slate-700",required:!0})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Nombre Completo"}),p.jsx("input",{type:"text",value:o.name,onChange:y=>l({...o,name:y.target.value}),placeholder:"Ej: Juan Prez",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-4 focus:ring-indigo-100 outline-none transition font-bold text-slate-700",required:!0})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Alias o Referencia"}),p.jsx("input",{type:"text",value:o.alias,onChange:y=>l({...o,alias:y.target.value}),placeholder:"Ej: El de la tienda",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-4 focus:ring-indigo-100 outline-none transition font-bold text-slate-700",required:!0})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Telfono Mvil"}),p.jsx("input",{type:"text",value:o.phone,onChange:y=>l({...o,phone:y.target.value}),placeholder:"Ej: 3001234567",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-4 focus:ring-indigo-100 outline-none transition font-bold text-slate-700",required:!0})]})]})]}),p.jsxs("section",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("div",{className:"w-10 h-10 bg-emerald-100 text-emerald-600 rounded-xl flex items-center justify-center font-black",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),p.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-widest text-sm",children:"Logstica de Cobro"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"md:col-span-2 space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Direccin Exacta"}),p.jsx("input",{type:"text",value:o.address,onChange:y=>l({...o,address:y.target.value}),placeholder:"Ej: Carrera 10 #20-30 Barrio Centro",className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-4 focus:ring-indigo-100 outline-none transition font-bold text-slate-700",required:!0})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Ruta de Asignacin"}),p.jsx("select",{value:o.routeId,onChange:y=>l({...o,routeId:y.target.value,insertPosition:"last"}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-4 focus:ring-indigo-100 outline-none transition font-bold text-slate-700 cursor-pointer appearance-none",required:!0,children:e.map(y=>p.jsx("option",{value:y.id,children:y.name},y.id))})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Posicin de Visita"}),p.jsxs("div",{className:"relative",children:[p.jsxs("select",{value:o.insertPosition,onChange:y=>l({...o,insertPosition:y.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-6 py-4 focus:ring-4 focus:ring-indigo-100 outline-none transition font-bold text-slate-700 cursor-pointer appearance-none",children:[p.jsxs("option",{value:"last",className:"font-black",children:["AL FINAL (Orden: ",f.length+1,")"]}),f.map((y,b)=>p.jsxs("option",{value:b,children:["Posicin ",b+1," - Antes de: ",y.name]},y.id))]}),p.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),p.jsx("p",{className:"text-[9px] text-slate-400 px-2 mt-1",children:'Seleccione "Antes de..." para insertar en la ruta. Los dems clientes se desplazarn automticamente.'})]})]})]}),p.jsxs("div",{className:"pt-10 flex flex-col md:flex-row gap-4",children:[p.jsx("button",{type:"submit",className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white font-black px-8 py-5 rounded-3xl shadow-xl transition transform hover:-translate-y-1 active:scale-95 uppercase tracking-widest",children:"Registrar Ahora"}),p.jsx("button",{type:"button",onClick:i,className:"flex-1 bg-slate-100 hover:bg-slate-200 text-slate-600 font-black px-8 py-5 rounded-3xl transition transform active:scale-95 uppercase tracking-widest text-xs",children:"Cancelar Registro"})]})]})})]})},dse=({user:e,users:t,onUpdate:n})=>{const[r,i]=C.useState({name:"",dni:"",phoneCode:"+57",phoneNumber:"",address:"",username:"",businessName:"",country:"Colombia",city:"",currentPassword:"",newPassword:"",confirmPassword:""}),[o,l]=C.useState("general"),[u,d]=C.useState(null),f=C.useMemo(()=>{const y={};return xu.forEach(b=>{y[b.continent]||(y[b.continent]=[]),y[b.continent].push(b)}),y},[]);C.useEffect(()=>{let y="+57",b=e.phone;if(e.phone.includes(" ")){const S=e.phone.split(" ");S.length>1&&S[0].startsWith("+")&&(y=S[0],b=S.slice(1).join(" "))}i(S=>({...S,name:e.name,dni:e.dni,phoneCode:y,phoneNumber:b,address:e.address,username:e.username,businessName:e.businessName||"",country:e.country||"Colombia",city:e.city||"",currentPassword:"",newPassword:"",confirmPassword:""}))},[e]);const h=e.role===Nn.ADMIN,g=y=>{y.preventDefault(),d(null);let b={...e};const S=`${r.phoneCode} ${r.phoneNumber}`;if(o==="general")b={...b,phone:S,address:r.address,country:r.country,city:r.city,...h&&{businessName:r.businessName}},n(b),d({type:"success",message:"Datos personales actualizados correctamente."});else if(o==="security"){if(r.username!==e.username&&t.some(N=>N.username===r.username&&N.id!==e.id)){d({type:"error",message:"Error: El nuevo correo electrnico ya est registrado."});return}if(!r.currentPassword){d({type:"error",message:"Seguridad: Debe ingresar su contrasea actual."});return}if(!gD(r.currentPassword,e.password||"")){d({type:"error",message:"Error: La contrasea actual ingresada es incorrecta."});return}let T=e.password;if(r.newPassword||r.confirmPassword){if(r.newPassword!==r.confirmPassword){d({type:"error",message:"Error: La nueva contrasea y la confirmacin no coinciden."});return}if(r.newPassword.length<6){d({type:"error",message:"Error: La nueva contrasea debe tener al menos 6 caracteres."});return}T=mD(r.newPassword)}b={...b,username:r.username,password:T},n(b),i(A=>({...A,currentPassword:"",newPassword:"",confirmPassword:""})),d({type:"success",message:"Credenciales de seguridad actualizadas con xito."})}};return p.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-fadeIn pb-20",children:[p.jsxs("header",{children:[p.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Mi Perfil"}),p.jsx("p",{className:"text-slate-500 font-medium",children:"Administra tu informacin personal y credenciales de acceso."})]}),u&&p.jsxs("div",{className:`p-4 rounded-2xl border flex items-center gap-3 animate-slideDown ${u.type==="error"?"bg-rose-50 border-rose-100 text-rose-600":"bg-emerald-50 border-emerald-100 text-emerald-600"}`,children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.type==="error"?p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}):p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),p.jsx("p",{className:"text-xs font-black uppercase tracking-widest",children:u.message})]}),p.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-xl border border-slate-200 overflow-hidden flex flex-col md:flex-row min-h-[600px]",children:[p.jsxs("div",{className:"w-full md:w-64 bg-slate-50 border-b md:border-b-0 md:border-r border-slate-200 p-6 md:p-8 flex flex-row md:flex-col gap-2 overflow-x-auto",children:[p.jsxs("button",{type:"button",onClick:()=>{l("general"),d(null)},className:`flex items-center gap-3 px-4 py-3 rounded-xl text-left transition-all whitespace-nowrap ${o==="general"?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-100 hover:text-indigo-600"}`,children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),p.jsx("span",{className:"font-black text-xs uppercase tracking-widest",children:"Datos Generales"})]}),p.jsxs("button",{type:"button",onClick:()=>{l("security"),d(null)},className:`flex items-center gap-3 px-4 py-3 rounded-xl text-left transition-all whitespace-nowrap ${o==="security"?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-100 hover:text-indigo-600"}`,children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),p.jsx("span",{className:"font-black text-xs uppercase tracking-widest",children:"Seguridad"})]})]}),p.jsx("div",{className:"flex-1 p-8 md:p-12 bg-white",children:p.jsxs("form",{onSubmit:g,className:"space-y-8 w-full",children:[o==="general"&&p.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"text-xl font-black text-slate-800 mb-6 flex items-center gap-2",children:["Informacin Personal",p.jsx("span",{className:"bg-slate-100 text-slate-500 text-[9px] px-2 py-1 rounded-md uppercase tracking-wider",children:h?"Administrador":"Cobrador"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsx(hi,{label:"Nombre Completo",value:r.name,onChange:y=>i({...r,name:y}),required:!0,disabled:!0}),p.jsx(hi,{label:"Identificacin (DNI)",value:r.dni,onChange:y=>i({...r,dni:y}),required:!0,disabled:!0}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Telfono Mvil"}),p.jsxs("div",{className:"flex gap-3",children:[p.jsxs("div",{className:"relative w-32 md:w-40 shrink-0",children:[p.jsx("select",{value:r.phoneCode,onChange:y=>i({...r,phoneCode:y.target.value}),className:"w-full bg-white border border-slate-200 rounded-2xl pl-4 pr-8 py-4 appearance-none font-bold text-slate-800 text-base focus:ring-4 focus:ring-indigo-50 outline-none transition cursor-pointer shadow-inner truncate",children:xu.map(y=>p.jsxs("option",{value:y.dial_code,children:[y.flag," ",y.dial_code]},y.code))}),p.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),p.jsx("input",{value:r.phoneNumber,onChange:y=>i({...r,phoneNumber:y.target.value}),placeholder:"300 123 4567",className:"flex-1 w-full bg-white border border-slate-200 rounded-2xl px-4 py-4 focus:ring-4 focus:ring-indigo-50 outline-none transition font-bold text-slate-800 text-base shadow-inner min-w-0",required:!0})]})]}),p.jsx(hi,{label:"Direccin Residencia",value:r.address,onChange:y=>i({...r,address:y}),required:!0})]})]}),p.jsxs("div",{className:"pt-6 border-t border-slate-100",children:[p.jsx("h3",{className:"text-xl font-black text-slate-800 mb-6 flex items-center gap-2",children:"Ubicacin y Operacin"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h&&p.jsx("div",{className:"md:col-span-2",children:p.jsx(hi,{label:"Razn Social / Negocio",value:r.businessName,onChange:y=>i({...r,businessName:y}),required:!0})}),p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Pas"}),p.jsxs("div",{className:"relative",children:[p.jsxs("select",{value:r.country,onChange:y=>i({...r,country:y.target.value}),className:"w-full bg-white border border-slate-200 rounded-2xl p-4 appearance-none font-bold text-slate-800 text-sm focus:ring-4 focus:ring-indigo-50 outline-none transition cursor-pointer shadow-inner",required:!0,children:[p.jsx("option",{value:"",children:"Seleccione..."}),Object.entries(f).map(([y,b])=>p.jsx("optgroup",{label:y,className:"font-bold text-indigo-900",children:b.map(S=>p.jsx("option",{value:S.name,children:S.name},S.code))},y))]}),p.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),p.jsx(hi,{label:"Ciudad Principal",value:r.city,onChange:y=>i({...r,city:y}),required:!0})]})]})]}),o==="security"&&p.jsx("div",{className:"space-y-8 animate-fadeIn",children:p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black text-slate-800 mb-6",children:"Credenciales de Acceso"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-amber-50 border border-amber-100 p-4 rounded-2xl flex gap-3 text-amber-700 mb-6",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),p.jsx("p",{className:"text-xs font-bold leading-relaxed",children:"Para actualizar su correo electrnico o contrasea, es obligatorio verificar su identidad ingresando su contrasea actual."})]}),p.jsx(hi,{label:"Correo Electrnico (Usuario)",value:r.username,onChange:y=>i({...r,username:y}),type:"email",required:!0}),p.jsxs("div",{className:"py-4 border-t border-slate-100",children:[p.jsx("h4",{className:"text-sm font-black text-slate-700 mb-4",children:"Cambio de Contrasea"}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-200",children:p.jsx(hi,{label:"Contrasea Actual (Obligatorio)",value:r.currentPassword,onChange:y=>i({...r,currentPassword:y}),type:"password",placeholder:"Ingrese su clave actual para confirmar cambios",required:!0})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(hi,{label:"Nueva Contrasea",value:r.newPassword,onChange:y=>i({...r,newPassword:y}),type:"password",placeholder:"Min. 6 caracteres"}),p.jsx(hi,{label:"Confirmar Nueva Contrasea",value:r.confirmPassword,onChange:y=>i({...r,confirmPassword:y}),type:"password",placeholder:"Repita la nueva clave"})]})]})]})]})]})}),p.jsx("div",{className:"pt-2",children:p.jsx("button",{type:"submit",className:"bg-slate-900 hover:bg-indigo-600 text-white px-10 py-4 rounded-2xl font-black uppercase tracking-[0.2em] text-xs shadow-xl transition-all transform active:scale-95",children:o==="general"?"Guardar Datos Personales":"Actualizar Credenciales"})})]})})]})]})},hi=({label:e,value:t,onChange:n,type:r="text",placeholder:i,required:o,className:l,disabled:u})=>p.jsxs("div",{className:`space-y-1.5 ${l}`,children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:e}),p.jsx("input",{type:r,value:t,onChange:d=>n(d.target.value),placeholder:i,disabled:u,className:`w-full border border-slate-200 rounded-2xl px-5 py-4 focus:ring-4 focus:ring-indigo-50 outline-none transition font-bold text-slate-800 text-sm shadow-inner ${u?"bg-slate-100 text-slate-500 cursor-not-allowed":"bg-white"}`,required:o})]}),fse=({clients:e,credits:t,users:n,user:r,routes:i,onPayment:o,onViewDetails:l,onViewVisits:u,onEditClient:d,initialSearchTerm:f="",onSearchChange:h})=>{const[g,y]=C.useState(f),[b,S]=C.useState("todos"),[E,T]=C.useState({isOpen:!1}),[A,N]=C.useState(0);C.useEffect(()=>{y(f)},[f]);const k=U=>{const L=U.target.value;y(L),h&&h(L)},P=U=>{if(U.status==="Lost")return{isFinished:!1,pendingCount:0,status:"perdidos",isCurrentlyOverdue:!1,isLost:!0};const L=U.totalPaid>=U.totalToPay||U.status==="Completed";let q=0;const z=new Date(Qe+"T00:00:00"),F=new Date(U.startDate+"T00:00:00");if(U.frequency==="Daily"){const J=Gu(U.startDate,Qe),ce=z.getDay()!==0;q=Math.max(0,J-(ce?1:0))}else{const J=z.getTime()-F.getTime(),ce=Math.floor(J/(1e3*60*60*24));let pe=30;U.frequency==="Weekly"&&(pe=7);const se=Math.floor(ce/pe);q=ce%pe===0?Math.max(0,se-1):se}const ne=Math.min(U.totalInstallments,q)*U.installmentValue,X=!L&&U.totalPaid<ne,oe=U.totalInstallments-U.paidInstallments;let V="todos";return L?V="pagados":X?V="mora":oe===1?V="falta1":oe>0&&oe<=3&&(V="falta3"),{isFinished:L,pendingCount:oe,status:V,isCurrentlyOverdue:X,isLost:!1}},O=C.useMemo(()=>t.map(U=>{const L=e.find(oe=>oe.id===U.clientId);if(!L)return null;const q=i.find(oe=>oe.id===L.routeId),z=q?q.name:"Sin Ruta",F=n.filter(oe=>oe.role===Nn.COLLECTOR&&oe.routeIds.includes(L.routeId)),ne=F.length>0?F[0].name:"Sin asignar",X=P(U);return{client:L,credit:U,collectorName:ne,routeName:z,info:X}}).filter(U=>{if(!U)return!1;const L=g.toLowerCase().trim();return U.client.name.toLowerCase().includes(L)||U.client.alias.toLowerCase().includes(L)||U.client.dni.includes(L)||U.credit.id.toLowerCase().includes(L)?b==="todos"?g?!0:!U.info.isLost&&!U.info.isFinished:U.info.status===b:!1}),[e,t,n,i,g,b]).filter(U=>!U.info.isFinished&&!U.info.isLost),B=t.map(U=>{const L=e.find(J=>J.id===U.clientId);if(!L)return null;const q=P(U);if(!q.isFinished)return null;const z=i.find(J=>J.id===L.routeId),F=z?z.name:"Sin Ruta",ne=n.filter(J=>J.role===Nn.COLLECTOR&&J.routeIds.includes(L.routeId)),X=ne.length>0?ne[0].name:"Sin asignar",oe=g.toLowerCase().trim();return L.name.toLowerCase().includes(oe)||L.alias.toLowerCase().includes(oe)||L.dni.includes(oe)?{client:L,credit:U,collectorName:X,routeName:F,info:q}:null}).filter(U=>!!U),K=t.map(U=>{const L=e.find(J=>J.id===U.clientId);if(!L)return null;const q=P(U);if(!q.isLost)return null;const z=i.find(J=>J.id===L.routeId),F=z?z.name:"Sin Ruta",ne=n.filter(J=>J.role===Nn.COLLECTOR&&J.routeIds.includes(L.routeId)),X=ne.length>0?ne[0].name:"Sin asignar",oe=g.toLowerCase().trim();return L.name.toLowerCase().includes(oe)||L.alias.toLowerCase().includes(oe)||L.dni.includes(oe)?{client:L,credit:U,collectorName:X,routeName:F,info:q}:null}).filter(U=>!!U),D=(U,L)=>{L.status!=="Lost"&&(L.totalPaid>=L.totalToPay||(T({isOpen:!0,client:U,credit:L}),N(0)))},G=()=>{E.credit&&A>=0&&(o(E.credit.id,A),T({isOpen:!1}))},$=(U,L)=>{o(U,L)},M=(U,L)=>L==="perdidos"?"bg-rose-50 border-rose-300 shadow-md opacity-80":U?"bg-emerald-100/90 border-emerald-500 shadow-md shadow-emerald-100/50":L==="mora"?"bg-purple-100 border-purple-500 shadow-md shadow-purple-100/50":L==="falta1"?"bg-rose-100 border-rose-500 shadow-md shadow-rose-100/50":L==="falta3"?"bg-amber-100 border-amber-500 shadow-md shadow-amber-100/50":"bg-white border-slate-200 hover:border-indigo-300";return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-6 animate-fadeIn pb-10",children:[p.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Gestin de Crditos"}),p.jsx("p",{className:"text-slate-500 font-medium",children:"Historial completo por obligacin financiera"})]}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"text",placeholder:"Buscar por nombre, DNI o ID...",className:"pl-12 pr-12 py-3.5 bg-white border border-slate-200 rounded-2xl w-full md:w-80 shadow-sm focus:ring-4 focus:ring-indigo-50 outline-none font-bold text-slate-700 transition-all",value:g,onChange:k}),p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 absolute left-4 top-4 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),p.jsxs("div",{className:"flex flex-wrap gap-3 mb-8",children:[p.jsx(nf,{color:"bg-indigo-500",label:"Activos",active:b==="todos",onClick:()=>S("todos")}),p.jsx(nf,{color:"bg-purple-600",label:"En Mora",active:b==="mora",onClick:()=>S("mora")}),p.jsx(nf,{color:"bg-rose-600",label:"Falta 1 Cuota",active:b==="falta1",onClick:()=>S("falta1")}),p.jsx(nf,{color:"bg-amber-500",label:"Faltan <= 3 Cuotas",active:b==="falta3",onClick:()=>S("falta3")})]}),b!=="pagados"&&b!=="perdidos"&&p.jsxs("section",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3 px-2",children:[p.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em]",children:"Obligaciones Pendientes"}),p.jsx("div",{className:"flex-1 h-px bg-slate-100"})]}),p.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[O.map(U=>p.jsx(Mv,{...U,onOpenModal:D,onQuickPayment:$,onViewDetails:l,onViewVisits:u,onEditClient:d,cardStyle:M(!1,U.info.status)},U.credit.id)),O.length===0&&p.jsx("div",{className:"py-10 text-center text-slate-400 italic text-sm",children:"No hay crditos activos para este filtro."})]})]}),(b==="todos"||b==="pagados")&&B.length>0&&p.jsxs("section",{className:"space-y-4 mt-10",children:[p.jsxs("div",{className:"flex items-center gap-3 px-2",children:[p.jsx("h3",{className:"text-xs font-black text-emerald-600 uppercase tracking-[0.2em]",children:"Crditos Liquidados"}),p.jsx("div",{className:"flex-1 h-px bg-emerald-200"})]}),p.jsx("div",{className:"grid grid-cols-1 gap-4",children:B.map(U=>p.jsx(Mv,{...U,onOpenModal:D,onQuickPayment:$,onViewDetails:l,onViewVisits:u,onEditClient:d,cardStyle:M(!0,"pagados")},U.credit.id))})]}),(b==="todos"||b==="perdidos")&&K.length>0&&p.jsxs("section",{className:"space-y-4 mt-10",children:[p.jsxs("div",{className:"flex items-center gap-3 px-2",children:[p.jsx("h3",{className:"text-xs font-black text-rose-600 uppercase tracking-[0.2em]",children:"Crditos Perdidos (Incobrables)"}),p.jsx("div",{className:"flex-1 h-px bg-rose-200"})]}),p.jsx("div",{className:"grid grid-cols-1 gap-4",children:K.map(U=>p.jsx(Mv,{...U,onOpenModal:()=>{},onQuickPayment:()=>{},onViewDetails:l,onViewVisits:u,onEditClient:d,cardStyle:M(!1,"perdidos"),isLost:!0},U.credit.id))})]})]}),E.isOpen&&E.client&&E.credit&&p.jsx(hse,{client:E.client,credit:E.credit,amount:A,setAmount:N,onClose:()=>T({isOpen:!1}),onConfirm:G})]})},nf=({color:e,label:t,active:n,onClick:r})=>p.jsxs("button",{onClick:r,className:`flex items-center gap-2 px-4 py-2 rounded-full border transition-all shadow-sm ${n?"bg-indigo-600 border-indigo-600 text-white shadow-lg":"bg-white border-slate-200 text-slate-500 hover:border-slate-300"}`,children:[p.jsx("div",{className:`w-2 h-2 rounded-full ${n?"bg-white":e}`}),p.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:t})]}),Mv=({client:e,credit:t,collectorName:n,routeName:r,info:i,onOpenModal:o,onQuickPayment:l,onViewDetails:u,onViewVisits:d,onEditClient:f,cardStyle:h,isLost:g})=>{const[y,b]=C.useState(null),S=Math.max(0,t.totalToPay-t.totalPaid),E=t.totalPaid%t.installmentValue,T=Math.max(0,t.installmentValue-E);let A=0;if(t.frequency==="Daily"){A=Gu(t.startDate,Qe);const O=new Date(Qe+"T00:00:00").getDay()!==0;A=Math.max(0,A-(O?1:0))}else{const R=new Date(Qe+"T00:00:00"),O=new Date(t.startDate+"T00:00:00"),B=Math.floor((R.getTime()-O.getTime())/(1e3*60*60*24));let K=30;t.frequency==="Weekly"&&(K=7);const D=Math.floor(B/K);A=B%K===0?Math.max(0,D-1):D}const N=Math.min(t.totalInstallments,A)*t.installmentValue,k=Math.max(0,N-t.totalPaid),P=(R,O)=>{l(t.id,R),b(O),setTimeout(()=>{b(null)},3e3)};return p.jsxs("div",{onClick:()=>u(t.id),className:`${h} cursor-pointer p-5 border-2 rounded-[2.5rem] flex flex-col xl:flex-row xl:items-center justify-between gap-6 transition-all hover:translate-x-1 shadow-sm group relative`,children:[p.jsxs("div",{className:"flex items-center gap-5 min-w-0 xl:w-1/3",children:[p.jsx("button",{onClick:R=>{R.stopPropagation(),f(e.id)},className:"w-12 h-12 rounded-2xl bg-white shadow-sm flex items-center justify-center text-slate-400 hover:text-indigo-600 transition-all border border-slate-100 shrink-0 relative z-10",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),p.jsxs("div",{className:"truncate",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[p.jsx("h4",{className:"font-black text-slate-900 text-lg md:text-xl truncate",children:e.name}),p.jsx("span",{className:"bg-white/80 px-2.5 py-1 rounded-lg text-[9px] font-black text-slate-500 border border-slate-200 uppercase tracking-tighter shadow-xs",children:e.alias}),g&&p.jsx("span",{className:"bg-rose-600 text-white px-2 py-1 rounded text-[8px] font-black uppercase",children:"PERDIDO"})]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1",children:[p.jsxs("p",{className:"text-[10px] font-bold text-slate-600/70 uppercase tracking-widest",children:["DNI: ",p.jsx("span",{className:"text-slate-800",children:e.dni})]}),p.jsx("div",{className:"w-1.5 h-1.5 bg-black/10 rounded-full"}),p.jsxs("p",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-wider",children:["ID: ",p.jsxs("span",{className:"text-slate-700",children:["#",t.id.slice(-6).toUpperCase()]})]})]})]})]}),p.jsx("div",{className:"flex-1 min-w-0 relative",onClick:R=>R.stopPropagation(),children:!i.isFinished&&!g?y?p.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-emerald-50 rounded-2xl border border-emerald-100 animate-slideUp z-20 shadow-sm",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 bg-emerald-500 rounded-full flex items-center justify-center text-white shadow-lg animate-bounce",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),p.jsx("p",{className:"text-emerald-700 font-black uppercase text-[10px] tracking-widest",children:y})]})}):p.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 transition-opacity duration-300",children:[p.jsxs("button",{onClick:()=>P(0,"Visita Registrada"),className:"flex flex-col items-center justify-center p-2 bg-slate-50 border border-slate-200 hover:border-indigo-400 hover:bg-indigo-50 rounded-xl transition-all group/btn",children:[p.jsx("span",{className:"text-[8px] font-black uppercase text-slate-400 group-hover/btn:text-indigo-500",children:"NO PAGA"}),p.jsx("span",{className:"text-sm font-black text-slate-700 group-hover/btn:text-indigo-700",children:"$0"})]}),p.jsxs("button",{onClick:()=>P(T,"Pago Recibido"),className:"flex flex-col items-center justify-center p-2 bg-indigo-50 border border-indigo-100 hover:bg-indigo-600 hover:border-indigo-600 rounded-xl transition-all group/btn",children:[p.jsx("span",{className:"text-[8px] font-black uppercase text-indigo-400 group-hover/btn:text-indigo-200",children:"CUOTA"}),p.jsxs("span",{className:"text-sm font-black text-indigo-700 group-hover/btn:text-white",children:["$",T.toLocaleString()]})]}),k>0?p.jsxs("button",{onClick:()=>P(k,"Mora Saldada"),className:"flex flex-col items-center justify-center p-2 bg-rose-50 border border-rose-100 hover:bg-rose-600 hover:border-rose-600 rounded-xl transition-all group/btn",children:[p.jsx("span",{className:"text-[8px] font-black uppercase text-rose-400 group-hover/btn:text-rose-200",children:"MORA"}),p.jsxs("span",{className:"text-sm font-black text-rose-700 group-hover/btn:text-white",children:["$",k.toLocaleString()]})]}):p.jsxs("div",{className:"flex flex-col items-center justify-center p-2 bg-slate-50/50 border border-transparent rounded-xl opacity-50 cursor-default",children:[p.jsx("span",{className:"text-[8px] font-black uppercase text-slate-300",children:"AL DA"}),p.jsx("span",{className:"text-sm font-black text-slate-300",children:"--"})]}),p.jsxs("button",{onClick:()=>P(S,"Crdito Finalizado"),className:"flex flex-col items-center justify-center p-2 bg-emerald-50 border border-emerald-100 hover:bg-emerald-600 hover:border-emerald-600 rounded-xl transition-all group/btn",children:[p.jsx("span",{className:"text-[8px] font-black uppercase text-emerald-500 group-hover/btn:text-emerald-200",children:"SALDO TOTAL"}),p.jsxs("span",{className:"text-sm font-black text-emerald-700 group-hover/btn:text-white",children:["$",S.toLocaleString()]})]})]}):p.jsx("div",{className:"h-full flex items-center justify-center bg-slate-50/50 rounded-2xl border border-slate-100",children:p.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:g?"CRDITO CASTIGADO - GESTIN BLOQUEADA":"CRDITO FINALIZADO - PAZ Y SALVO"})})}),p.jsxs("div",{className:"flex gap-2 shrink-0 z-10 xl:w-auto w-full",children:[!i.isFinished&&!g&&p.jsx("button",{onClick:R=>{R.stopPropagation(),o(e,t)},className:"flex-1 xl:flex-none bg-slate-900 hover:bg-indigo-600 text-white px-6 py-3 rounded-2xl text-xs font-black transition shadow-lg active:scale-95 uppercase tracking-widest",children:"Abonar"}),p.jsx("button",{onClick:R=>{R.stopPropagation(),d(t.id)},className:"flex-1 xl:flex-none bg-white border-2 border-slate-200 text-slate-700 hover:bg-slate-50 px-6 py-3 rounded-2xl text-xs font-black transition shadow-sm active:scale-95 uppercase tracking-widest",children:"Detalle"})]})]})},hse=({client:e,credit:t,amount:n,setAmount:r,onClose:i,onConfirm:o})=>{const l=Math.max(0,t.totalToPay-t.totalPaid);return p.jsx("div",{className:"fixed inset-0 w-full h-full bg-slate-900/90 flex items-center justify-center p-4 z-[9999] backdrop-blur-md animate-fadeIn",children:p.jsxs("div",{className:"bg-white rounded-[2rem] w-full max-w-sm shadow-2xl border border-white animate-slideUp flex flex-col overflow-hidden",children:[p.jsxs("header",{className:"bg-slate-900 p-6 text-center relative shrink-0",children:[p.jsx("button",{onClick:i,className:"absolute right-5 top-5 text-slate-500 hover:text-white transition",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})}),p.jsx("div",{className:"inline-flex items-center gap-2 bg-indigo-500/20 px-3 py-1 rounded-full mb-3 border border-indigo-500/30",children:p.jsxs("span",{className:"text-[9px] font-black text-indigo-300 uppercase tracking-[0.2em]",children:["Crdito #",t.id.slice(-6).toUpperCase()]})}),p.jsx("h3",{className:"text-2xl font-black text-white tracking-tight",children:"Abono Manual"}),p.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px] mt-1",children:e.name})]}),p.jsxs("div",{className:"p-8 space-y-6",children:[p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-end px-2",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em]",children:"Valor a Ingresar"}),p.jsxs("p",{className:"text-[10px] font-black text-indigo-600 uppercase",children:["Debe: $",l.toLocaleString()]})]}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-2xl font-black text-slate-300 group-focus-within:text-indigo-500 transition-colors",children:"$"}),p.jsx("input",{type:"number",min:"0",max:l,autoFocus:!0,value:n||"",onChange:u=>r(Math.max(0,Math.min(l,parseFloat(u.target.value)||0))),className:"w-full bg-slate-50 border-2 border-slate-100 rounded-[2rem] pl-12 pr-6 py-6 font-black text-slate-800 text-4xl outline-none focus:border-indigo-500 focus:ring-8 focus:ring-indigo-50 transition-all shadow-inner text-center",placeholder:"0.00"})]})]}),p.jsxs("div",{className:"flex flex-col gap-3 pt-4",children:[p.jsx("button",{disabled:n<0,onClick:o,className:"w-full font-black py-5 rounded-[2rem] shadow-2xl transition transform active:scale-95 uppercase tracking-[0.2em] text-xs bg-indigo-600 hover:bg-indigo-700 text-white border-b-4 border-indigo-900 disabled:opacity-50 disabled:cursor-not-allowed",children:"Registrar Abono"}),p.jsx("button",{onClick:i,className:"w-full bg-white hover:bg-slate-50 text-slate-400 font-black py-4 rounded-2xl transition uppercase tracking-widest text-[9px] border border-slate-200",children:"Cancelar"})]})]})]})})},mu=e=>typeof e=="string"&&/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e),ix=()=>crypto!=null&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}-${Math.random()}`,pse=()=>{const e=C.useRef(new Map),t=r=>{if(!r)return ix();if(mu(r))return r;const i=e.current.get(r);if(i)return i;const o=ix();return e.current.set(r,o),o};return{mapRef:e,normalizeId:t,normalizeMaybeRouteId:r=>t(r)}},mse=e=>({id:e.id,businessId:e.business_id,name:e.name}),gse=e=>({id:e.id,businessId:e.business_id,routeId:e.route_id,dni:e.dni,name:e.name,alias:e.alias??"",address:e.address??"",phone:e.phone??"",order:e.visit_order??0,status:e.status}),vse=e=>({id:e.id,businessId:e.business_id,clientId:e.client_id,capital:Number(e.capital),totalToPay:Number(e.total_to_pay),installmentValue:Number(e.installment_value),totalInstallments:e.total_installments,paidInstallments:e.paid_installments??0,totalPaid:Number(e.total_paid??0),frequency:e.frequency,startDate:e.start_date,firstPaymentDate:e.first_payment_date||e.start_date,isOverdue:!1,status:e.status}),yse=e=>({id:e.id,businessId:e.business_id,creditId:e.credit_id,date:e.payment_date,amount:Number(e.amount),note:e.note??""}),xse=e=>{var t;return{id:e.id,businessId:e.business_id,date:e.expense_date??((t=e.created_at)==null?void 0:t.slice(0,10))??new Date().toISOString().slice(0,10),routeId:e.route_id,value:Number(e.amount),name:e.name,type:e.category,concept:e.concept??"",proofImage:e.proof_image_url??""}},bse=e=>{var t;return{id:e.id,businessId:e.business_id,routeId:e.route_id,date:e.transaction_date??((t=e.created_at)==null?void 0:t.slice(0,10))??new Date().toISOString().slice(0,10),amount:Number(e.amount),type:e.type,description:e.description??""}},ck=e=>({id:e.id,businessId:e.business_id,username:e.username,name:e.name,dni:e.dni,phone:e.phone??"",address:e.address??"",role:e.role,routeIds:e.route_ids??[],status:e.status,businessName:e.business_name??"",country:e.country??"",city:e.city??""}),wse=e=>({id:e.id,business_id:e.businessId,route_id:e.routeId,dni:e.dni,name:e.name,alias:e.alias||null,address:e.address||null,phone:e.phone||null,visit_order:e.order??0,status:e.status}),_se=e=>({business_id:e.businessId,client_id:e.clientId,capital:e.capital,total_to_pay:e.totalToPay,installment_value:e.installmentValue,total_installments:e.totalInstallments,paid_installments:e.paid_installments??0,total_paid:e.totalPaid??0,frequency:e.frequency,start_date:e.startDate,first_payment_date:e.firstPaymentDate,status:e.status}),Sse=e=>({business_id:e.businessId,credit_id:e.creditId,amount:e.amount,payment_date:e.date,note:e.note||null}),Ese=e=>({id:e.id,business_id:e.businessId,route_id:e.routeId,name:e.name,amount:e.value,category:e.type,concept:e.concept||null,proof_image_url:e.proofImage||null,expense_date:e.date}),Tse=()=>{const[e,t]=C.useState([]),[n,r]=C.useState([]),[i,o]=C.useState([]),[l,u]=C.useState([]),[d,f]=C.useState([]),[h,g]=C.useState([]),[y,b]=C.useState([]),[S,E]=C.useState(null),[T,A]=C.useState("landing"),[N,k]=C.useState("all"),[P,R]=C.useState(null),[O,B]=C.useState(!0),[K,D]=C.useState(null),[G,$]=C.useState(null),[M,U]=C.useState(""),{normalizeId:L}=pse(),q=async se=>{try{const[{data:de},{data:he},{data:Ie},{data:ie},{data:_e},{data:Ce},{data:fe}]=await Promise.all([Tt.from("clients").select("*").eq("business_id",se),Tt.from("credits").select("*").eq("business_id",se),Tt.from("routes").select("*").eq("business_id",se),Tt.from("expenses").select("*").eq("business_id",se),Tt.from("payments").select("*").eq("business_id",se),Tt.from("users").select("*").eq("business_id",se),Tt.from("route_transactions").select("*").eq("business_id",se)]);de&&r(de.map(gse)),he&&o(he.map(vse)),Ie&&g(Ie.map(mse)),ie&&u(ie.map(xse)),_e&&f(_e.map(yse)),Ce&&t(Ce.map(ck)),fe&&b(fe.map(bse))}catch(de){console.error("Error cargando datos:",de)}};C.useEffect(()=>{(async()=>{const de=localStorage.getItem("op_user");if(de)try{const he=JSON.parse(de);E(he),await q(he.businessId),A(he.role==="ADMIN"?"admin_dashboard":"collector_dashboard")}catch{localStorage.removeItem("op_user")}B(!1)})()},[]);const z=async(se,de)=>{R(null),B(!0);const he=se.trim().toLowerCase();try{const{data:Ie,error:ie}=await Tt.from("users").select("*").ilike("username",he).maybeSingle();if(ie){R(`Error de servidor: ${ie.message}`),B(!1);return}if(!Ie){R("El usuario no existe. Verifique su correo o regstrese."),B(!1);return}if(gD(de,Ie.password_hash)){const Ce=ck(Ie);E(Ce),localStorage.setItem("op_user",JSON.stringify(Ce)),await q(Ce.businessId),A(Ce.role===Nn.ADMIN?"admin_dashboard":"collector_dashboard")}else R("Contrasea incorrecta.")}catch{R("Error de conexin.")}finally{B(!1)}},F=()=>{localStorage.removeItem("op_user"),E(null),A("landing")},ne=se=>{se==="credits"&&U(""),A(se)},X=C.useMemo(()=>{const se=de=>N==="all"||de===N;return{clients:n.filter(de=>se(de.routeId)).sort((de,he)=>(de.order??0)-(he.order??0)),credits:i.filter(de=>{const he=n.find(Ie=>Ie.id===de.clientId);return he&&se(he.routeId)}),expenses:l.filter(de=>se(de.routeId)),payments:d.filter(de=>{const he=i.find(ie=>ie.id===de.creditId),Ie=he?n.find(ie=>ie.id===he.clientId):null;return!!(Ie&&se(Ie.routeId))})}},[n,i,l,d,N]),oe=async se=>{if(!S)return;const de=se.map(Ie=>{const ie=mu(Ie.id)?Ie.id:L(Ie.id),_e=mu(Ie.routeId)?Ie.routeId:L(Ie.routeId);return{...Ie,id:ie,routeId:_e,businessId:S.businessId}});r(Ie=>{const ie=new Map(Ie.map(_e=>[_e.id,_e]));return de.forEach(_e=>ie.set(_e.id,_e)),Array.from(ie.values())});const he=de.map(wse);await Tt.from("clients").upsert(he,{onConflict:"id"}),await q(S.businessId)},V=async()=>{S&&await q(S.businessId)},J=async()=>{S&&await q(S.businessId)},ce=async()=>{S&&await q(S.businessId)},pe=()=>{if(!S)return null;switch(T){case"admin_dashboard":return p.jsx(PI,{navigate:ne,user:S,routes:h,selectedRouteId:N,stats:{clients:X.clients,credits:X.credits,expenses:X.expenses}});case"collector_dashboard":return p.jsx(oie,{navigate:ne,user:S,routes:h,stats:{clients:X.clients,credits:X.credits,expenses:X.expenses}});case"credits":return p.jsx(fse,{clients:X.clients,credits:X.credits,users:e,user:S,routes:h,initialSearchTerm:M,onSearchChange:U,onPayment:async(se,de)=>{const he={id:ix(),businessId:S.businessId,creditId:se,date:new Date().toISOString(),amount:de};await Tt.from("payments").insert(Sse(he)),await q(S.businessId)},onViewDetails:se=>{$(se),A("credit_details")},onViewVisits:se=>{$(se),A("credit_visits")},onEditClient:se=>{D(se),A("edit_client")}});case"client_management":return p.jsx(pie,{clients:X.clients,allClients:n,routes:h,user:S,selectedRouteId:N,onEditClient:se=>{D(se),A("edit_client")},onDeleteClient:()=>{},onNewClient:()=>A("new_client"),onUpdateClients:oe});case"edit_client":{const se=n.find(he=>he.id===K),de=i.find(he=>he.clientId===K&&he.status==="Active");return p.jsx(use,{client:se,allClients:n,routes:h,credit:de,currentUser:S,onSave:oe,onCancel:()=>A("client_management")})}case"new_client":return p.jsx(cse,{routes:h,clients:n,currentUser:S,onSave:oe,onCancel:()=>A("client_management")});case"new_credit":return p.jsx(mie,{clients:X.clients,user:S,allCredits:i,allExpenses:l,allPayments:d,allTransactions:y,routes:h,onSave:async(se,de)=>{await Tt.from("credits").insert(_se({...de,businessId:S.businessId})),await q(S.businessId),A("credits")}});case"expenses":return p.jsx(gie,{expenses:X.expenses,routes:h,user:S,onAdd:async se=>{const de={...se,id:mu(se.id)?se.id:L(se.id),routeId:mu(se.routeId)?se.routeId:L(se.routeId),businessId:S.businessId};await Tt.from("expenses").insert(Ese(de)),await q(S.businessId)},onDelete:async se=>{await Tt.from("expenses").delete().eq("id",se),u(de=>de.filter(he=>he.id!==se))}});case"routing":return p.jsx(vie,{clients:X.clients,setClients:r,selectedRouteId:N,credits:i,payments:d,onGoToCredit:se=>{U(se),A("credits")}});case"liquidation":return p.jsx(yie,{selectedRouteId:N,credits:i,expenses:l,payments:d,clients:n,routes:h,transactions:y});case"users":return p.jsx(ase,{users:e,routes:h,currentUser:S,onSave:ce});case"routes_mgmt":return p.jsx(ose,{routes:h,users:e,user:S,transactions:y,onSave:V,onAddTransaction:J});case"profile":return p.jsx(dse,{user:S,users:e,onUpdate:se=>E(se)});case"credit_details":{const se=i.find(he=>he.id===G),de=se?n.find(he=>he.id===se.clientId):void 0;return p.jsx(sse,{client:de,credit:se,payments:d.filter(he=>he.creditId===G),onBack:()=>A("credits"),onMarkAsLost:async he=>{await Tt.from("credits").update({status:"Lost"}).eq("id",he),await q(S.businessId),A("credits")}})}case"credit_visits":{const se=i.find(he=>he.id===G),de=se?n.find(he=>he.id===se.clientId):void 0;return p.jsx(lse,{client:de,credit:se,payments:d.filter(he=>he.creditId===G),onBack:()=>A("credits"),onUpdatePayment:async(he,Ie)=>{await Tt.from("payments").update({amount:Ie}).eq("id",he),await q(S.businessId)}})}default:return p.jsx(PI,{navigate:ne,user:S,routes:h,stats:{clients:X.clients,credits:X.credits,expenses:X.expenses},selectedRouteId:N})}};return O?p.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:p.jsxs("div",{className:"flex flex-col items-center gap-6",children:[p.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-[2rem] flex items-center justify-center text-white text-2xl font-black animate-bounce shadow-2xl",children:"O"}),p.jsx("p",{className:"text-white font-black uppercase tracking-[0.4em] text-[10px] animate-pulse",children:"Iniciando Servidores de Produccin..."})]})}):S?p.jsx(x5,{user:S,onLogout:F,navigateTo:ne,currentView:T,routes:h,selectedRouteId:N,onRouteSelect:k,children:pe()}):T==="auth"||T==="register"?p.jsx(R5,{mode:T==="register"?"register":"login",error:P,onLogin:z,onRegister:()=>{},onBack:()=>{R(null),A("landing")},onSwitchMode:se=>{R(null),A(se)},onRecoverInitiate:async()=>!0,onRecoverVerify:()=>!0,onRecoverReset:()=>{},onClearError:()=>R(null)}):p.jsx(k5,{onLogin:()=>A("auth"),onRegister:()=>A("register")})},DD=document.getElementById("root");if(!DD)throw new Error("Could not find root element to mount to");const Ase=y5.createRoot(DD);Ase.render(p.jsx(dk.StrictMode,{children:p.jsx(Tse,{})}));
